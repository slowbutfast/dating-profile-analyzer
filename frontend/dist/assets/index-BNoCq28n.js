var eE=t=>{throw TypeError(t)};var $m=(t,e,n)=>e.has(t)||eE("Cannot "+n);var F=(t,e,n)=>($m(t,e,"read from private field"),n?n.call(t):e.get(t)),Ce=(t,e,n)=>e.has(t)?eE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),de=(t,e,n,r)=>($m(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Ht=(t,e,n)=>($m(t,e,"access private method"),n);var Wd=(t,e,n,r)=>({set _(s){de(t,e,s,n)},get _(){return F(t,e,r)}});function JM(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function CA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var IA={exports:{}},Ep={},PA={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var td=Symbol.for("react.element"),ej=Symbol.for("react.portal"),tj=Symbol.for("react.fragment"),nj=Symbol.for("react.strict_mode"),rj=Symbol.for("react.profiler"),sj=Symbol.for("react.provider"),ij=Symbol.for("react.context"),oj=Symbol.for("react.forward_ref"),aj=Symbol.for("react.suspense"),lj=Symbol.for("react.memo"),cj=Symbol.for("react.lazy"),tE=Symbol.iterator;function uj(t){return t===null||typeof t!="object"?null:(t=tE&&t[tE]||t["@@iterator"],typeof t=="function"?t:null)}var RA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kA=Object.assign,NA={};function jl(t,e,n){this.props=t,this.context=e,this.refs=NA,this.updater=n||RA}jl.prototype.isReactComponent={};jl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};jl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function DA(){}DA.prototype=jl.prototype;function yw(t,e,n){this.props=t,this.context=e,this.refs=NA,this.updater=n||RA}var vw=yw.prototype=new DA;vw.constructor=yw;kA(vw,jl.prototype);vw.isPureReactComponent=!0;var nE=Array.isArray,OA=Object.prototype.hasOwnProperty,ww={current:null},MA={key:!0,ref:!0,__self:!0,__source:!0};function jA(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)OA.call(e,r)&&!MA.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:td,type:t,key:i,ref:o,props:s,_owner:ww.current}}function dj(t,e){return{$$typeof:td,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function _w(t){return typeof t=="object"&&t!==null&&t.$$typeof===td}function hj(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var rE=/\/+/g;function Bm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?hj(""+t.key):e.toString(36)}function Ch(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case td:case ej:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Bm(o,0):r,nE(s)?(n="",t!=null&&(n=t.replace(rE,"$&/")+"/"),Ch(s,e,n,"",function(c){return c})):s!=null&&(_w(s)&&(s=dj(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(rE,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",nE(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Bm(i,a);o+=Ch(i,e,n,l,s)}else if(l=uj(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Bm(i,a++),o+=Ch(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Hd(t,e,n){if(t==null)return t;var r=[],s=0;return Ch(t,r,"","",function(i){return e.call(n,i,s++)}),r}function fj(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var cn={current:null},Ih={transition:null},pj={ReactCurrentDispatcher:cn,ReactCurrentBatchConfig:Ih,ReactCurrentOwner:ww};function VA(){throw Error("act(...) is not supported in production builds of React.")}Te.Children={map:Hd,forEach:function(t,e,n){Hd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Hd(t,function(){e++}),e},toArray:function(t){return Hd(t,function(e){return e})||[]},only:function(t){if(!_w(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Te.Component=jl;Te.Fragment=tj;Te.Profiler=rj;Te.PureComponent=yw;Te.StrictMode=nj;Te.Suspense=aj;Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pj;Te.act=VA;Te.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=kA({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=ww.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)OA.call(e,l)&&!MA.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:td,type:t.type,key:s,ref:i,props:r,_owner:o}};Te.createContext=function(t){return t={$$typeof:ij,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:sj,_context:t},t.Consumer=t};Te.createElement=jA;Te.createFactory=function(t){var e=jA.bind(null,t);return e.type=t,e};Te.createRef=function(){return{current:null}};Te.forwardRef=function(t){return{$$typeof:oj,render:t}};Te.isValidElement=_w;Te.lazy=function(t){return{$$typeof:cj,_payload:{_status:-1,_result:t},_init:fj}};Te.memo=function(t,e){return{$$typeof:lj,type:t,compare:e===void 0?null:e}};Te.startTransition=function(t){var e=Ih.transition;Ih.transition={};try{t()}finally{Ih.transition=e}};Te.unstable_act=VA;Te.useCallback=function(t,e){return cn.current.useCallback(t,e)};Te.useContext=function(t){return cn.current.useContext(t)};Te.useDebugValue=function(){};Te.useDeferredValue=function(t){return cn.current.useDeferredValue(t)};Te.useEffect=function(t,e){return cn.current.useEffect(t,e)};Te.useId=function(){return cn.current.useId()};Te.useImperativeHandle=function(t,e,n){return cn.current.useImperativeHandle(t,e,n)};Te.useInsertionEffect=function(t,e){return cn.current.useInsertionEffect(t,e)};Te.useLayoutEffect=function(t,e){return cn.current.useLayoutEffect(t,e)};Te.useMemo=function(t,e){return cn.current.useMemo(t,e)};Te.useReducer=function(t,e,n){return cn.current.useReducer(t,e,n)};Te.useRef=function(t){return cn.current.useRef(t)};Te.useState=function(t){return cn.current.useState(t)};Te.useSyncExternalStore=function(t,e,n){return cn.current.useSyncExternalStore(t,e,n)};Te.useTransition=function(){return cn.current.useTransition()};Te.version="18.3.1";PA.exports=Te;var y=PA.exports;const q=CA(y),Vl=JM({__proto__:null,default:q},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mj=y,gj=Symbol.for("react.element"),yj=Symbol.for("react.fragment"),vj=Object.prototype.hasOwnProperty,wj=mj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_j={key:!0,ref:!0,__self:!0,__source:!0};function LA(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)vj.call(e,r)&&!_j.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:gj,type:t,key:i,ref:o,props:s,_owner:wj.current}}Ep.Fragment=yj;Ep.jsx=LA;Ep.jsxs=LA;IA.exports=Ep;var h=IA.exports,FA={exports:{}},Rn={},UA={exports:{}},$A={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,U){var K=L.length;L.push(U);e:for(;0<K;){var ue=K-1>>>1,re=L[ue];if(0<s(re,U))L[ue]=U,L[K]=re,K=ue;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var U=L[0],K=L.pop();if(K!==U){L[0]=K;e:for(var ue=0,re=L.length,we=re>>>1;ue<we;){var ye=2*(ue+1)-1,Ke=L[ye],dt=ye+1,Ie=L[dt];if(0>s(Ke,K))dt<re&&0>s(Ie,Ke)?(L[ue]=Ie,L[dt]=K,ue=dt):(L[ue]=Ke,L[ye]=K,ue=ye);else if(dt<re&&0>s(Ie,K))L[ue]=Ie,L[dt]=K,ue=dt;else break e}}return U}function s(L,U){var K=L.sortIndex-U.sortIndex;return K!==0?K:L.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,f=null,p=3,m=!1,b=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(L){for(var U=n(c);U!==null;){if(U.callback===null)r(c);else if(U.startTime<=L)r(c),U.sortIndex=U.expirationTime,e(l,U);else break;U=n(c)}}function I(L){if(v=!1,T(L),!b)if(n(l)!==null)b=!0,ne(C);else{var U=n(c);U!==null&&Z(I,U.startTime-L)}}function C(L,U){b=!1,v&&(v=!1,w(S),S=-1),m=!0;var K=p;try{for(T(U),f=n(l);f!==null&&(!(f.expirationTime>U)||L&&!R());){var ue=f.callback;if(typeof ue=="function"){f.callback=null,p=f.priorityLevel;var re=ue(f.expirationTime<=U);U=t.unstable_now(),typeof re=="function"?f.callback=re:f===n(l)&&r(l),T(U)}else r(l);f=n(l)}if(f!==null)var we=!0;else{var ye=n(c);ye!==null&&Z(I,ye.startTime-U),we=!1}return we}finally{f=null,p=K,m=!1}}var M=!1,A=null,S=-1,P=5,N=-1;function R(){return!(t.unstable_now()-N<P)}function O(){if(A!==null){var L=t.unstable_now();N=L;var U=!0;try{U=A(!0,L)}finally{U?D():(M=!1,A=null)}}else M=!1}var D;if(typeof E=="function")D=function(){E(O)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,ie=W.port2;W.port1.onmessage=O,D=function(){ie.postMessage(null)}}else D=function(){x(O,0)};function ne(L){A=L,M||(M=!0,D())}function Z(L,U){S=x(function(){L(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){b||m||(b=!0,ne(C))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(p){case 1:case 2:case 3:var U=3;break;default:U=p}var K=p;p=U;try{return L()}finally{p=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,U){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var K=p;p=L;try{return U()}finally{p=K}},t.unstable_scheduleCallback=function(L,U,K){var ue=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ue+K:ue):K=ue,L){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=K+re,L={id:d++,callback:U,priorityLevel:L,startTime:K,expirationTime:re,sortIndex:-1},K>ue?(L.sortIndex=K,e(c,L),n(l)===null&&L===n(c)&&(v?(w(S),S=-1):v=!0,Z(I,K-ue))):(L.sortIndex=re,e(l,L),b||m||(b=!0,ne(C))),L},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(L){var U=p;return function(){var K=p;p=U;try{return L.apply(this,arguments)}finally{p=K}}}})($A);UA.exports=$A;var xj=UA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ej=y,In=xj;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var BA=new Set,lu={};function na(t,e){hl(t,e),hl(t+"Capture",e)}function hl(t,e){for(lu[t]=e,t=0;t<e.length;t++)BA.add(e[t])}var Ts=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),iy=Object.prototype.hasOwnProperty,Tj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sE={},iE={};function bj(t){return iy.call(iE,t)?!0:iy.call(sE,t)?!1:Tj.test(t)?iE[t]=!0:(sE[t]=!0,!1)}function Sj(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Aj(t,e,n,r){if(e===null||typeof e>"u"||Sj(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function un(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Bt[t]=new un(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Bt[e]=new un(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Bt[t]=new un(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Bt[t]=new un(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Bt[t]=new un(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Bt[t]=new un(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Bt[t]=new un(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Bt[t]=new un(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Bt[t]=new un(t,5,!1,t.toLowerCase(),null,!1,!1)});var xw=/[\-:]([a-z])/g;function Ew(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(xw,Ew);Bt[e]=new un(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(xw,Ew);Bt[e]=new un(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(xw,Ew);Bt[e]=new un(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Bt[t]=new un(t,1,!1,t.toLowerCase(),null,!1,!1)});Bt.xlinkHref=new un("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Bt[t]=new un(t,1,!1,t.toLowerCase(),null,!0,!0)});function Tw(t,e,n,r){var s=Bt.hasOwnProperty(e)?Bt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Aj(e,n,s,r)&&(n=null),r||s===null?bj(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Vs=Ej.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qd=Symbol.for("react.element"),Sa=Symbol.for("react.portal"),Aa=Symbol.for("react.fragment"),bw=Symbol.for("react.strict_mode"),oy=Symbol.for("react.profiler"),zA=Symbol.for("react.provider"),WA=Symbol.for("react.context"),Sw=Symbol.for("react.forward_ref"),ay=Symbol.for("react.suspense"),ly=Symbol.for("react.suspense_list"),Aw=Symbol.for("react.memo"),ni=Symbol.for("react.lazy"),HA=Symbol.for("react.offscreen"),oE=Symbol.iterator;function pc(t){return t===null||typeof t!="object"?null:(t=oE&&t[oE]||t["@@iterator"],typeof t=="function"?t:null)}var nt=Object.assign,zm;function Ac(t){if(zm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);zm=e&&e[1]||""}return`
`+zm+t}var Wm=!1;function Hm(t,e){if(!t||Wm)return"";Wm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Wm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ac(t):""}function Cj(t){switch(t.tag){case 5:return Ac(t.type);case 16:return Ac("Lazy");case 13:return Ac("Suspense");case 19:return Ac("SuspenseList");case 0:case 2:case 15:return t=Hm(t.type,!1),t;case 11:return t=Hm(t.type.render,!1),t;case 1:return t=Hm(t.type,!0),t;default:return""}}function cy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Aa:return"Fragment";case Sa:return"Portal";case oy:return"Profiler";case bw:return"StrictMode";case ay:return"Suspense";case ly:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case WA:return(t.displayName||"Context")+".Consumer";case zA:return(t._context.displayName||"Context")+".Provider";case Sw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Aw:return e=t.displayName||null,e!==null?e:cy(t.type)||"Memo";case ni:e=t._payload,t=t._init;try{return cy(t(e))}catch{}}return null}function Ij(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return cy(e);case 8:return e===bw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Mi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function qA(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Pj(t){var e=qA(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Gd(t){t._valueTracker||(t._valueTracker=Pj(t))}function GA(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=qA(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function sf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function uy(t,e){var n=e.checked;return nt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function aE(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Mi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function KA(t,e){e=e.checked,e!=null&&Tw(t,"checked",e,!1)}function dy(t,e){KA(t,e);var n=Mi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?hy(t,e.type,n):e.hasOwnProperty("defaultValue")&&hy(t,e.type,Mi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function lE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function hy(t,e,n){(e!=="number"||sf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Cc=Array.isArray;function Ba(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Mi(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function fy(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return nt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function cE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(Cc(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Mi(n)}}function QA(t,e){var n=Mi(e.value),r=Mi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function uE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function YA(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function py(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?YA(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Kd,XA=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Kd=Kd||document.createElement("div"),Kd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Kd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function cu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Lc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Rj=["Webkit","ms","Moz","O"];Object.keys(Lc).forEach(function(t){Rj.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Lc[e]=Lc[t]})});function ZA(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Lc.hasOwnProperty(t)&&Lc[t]?(""+e).trim():e+"px"}function JA(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=ZA(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var kj=nt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function my(t,e){if(e){if(kj[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function gy(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yy=null;function Cw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vy=null,za=null,Wa=null;function dE(t){if(t=sd(t)){if(typeof vy!="function")throw Error(z(280));var e=t.stateNode;e&&(e=Cp(e),vy(t.stateNode,t.type,e))}}function eC(t){za?Wa?Wa.push(t):Wa=[t]:za=t}function tC(){if(za){var t=za,e=Wa;if(Wa=za=null,dE(t),e)for(t=0;t<e.length;t++)dE(e[t])}}function nC(t,e){return t(e)}function rC(){}var qm=!1;function sC(t,e,n){if(qm)return t(e,n);qm=!0;try{return nC(t,e,n)}finally{qm=!1,(za!==null||Wa!==null)&&(rC(),tC())}}function uu(t,e){var n=t.stateNode;if(n===null)return null;var r=Cp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var wy=!1;if(Ts)try{var mc={};Object.defineProperty(mc,"passive",{get:function(){wy=!0}}),window.addEventListener("test",mc,mc),window.removeEventListener("test",mc,mc)}catch{wy=!1}function Nj(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Fc=!1,of=null,af=!1,_y=null,Dj={onError:function(t){Fc=!0,of=t}};function Oj(t,e,n,r,s,i,o,a,l){Fc=!1,of=null,Nj.apply(Dj,arguments)}function Mj(t,e,n,r,s,i,o,a,l){if(Oj.apply(this,arguments),Fc){if(Fc){var c=of;Fc=!1,of=null}else throw Error(z(198));af||(af=!0,_y=c)}}function ra(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function iC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function hE(t){if(ra(t)!==t)throw Error(z(188))}function jj(t){var e=t.alternate;if(!e){if(e=ra(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return hE(s),t;if(i===r)return hE(s),e;i=i.sibling}throw Error(z(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function oC(t){return t=jj(t),t!==null?aC(t):null}function aC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=aC(t);if(e!==null)return e;t=t.sibling}return null}var lC=In.unstable_scheduleCallback,fE=In.unstable_cancelCallback,Vj=In.unstable_shouldYield,Lj=In.unstable_requestPaint,ct=In.unstable_now,Fj=In.unstable_getCurrentPriorityLevel,Iw=In.unstable_ImmediatePriority,cC=In.unstable_UserBlockingPriority,lf=In.unstable_NormalPriority,Uj=In.unstable_LowPriority,uC=In.unstable_IdlePriority,Tp=null,Fr=null;function $j(t){if(Fr&&typeof Fr.onCommitFiberRoot=="function")try{Fr.onCommitFiberRoot(Tp,t,void 0,(t.current.flags&128)===128)}catch{}}var fr=Math.clz32?Math.clz32:Wj,Bj=Math.log,zj=Math.LN2;function Wj(t){return t>>>=0,t===0?32:31-(Bj(t)/zj|0)|0}var Qd=64,Yd=4194304;function Ic(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function cf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Ic(a):(i&=o,i!==0&&(r=Ic(i)))}else o=n&~s,o!==0?r=Ic(o):i!==0&&(r=Ic(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-fr(e),s=1<<n,r|=t[n],e&=~s;return r}function Hj(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qj(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-fr(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=Hj(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function xy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function dC(){var t=Qd;return Qd<<=1,!(Qd&4194240)&&(Qd=64),t}function Gm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function nd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-fr(e),t[e]=n}function Gj(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-fr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Pw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-fr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ve=0;function hC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var fC,Rw,pC,mC,gC,Ey=!1,Xd=[],xi=null,Ei=null,Ti=null,du=new Map,hu=new Map,ii=[],Kj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pE(t,e){switch(t){case"focusin":case"focusout":xi=null;break;case"dragenter":case"dragleave":Ei=null;break;case"mouseover":case"mouseout":Ti=null;break;case"pointerover":case"pointerout":du.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":hu.delete(e.pointerId)}}function gc(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=sd(e),e!==null&&Rw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Qj(t,e,n,r,s){switch(e){case"focusin":return xi=gc(xi,t,e,n,r,s),!0;case"dragenter":return Ei=gc(Ei,t,e,n,r,s),!0;case"mouseover":return Ti=gc(Ti,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return du.set(i,gc(du.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,hu.set(i,gc(hu.get(i)||null,t,e,n,r,s)),!0}return!1}function yC(t){var e=To(t.target);if(e!==null){var n=ra(e);if(n!==null){if(e=n.tag,e===13){if(e=iC(n),e!==null){t.blockedOn=e,gC(t.priority,function(){pC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ph(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ty(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);yy=r,n.target.dispatchEvent(r),yy=null}else return e=sd(n),e!==null&&Rw(e),t.blockedOn=n,!1;e.shift()}return!0}function mE(t,e,n){Ph(t)&&n.delete(e)}function Yj(){Ey=!1,xi!==null&&Ph(xi)&&(xi=null),Ei!==null&&Ph(Ei)&&(Ei=null),Ti!==null&&Ph(Ti)&&(Ti=null),du.forEach(mE),hu.forEach(mE)}function yc(t,e){t.blockedOn===e&&(t.blockedOn=null,Ey||(Ey=!0,In.unstable_scheduleCallback(In.unstable_NormalPriority,Yj)))}function fu(t){function e(s){return yc(s,t)}if(0<Xd.length){yc(Xd[0],t);for(var n=1;n<Xd.length;n++){var r=Xd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(xi!==null&&yc(xi,t),Ei!==null&&yc(Ei,t),Ti!==null&&yc(Ti,t),du.forEach(e),hu.forEach(e),n=0;n<ii.length;n++)r=ii[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ii.length&&(n=ii[0],n.blockedOn===null);)yC(n),n.blockedOn===null&&ii.shift()}var Ha=Vs.ReactCurrentBatchConfig,uf=!0;function Xj(t,e,n,r){var s=Ve,i=Ha.transition;Ha.transition=null;try{Ve=1,kw(t,e,n,r)}finally{Ve=s,Ha.transition=i}}function Zj(t,e,n,r){var s=Ve,i=Ha.transition;Ha.transition=null;try{Ve=4,kw(t,e,n,r)}finally{Ve=s,Ha.transition=i}}function kw(t,e,n,r){if(uf){var s=Ty(t,e,n,r);if(s===null)rg(t,e,r,df,n),pE(t,r);else if(Qj(s,t,e,n,r))r.stopPropagation();else if(pE(t,r),e&4&&-1<Kj.indexOf(t)){for(;s!==null;){var i=sd(s);if(i!==null&&fC(i),i=Ty(t,e,n,r),i===null&&rg(t,e,r,df,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else rg(t,e,r,null,n)}}var df=null;function Ty(t,e,n,r){if(df=null,t=Cw(r),t=To(t),t!==null)if(e=ra(t),e===null)t=null;else if(n=e.tag,n===13){if(t=iC(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return df=t,null}function vC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Fj()){case Iw:return 1;case cC:return 4;case lf:case Uj:return 16;case uC:return 536870912;default:return 16}default:return 16}}var gi=null,Nw=null,Rh=null;function wC(){if(Rh)return Rh;var t,e=Nw,n=e.length,r,s="value"in gi?gi.value:gi.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Rh=s.slice(t,1<r?1-r:void 0)}function kh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Zd(){return!0}function gE(){return!1}function kn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Zd:gE,this.isPropagationStopped=gE,this}return nt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Zd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Zd)},persist:function(){},isPersistent:Zd}),e}var Ll={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dw=kn(Ll),rd=nt({},Ll,{view:0,detail:0}),Jj=kn(rd),Km,Qm,vc,bp=nt({},rd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ow,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==vc&&(vc&&t.type==="mousemove"?(Km=t.screenX-vc.screenX,Qm=t.screenY-vc.screenY):Qm=Km=0,vc=t),Km)},movementY:function(t){return"movementY"in t?t.movementY:Qm}}),yE=kn(bp),eV=nt({},bp,{dataTransfer:0}),tV=kn(eV),nV=nt({},rd,{relatedTarget:0}),Ym=kn(nV),rV=nt({},Ll,{animationName:0,elapsedTime:0,pseudoElement:0}),sV=kn(rV),iV=nt({},Ll,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),oV=kn(iV),aV=nt({},Ll,{data:0}),vE=kn(aV),lV={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cV={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uV={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dV(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=uV[t])?!!e[t]:!1}function Ow(){return dV}var hV=nt({},rd,{key:function(t){if(t.key){var e=lV[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=kh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?cV[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ow,charCode:function(t){return t.type==="keypress"?kh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?kh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),fV=kn(hV),pV=nt({},bp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wE=kn(pV),mV=nt({},rd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ow}),gV=kn(mV),yV=nt({},Ll,{propertyName:0,elapsedTime:0,pseudoElement:0}),vV=kn(yV),wV=nt({},bp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),_V=kn(wV),xV=[9,13,27,32],Mw=Ts&&"CompositionEvent"in window,Uc=null;Ts&&"documentMode"in document&&(Uc=document.documentMode);var EV=Ts&&"TextEvent"in window&&!Uc,_C=Ts&&(!Mw||Uc&&8<Uc&&11>=Uc),_E=" ",xE=!1;function xC(t,e){switch(t){case"keyup":return xV.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function EC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ca=!1;function TV(t,e){switch(t){case"compositionend":return EC(e);case"keypress":return e.which!==32?null:(xE=!0,_E);case"textInput":return t=e.data,t===_E&&xE?null:t;default:return null}}function bV(t,e){if(Ca)return t==="compositionend"||!Mw&&xC(t,e)?(t=wC(),Rh=Nw=gi=null,Ca=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return _C&&e.locale!=="ko"?null:e.data;default:return null}}var SV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function EE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!SV[t.type]:e==="textarea"}function TC(t,e,n,r){eC(r),e=hf(e,"onChange"),0<e.length&&(n=new Dw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var $c=null,pu=null;function AV(t){OC(t,0)}function Sp(t){var e=Ra(t);if(GA(e))return t}function CV(t,e){if(t==="change")return e}var bC=!1;if(Ts){var Xm;if(Ts){var Zm="oninput"in document;if(!Zm){var TE=document.createElement("div");TE.setAttribute("oninput","return;"),Zm=typeof TE.oninput=="function"}Xm=Zm}else Xm=!1;bC=Xm&&(!document.documentMode||9<document.documentMode)}function bE(){$c&&($c.detachEvent("onpropertychange",SC),pu=$c=null)}function SC(t){if(t.propertyName==="value"&&Sp(pu)){var e=[];TC(e,pu,t,Cw(t)),sC(AV,e)}}function IV(t,e,n){t==="focusin"?(bE(),$c=e,pu=n,$c.attachEvent("onpropertychange",SC)):t==="focusout"&&bE()}function PV(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Sp(pu)}function RV(t,e){if(t==="click")return Sp(e)}function kV(t,e){if(t==="input"||t==="change")return Sp(e)}function NV(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gr=typeof Object.is=="function"?Object.is:NV;function mu(t,e){if(gr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!iy.call(e,s)||!gr(t[s],e[s]))return!1}return!0}function SE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function AE(t,e){var n=SE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=SE(n)}}function AC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?AC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function CC(){for(var t=window,e=sf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=sf(t.document)}return e}function jw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function DV(t){var e=CC(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&AC(n.ownerDocument.documentElement,n)){if(r!==null&&jw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=AE(n,i);var o=AE(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var OV=Ts&&"documentMode"in document&&11>=document.documentMode,Ia=null,by=null,Bc=null,Sy=!1;function CE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Sy||Ia==null||Ia!==sf(r)||(r=Ia,"selectionStart"in r&&jw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Bc&&mu(Bc,r)||(Bc=r,r=hf(by,"onSelect"),0<r.length&&(e=new Dw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ia)))}function Jd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Pa={animationend:Jd("Animation","AnimationEnd"),animationiteration:Jd("Animation","AnimationIteration"),animationstart:Jd("Animation","AnimationStart"),transitionend:Jd("Transition","TransitionEnd")},Jm={},IC={};Ts&&(IC=document.createElement("div").style,"AnimationEvent"in window||(delete Pa.animationend.animation,delete Pa.animationiteration.animation,delete Pa.animationstart.animation),"TransitionEvent"in window||delete Pa.transitionend.transition);function Ap(t){if(Jm[t])return Jm[t];if(!Pa[t])return t;var e=Pa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in IC)return Jm[t]=e[n];return t}var PC=Ap("animationend"),RC=Ap("animationiteration"),kC=Ap("animationstart"),NC=Ap("transitionend"),DC=new Map,IE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yi(t,e){DC.set(t,e),na(e,[t])}for(var eg=0;eg<IE.length;eg++){var tg=IE[eg],MV=tg.toLowerCase(),jV=tg[0].toUpperCase()+tg.slice(1);Yi(MV,"on"+jV)}Yi(PC,"onAnimationEnd");Yi(RC,"onAnimationIteration");Yi(kC,"onAnimationStart");Yi("dblclick","onDoubleClick");Yi("focusin","onFocus");Yi("focusout","onBlur");Yi(NC,"onTransitionEnd");hl("onMouseEnter",["mouseout","mouseover"]);hl("onMouseLeave",["mouseout","mouseover"]);hl("onPointerEnter",["pointerout","pointerover"]);hl("onPointerLeave",["pointerout","pointerover"]);na("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));na("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));na("onBeforeInput",["compositionend","keypress","textInput","paste"]);na("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));na("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));na("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VV=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pc));function PE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Mj(r,e,void 0,t),t.currentTarget=null}function OC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;PE(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;PE(s,a,c),i=l}}}if(af)throw t=_y,af=!1,_y=null,t}function He(t,e){var n=e[Ry];n===void 0&&(n=e[Ry]=new Set);var r=t+"__bubble";n.has(r)||(MC(e,t,2,!1),n.add(r))}function ng(t,e,n){var r=0;e&&(r|=4),MC(n,t,r,e)}var eh="_reactListening"+Math.random().toString(36).slice(2);function gu(t){if(!t[eh]){t[eh]=!0,BA.forEach(function(n){n!=="selectionchange"&&(VV.has(n)||ng(n,!1,t),ng(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[eh]||(e[eh]=!0,ng("selectionchange",!1,e))}}function MC(t,e,n,r){switch(vC(e)){case 1:var s=Xj;break;case 4:s=Zj;break;default:s=kw}n=s.bind(null,e,n,t),s=void 0,!wy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function rg(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=To(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}sC(function(){var c=i,d=Cw(n),f=[];e:{var p=DC.get(t);if(p!==void 0){var m=Dw,b=t;switch(t){case"keypress":if(kh(n)===0)break e;case"keydown":case"keyup":m=fV;break;case"focusin":b="focus",m=Ym;break;case"focusout":b="blur",m=Ym;break;case"beforeblur":case"afterblur":m=Ym;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=yE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=tV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=gV;break;case PC:case RC:case kC:m=sV;break;case NC:m=vV;break;case"scroll":m=Jj;break;case"wheel":m=_V;break;case"copy":case"cut":case"paste":m=oV;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=wE}var v=(e&4)!==0,x=!v&&t==="scroll",w=v?p!==null?p+"Capture":null:p;v=[];for(var E=c,T;E!==null;){T=E;var I=T.stateNode;if(T.tag===5&&I!==null&&(T=I,w!==null&&(I=uu(E,w),I!=null&&v.push(yu(E,I,T)))),x)break;E=E.return}0<v.length&&(p=new m(p,b,null,n,d),f.push({event:p,listeners:v}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==yy&&(b=n.relatedTarget||n.fromElement)&&(To(b)||b[bs]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(b=n.relatedTarget||n.toElement,m=c,b=b?To(b):null,b!==null&&(x=ra(b),b!==x||b.tag!==5&&b.tag!==6)&&(b=null)):(m=null,b=c),m!==b)){if(v=yE,I="onMouseLeave",w="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(v=wE,I="onPointerLeave",w="onPointerEnter",E="pointer"),x=m==null?p:Ra(m),T=b==null?p:Ra(b),p=new v(I,E+"leave",m,n,d),p.target=x,p.relatedTarget=T,I=null,To(d)===c&&(v=new v(w,E+"enter",b,n,d),v.target=T,v.relatedTarget=x,I=v),x=I,m&&b)t:{for(v=m,w=b,E=0,T=v;T;T=ga(T))E++;for(T=0,I=w;I;I=ga(I))T++;for(;0<E-T;)v=ga(v),E--;for(;0<T-E;)w=ga(w),T--;for(;E--;){if(v===w||w!==null&&v===w.alternate)break t;v=ga(v),w=ga(w)}v=null}else v=null;m!==null&&RE(f,p,m,v,!1),b!==null&&x!==null&&RE(f,x,b,v,!0)}}e:{if(p=c?Ra(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var C=CV;else if(EE(p))if(bC)C=kV;else{C=PV;var M=IV}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(C=RV);if(C&&(C=C(t,c))){TC(f,C,n,d);break e}M&&M(t,p,c),t==="focusout"&&(M=p._wrapperState)&&M.controlled&&p.type==="number"&&hy(p,"number",p.value)}switch(M=c?Ra(c):window,t){case"focusin":(EE(M)||M.contentEditable==="true")&&(Ia=M,by=c,Bc=null);break;case"focusout":Bc=by=Ia=null;break;case"mousedown":Sy=!0;break;case"contextmenu":case"mouseup":case"dragend":Sy=!1,CE(f,n,d);break;case"selectionchange":if(OV)break;case"keydown":case"keyup":CE(f,n,d)}var A;if(Mw)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Ca?xC(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(_C&&n.locale!=="ko"&&(Ca||S!=="onCompositionStart"?S==="onCompositionEnd"&&Ca&&(A=wC()):(gi=d,Nw="value"in gi?gi.value:gi.textContent,Ca=!0)),M=hf(c,S),0<M.length&&(S=new vE(S,t,null,n,d),f.push({event:S,listeners:M}),A?S.data=A:(A=EC(n),A!==null&&(S.data=A)))),(A=EV?TV(t,n):bV(t,n))&&(c=hf(c,"onBeforeInput"),0<c.length&&(d=new vE("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=A))}OC(f,e)})}function yu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function hf(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=uu(t,n),i!=null&&r.unshift(yu(t,i,s)),i=uu(t,e),i!=null&&r.push(yu(t,i,s))),t=t.return}return r}function ga(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function RE(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=uu(n,i),l!=null&&o.unshift(yu(n,l,a))):s||(l=uu(n,i),l!=null&&o.push(yu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var LV=/\r\n?/g,FV=/\u0000|\uFFFD/g;function kE(t){return(typeof t=="string"?t:""+t).replace(LV,`
`).replace(FV,"")}function th(t,e,n){if(e=kE(e),kE(t)!==e&&n)throw Error(z(425))}function ff(){}var Ay=null,Cy=null;function Iy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Py=typeof setTimeout=="function"?setTimeout:void 0,UV=typeof clearTimeout=="function"?clearTimeout:void 0,NE=typeof Promise=="function"?Promise:void 0,$V=typeof queueMicrotask=="function"?queueMicrotask:typeof NE<"u"?function(t){return NE.resolve(null).then(t).catch(BV)}:Py;function BV(t){setTimeout(function(){throw t})}function sg(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),fu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);fu(e)}function bi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function DE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Fl=Math.random().toString(36).slice(2),Mr="__reactFiber$"+Fl,vu="__reactProps$"+Fl,bs="__reactContainer$"+Fl,Ry="__reactEvents$"+Fl,zV="__reactListeners$"+Fl,WV="__reactHandles$"+Fl;function To(t){var e=t[Mr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[bs]||n[Mr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=DE(t);t!==null;){if(n=t[Mr])return n;t=DE(t)}return e}t=n,n=t.parentNode}return null}function sd(t){return t=t[Mr]||t[bs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ra(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function Cp(t){return t[vu]||null}var ky=[],ka=-1;function Xi(t){return{current:t}}function Ge(t){0>ka||(t.current=ky[ka],ky[ka]=null,ka--)}function Be(t,e){ka++,ky[ka]=t.current,t.current=e}var ji={},Jt=Xi(ji),vn=Xi(!1),zo=ji;function fl(t,e){var n=t.type.contextTypes;if(!n)return ji;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function wn(t){return t=t.childContextTypes,t!=null}function pf(){Ge(vn),Ge(Jt)}function OE(t,e,n){if(Jt.current!==ji)throw Error(z(168));Be(Jt,e),Be(vn,n)}function jC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(z(108,Ij(t)||"Unknown",s));return nt({},n,r)}function mf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ji,zo=Jt.current,Be(Jt,t),Be(vn,vn.current),!0}function ME(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=jC(t,e,zo),r.__reactInternalMemoizedMergedChildContext=t,Ge(vn),Ge(Jt),Be(Jt,t)):Ge(vn),Be(vn,n)}var hs=null,Ip=!1,ig=!1;function VC(t){hs===null?hs=[t]:hs.push(t)}function HV(t){Ip=!0,VC(t)}function Zi(){if(!ig&&hs!==null){ig=!0;var t=0,e=Ve;try{var n=hs;for(Ve=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}hs=null,Ip=!1}catch(s){throw hs!==null&&(hs=hs.slice(t+1)),lC(Iw,Zi),s}finally{Ve=e,ig=!1}}return null}var Na=[],Da=0,gf=null,yf=0,jn=[],Vn=0,Wo=null,gs=1,ys="";function go(t,e){Na[Da++]=yf,Na[Da++]=gf,gf=t,yf=e}function LC(t,e,n){jn[Vn++]=gs,jn[Vn++]=ys,jn[Vn++]=Wo,Wo=t;var r=gs;t=ys;var s=32-fr(r)-1;r&=~(1<<s),n+=1;var i=32-fr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,gs=1<<32-fr(e)+s|n<<s|r,ys=i+t}else gs=1<<i|n<<s|r,ys=t}function Vw(t){t.return!==null&&(go(t,1),LC(t,1,0))}function Lw(t){for(;t===gf;)gf=Na[--Da],Na[Da]=null,yf=Na[--Da],Na[Da]=null;for(;t===Wo;)Wo=jn[--Vn],jn[Vn]=null,ys=jn[--Vn],jn[Vn]=null,gs=jn[--Vn],jn[Vn]=null}var An=null,Sn=null,Qe=!1,cr=null;function FC(t,e){var n=Un(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function jE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,An=t,Sn=bi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,An=t,Sn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Wo!==null?{id:gs,overflow:ys}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Un(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,An=t,Sn=null,!0):!1;default:return!1}}function Ny(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Dy(t){if(Qe){var e=Sn;if(e){var n=e;if(!jE(t,e)){if(Ny(t))throw Error(z(418));e=bi(n.nextSibling);var r=An;e&&jE(t,e)?FC(r,n):(t.flags=t.flags&-4097|2,Qe=!1,An=t)}}else{if(Ny(t))throw Error(z(418));t.flags=t.flags&-4097|2,Qe=!1,An=t}}}function VE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;An=t}function nh(t){if(t!==An)return!1;if(!Qe)return VE(t),Qe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Iy(t.type,t.memoizedProps)),e&&(e=Sn)){if(Ny(t))throw UC(),Error(z(418));for(;e;)FC(t,e),e=bi(e.nextSibling)}if(VE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Sn=bi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Sn=null}}else Sn=An?bi(t.stateNode.nextSibling):null;return!0}function UC(){for(var t=Sn;t;)t=bi(t.nextSibling)}function pl(){Sn=An=null,Qe=!1}function Fw(t){cr===null?cr=[t]:cr.push(t)}var qV=Vs.ReactCurrentBatchConfig;function wc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function rh(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function LE(t){var e=t._init;return e(t._payload)}function $C(t){function e(w,E){if(t){var T=w.deletions;T===null?(w.deletions=[E],w.flags|=16):T.push(E)}}function n(w,E){if(!t)return null;for(;E!==null;)e(w,E),E=E.sibling;return null}function r(w,E){for(w=new Map;E!==null;)E.key!==null?w.set(E.key,E):w.set(E.index,E),E=E.sibling;return w}function s(w,E){return w=Ii(w,E),w.index=0,w.sibling=null,w}function i(w,E,T){return w.index=T,t?(T=w.alternate,T!==null?(T=T.index,T<E?(w.flags|=2,E):T):(w.flags|=2,E)):(w.flags|=1048576,E)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,E,T,I){return E===null||E.tag!==6?(E=hg(T,w.mode,I),E.return=w,E):(E=s(E,T),E.return=w,E)}function l(w,E,T,I){var C=T.type;return C===Aa?d(w,E,T.props.children,I,T.key):E!==null&&(E.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===ni&&LE(C)===E.type)?(I=s(E,T.props),I.ref=wc(w,E,T),I.return=w,I):(I=Lh(T.type,T.key,T.props,null,w.mode,I),I.ref=wc(w,E,T),I.return=w,I)}function c(w,E,T,I){return E===null||E.tag!==4||E.stateNode.containerInfo!==T.containerInfo||E.stateNode.implementation!==T.implementation?(E=fg(T,w.mode,I),E.return=w,E):(E=s(E,T.children||[]),E.return=w,E)}function d(w,E,T,I,C){return E===null||E.tag!==7?(E=Vo(T,w.mode,I,C),E.return=w,E):(E=s(E,T),E.return=w,E)}function f(w,E,T){if(typeof E=="string"&&E!==""||typeof E=="number")return E=hg(""+E,w.mode,T),E.return=w,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case qd:return T=Lh(E.type,E.key,E.props,null,w.mode,T),T.ref=wc(w,null,E),T.return=w,T;case Sa:return E=fg(E,w.mode,T),E.return=w,E;case ni:var I=E._init;return f(w,I(E._payload),T)}if(Cc(E)||pc(E))return E=Vo(E,w.mode,T,null),E.return=w,E;rh(w,E)}return null}function p(w,E,T,I){var C=E!==null?E.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return C!==null?null:a(w,E,""+T,I);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case qd:return T.key===C?l(w,E,T,I):null;case Sa:return T.key===C?c(w,E,T,I):null;case ni:return C=T._init,p(w,E,C(T._payload),I)}if(Cc(T)||pc(T))return C!==null?null:d(w,E,T,I,null);rh(w,T)}return null}function m(w,E,T,I,C){if(typeof I=="string"&&I!==""||typeof I=="number")return w=w.get(T)||null,a(E,w,""+I,C);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case qd:return w=w.get(I.key===null?T:I.key)||null,l(E,w,I,C);case Sa:return w=w.get(I.key===null?T:I.key)||null,c(E,w,I,C);case ni:var M=I._init;return m(w,E,T,M(I._payload),C)}if(Cc(I)||pc(I))return w=w.get(T)||null,d(E,w,I,C,null);rh(E,I)}return null}function b(w,E,T,I){for(var C=null,M=null,A=E,S=E=0,P=null;A!==null&&S<T.length;S++){A.index>S?(P=A,A=null):P=A.sibling;var N=p(w,A,T[S],I);if(N===null){A===null&&(A=P);break}t&&A&&N.alternate===null&&e(w,A),E=i(N,E,S),M===null?C=N:M.sibling=N,M=N,A=P}if(S===T.length)return n(w,A),Qe&&go(w,S),C;if(A===null){for(;S<T.length;S++)A=f(w,T[S],I),A!==null&&(E=i(A,E,S),M===null?C=A:M.sibling=A,M=A);return Qe&&go(w,S),C}for(A=r(w,A);S<T.length;S++)P=m(A,w,S,T[S],I),P!==null&&(t&&P.alternate!==null&&A.delete(P.key===null?S:P.key),E=i(P,E,S),M===null?C=P:M.sibling=P,M=P);return t&&A.forEach(function(R){return e(w,R)}),Qe&&go(w,S),C}function v(w,E,T,I){var C=pc(T);if(typeof C!="function")throw Error(z(150));if(T=C.call(T),T==null)throw Error(z(151));for(var M=C=null,A=E,S=E=0,P=null,N=T.next();A!==null&&!N.done;S++,N=T.next()){A.index>S?(P=A,A=null):P=A.sibling;var R=p(w,A,N.value,I);if(R===null){A===null&&(A=P);break}t&&A&&R.alternate===null&&e(w,A),E=i(R,E,S),M===null?C=R:M.sibling=R,M=R,A=P}if(N.done)return n(w,A),Qe&&go(w,S),C;if(A===null){for(;!N.done;S++,N=T.next())N=f(w,N.value,I),N!==null&&(E=i(N,E,S),M===null?C=N:M.sibling=N,M=N);return Qe&&go(w,S),C}for(A=r(w,A);!N.done;S++,N=T.next())N=m(A,w,S,N.value,I),N!==null&&(t&&N.alternate!==null&&A.delete(N.key===null?S:N.key),E=i(N,E,S),M===null?C=N:M.sibling=N,M=N);return t&&A.forEach(function(O){return e(w,O)}),Qe&&go(w,S),C}function x(w,E,T,I){if(typeof T=="object"&&T!==null&&T.type===Aa&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case qd:e:{for(var C=T.key,M=E;M!==null;){if(M.key===C){if(C=T.type,C===Aa){if(M.tag===7){n(w,M.sibling),E=s(M,T.props.children),E.return=w,w=E;break e}}else if(M.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===ni&&LE(C)===M.type){n(w,M.sibling),E=s(M,T.props),E.ref=wc(w,M,T),E.return=w,w=E;break e}n(w,M);break}else e(w,M);M=M.sibling}T.type===Aa?(E=Vo(T.props.children,w.mode,I,T.key),E.return=w,w=E):(I=Lh(T.type,T.key,T.props,null,w.mode,I),I.ref=wc(w,E,T),I.return=w,w=I)}return o(w);case Sa:e:{for(M=T.key;E!==null;){if(E.key===M)if(E.tag===4&&E.stateNode.containerInfo===T.containerInfo&&E.stateNode.implementation===T.implementation){n(w,E.sibling),E=s(E,T.children||[]),E.return=w,w=E;break e}else{n(w,E);break}else e(w,E);E=E.sibling}E=fg(T,w.mode,I),E.return=w,w=E}return o(w);case ni:return M=T._init,x(w,E,M(T._payload),I)}if(Cc(T))return b(w,E,T,I);if(pc(T))return v(w,E,T,I);rh(w,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,E!==null&&E.tag===6?(n(w,E.sibling),E=s(E,T),E.return=w,w=E):(n(w,E),E=hg(T,w.mode,I),E.return=w,w=E),o(w)):n(w,E)}return x}var ml=$C(!0),BC=$C(!1),vf=Xi(null),wf=null,Oa=null,Uw=null;function $w(){Uw=Oa=wf=null}function Bw(t){var e=vf.current;Ge(vf),t._currentValue=e}function Oy(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function qa(t,e){wf=t,Uw=Oa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(gn=!0),t.firstContext=null)}function Hn(t){var e=t._currentValue;if(Uw!==t)if(t={context:t,memoizedValue:e,next:null},Oa===null){if(wf===null)throw Error(z(308));Oa=t,wf.dependencies={lanes:0,firstContext:t}}else Oa=Oa.next=t;return e}var bo=null;function zw(t){bo===null?bo=[t]:bo.push(t)}function zC(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,zw(e)):(n.next=s.next,s.next=n),e.interleaved=n,Ss(t,r)}function Ss(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ri=!1;function Ww(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function WC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function _s(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Si(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Re&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Ss(t,n)}return s=r.interleaved,s===null?(e.next=e,zw(r)):(e.next=s.next,s.next=e),r.interleaved=e,Ss(t,n)}function Nh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Pw(t,n)}}function FE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function _f(t,e,n,r){var s=t.updateQueue;ri=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,d=c=l=null,a=i;do{var p=a.lane,m=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var b=t,v=a;switch(p=e,m=n,v.tag){case 1:if(b=v.payload,typeof b=="function"){f=b.call(m,f,p);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=v.payload,p=typeof b=="function"?b.call(m,f,p):b,p==null)break e;f=nt({},f,p);break e;case 2:ri=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=m,l=f):d=d.next=m,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);qo|=o,t.lanes=o,t.memoizedState=f}}function UE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(z(191,s));s.call(r)}}}var id={},Ur=Xi(id),wu=Xi(id),_u=Xi(id);function So(t){if(t===id)throw Error(z(174));return t}function Hw(t,e){switch(Be(_u,e),Be(wu,t),Be(Ur,id),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:py(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=py(e,t)}Ge(Ur),Be(Ur,e)}function gl(){Ge(Ur),Ge(wu),Ge(_u)}function HC(t){So(_u.current);var e=So(Ur.current),n=py(e,t.type);e!==n&&(Be(wu,t),Be(Ur,n))}function qw(t){wu.current===t&&(Ge(Ur),Ge(wu))}var Ze=Xi(0);function xf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var og=[];function Gw(){for(var t=0;t<og.length;t++)og[t]._workInProgressVersionPrimary=null;og.length=0}var Dh=Vs.ReactCurrentDispatcher,ag=Vs.ReactCurrentBatchConfig,Ho=0,tt=null,Tt=null,Nt=null,Ef=!1,zc=!1,xu=0,GV=0;function qt(){throw Error(z(321))}function Kw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!gr(t[n],e[n]))return!1;return!0}function Qw(t,e,n,r,s,i){if(Ho=i,tt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Dh.current=t===null||t.memoizedState===null?XV:ZV,t=n(r,s),zc){i=0;do{if(zc=!1,xu=0,25<=i)throw Error(z(301));i+=1,Nt=Tt=null,e.updateQueue=null,Dh.current=JV,t=n(r,s)}while(zc)}if(Dh.current=Tf,e=Tt!==null&&Tt.next!==null,Ho=0,Nt=Tt=tt=null,Ef=!1,e)throw Error(z(300));return t}function Yw(){var t=xu!==0;return xu=0,t}function Rr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?tt.memoizedState=Nt=t:Nt=Nt.next=t,Nt}function qn(){if(Tt===null){var t=tt.alternate;t=t!==null?t.memoizedState:null}else t=Tt.next;var e=Nt===null?tt.memoizedState:Nt.next;if(e!==null)Nt=e,Tt=t;else{if(t===null)throw Error(z(310));Tt=t,t={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},Nt===null?tt.memoizedState=Nt=t:Nt=Nt.next=t}return Nt}function Eu(t,e){return typeof e=="function"?e(t):e}function lg(t){var e=qn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=Tt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((Ho&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,tt.lanes|=d,qo|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,gr(r,e.memoizedState)||(gn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,tt.lanes|=i,qo|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function cg(t){var e=qn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);gr(i,e.memoizedState)||(gn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function qC(){}function GC(t,e){var n=tt,r=qn(),s=e(),i=!gr(r.memoizedState,s);if(i&&(r.memoizedState=s,gn=!0),r=r.queue,Xw(YC.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Nt!==null&&Nt.memoizedState.tag&1){if(n.flags|=2048,Tu(9,QC.bind(null,n,r,s,e),void 0,null),Mt===null)throw Error(z(349));Ho&30||KC(n,e,s)}return s}function KC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=tt.updateQueue,e===null?(e={lastEffect:null,stores:null},tt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function QC(t,e,n,r){e.value=n,e.getSnapshot=r,XC(e)&&ZC(t)}function YC(t,e,n){return n(function(){XC(e)&&ZC(t)})}function XC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!gr(t,n)}catch{return!0}}function ZC(t){var e=Ss(t,1);e!==null&&pr(e,t,1,-1)}function $E(t){var e=Rr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Eu,lastRenderedState:t},e.queue=t,t=t.dispatch=YV.bind(null,tt,t),[e.memoizedState,t]}function Tu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=tt.updateQueue,e===null?(e={lastEffect:null,stores:null},tt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function JC(){return qn().memoizedState}function Oh(t,e,n,r){var s=Rr();tt.flags|=t,s.memoizedState=Tu(1|e,n,void 0,r===void 0?null:r)}function Pp(t,e,n,r){var s=qn();r=r===void 0?null:r;var i=void 0;if(Tt!==null){var o=Tt.memoizedState;if(i=o.destroy,r!==null&&Kw(r,o.deps)){s.memoizedState=Tu(e,n,i,r);return}}tt.flags|=t,s.memoizedState=Tu(1|e,n,i,r)}function BE(t,e){return Oh(8390656,8,t,e)}function Xw(t,e){return Pp(2048,8,t,e)}function eI(t,e){return Pp(4,2,t,e)}function tI(t,e){return Pp(4,4,t,e)}function nI(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function rI(t,e,n){return n=n!=null?n.concat([t]):null,Pp(4,4,nI.bind(null,e,t),n)}function Zw(){}function sI(t,e){var n=qn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Kw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function iI(t,e){var n=qn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Kw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function oI(t,e,n){return Ho&21?(gr(n,e)||(n=dC(),tt.lanes|=n,qo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,gn=!0),t.memoizedState=n)}function KV(t,e){var n=Ve;Ve=n!==0&&4>n?n:4,t(!0);var r=ag.transition;ag.transition={};try{t(!1),e()}finally{Ve=n,ag.transition=r}}function aI(){return qn().memoizedState}function QV(t,e,n){var r=Ci(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},lI(t))cI(e,n);else if(n=zC(t,e,n,r),n!==null){var s=ln();pr(n,t,r,s),uI(n,e,r)}}function YV(t,e,n){var r=Ci(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(lI(t))cI(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,gr(a,o)){var l=e.interleaved;l===null?(s.next=s,zw(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=zC(t,e,s,r),n!==null&&(s=ln(),pr(n,t,r,s),uI(n,e,r))}}function lI(t){var e=t.alternate;return t===tt||e!==null&&e===tt}function cI(t,e){zc=Ef=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function uI(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Pw(t,n)}}var Tf={readContext:Hn,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useInsertionEffect:qt,useLayoutEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useMutableSource:qt,useSyncExternalStore:qt,useId:qt,unstable_isNewReconciler:!1},XV={readContext:Hn,useCallback:function(t,e){return Rr().memoizedState=[t,e===void 0?null:e],t},useContext:Hn,useEffect:BE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Oh(4194308,4,nI.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Oh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Oh(4,2,t,e)},useMemo:function(t,e){var n=Rr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Rr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=QV.bind(null,tt,t),[r.memoizedState,t]},useRef:function(t){var e=Rr();return t={current:t},e.memoizedState=t},useState:$E,useDebugValue:Zw,useDeferredValue:function(t){return Rr().memoizedState=t},useTransition:function(){var t=$E(!1),e=t[0];return t=KV.bind(null,t[1]),Rr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=tt,s=Rr();if(Qe){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),Mt===null)throw Error(z(349));Ho&30||KC(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,BE(YC.bind(null,r,i,t),[t]),r.flags|=2048,Tu(9,QC.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Rr(),e=Mt.identifierPrefix;if(Qe){var n=ys,r=gs;n=(r&~(1<<32-fr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=xu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=GV++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ZV={readContext:Hn,useCallback:sI,useContext:Hn,useEffect:Xw,useImperativeHandle:rI,useInsertionEffect:eI,useLayoutEffect:tI,useMemo:iI,useReducer:lg,useRef:JC,useState:function(){return lg(Eu)},useDebugValue:Zw,useDeferredValue:function(t){var e=qn();return oI(e,Tt.memoizedState,t)},useTransition:function(){var t=lg(Eu)[0],e=qn().memoizedState;return[t,e]},useMutableSource:qC,useSyncExternalStore:GC,useId:aI,unstable_isNewReconciler:!1},JV={readContext:Hn,useCallback:sI,useContext:Hn,useEffect:Xw,useImperativeHandle:rI,useInsertionEffect:eI,useLayoutEffect:tI,useMemo:iI,useReducer:cg,useRef:JC,useState:function(){return cg(Eu)},useDebugValue:Zw,useDeferredValue:function(t){var e=qn();return Tt===null?e.memoizedState=t:oI(e,Tt.memoizedState,t)},useTransition:function(){var t=cg(Eu)[0],e=qn().memoizedState;return[t,e]},useMutableSource:qC,useSyncExternalStore:GC,useId:aI,unstable_isNewReconciler:!1};function sr(t,e){if(t&&t.defaultProps){e=nt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function My(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:nt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Rp={isMounted:function(t){return(t=t._reactInternals)?ra(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ln(),s=Ci(t),i=_s(r,s);i.payload=e,n!=null&&(i.callback=n),e=Si(t,i,s),e!==null&&(pr(e,t,s,r),Nh(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ln(),s=Ci(t),i=_s(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Si(t,i,s),e!==null&&(pr(e,t,s,r),Nh(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ln(),r=Ci(t),s=_s(n,r);s.tag=2,e!=null&&(s.callback=e),e=Si(t,s,r),e!==null&&(pr(e,t,r,n),Nh(e,t,r))}};function zE(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!mu(n,r)||!mu(s,i):!0}function dI(t,e,n){var r=!1,s=ji,i=e.contextType;return typeof i=="object"&&i!==null?i=Hn(i):(s=wn(e)?zo:Jt.current,r=e.contextTypes,i=(r=r!=null)?fl(t,s):ji),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Rp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function WE(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Rp.enqueueReplaceState(e,e.state,null)}function jy(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Ww(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Hn(i):(i=wn(e)?zo:Jt.current,s.context=fl(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(My(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Rp.enqueueReplaceState(s,s.state,null),_f(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function yl(t,e){try{var n="",r=e;do n+=Cj(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function ug(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Vy(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var eL=typeof WeakMap=="function"?WeakMap:Map;function hI(t,e,n){n=_s(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Sf||(Sf=!0,Gy=r),Vy(t,e)},n}function fI(t,e,n){n=_s(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Vy(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Vy(t,e),typeof r!="function"&&(Ai===null?Ai=new Set([this]):Ai.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function HE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new eL;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=pL.bind(null,t,e,n),e.then(t,t))}function qE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function GE(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=_s(-1,1),e.tag=2,Si(n,e,1))),n.lanes|=1),t)}var tL=Vs.ReactCurrentOwner,gn=!1;function rn(t,e,n,r){e.child=t===null?BC(e,null,n,r):ml(e,t.child,n,r)}function KE(t,e,n,r,s){n=n.render;var i=e.ref;return qa(e,s),r=Qw(t,e,n,r,i,s),n=Yw(),t!==null&&!gn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,As(t,e,s)):(Qe&&n&&Vw(e),e.flags|=1,rn(t,e,r,s),e.child)}function QE(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!o0(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,pI(t,e,i,r,s)):(t=Lh(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:mu,n(o,r)&&t.ref===e.ref)return As(t,e,s)}return e.flags|=1,t=Ii(i,r),t.ref=e.ref,t.return=e,e.child=t}function pI(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(mu(i,r)&&t.ref===e.ref)if(gn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(gn=!0);else return e.lanes=t.lanes,As(t,e,s)}return Ly(t,e,n,r,s)}function mI(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(ja,Tn),Tn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Be(ja,Tn),Tn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Be(ja,Tn),Tn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Be(ja,Tn),Tn|=r;return rn(t,e,s,n),e.child}function gI(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ly(t,e,n,r,s){var i=wn(n)?zo:Jt.current;return i=fl(e,i),qa(e,s),n=Qw(t,e,n,r,i,s),r=Yw(),t!==null&&!gn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,As(t,e,s)):(Qe&&r&&Vw(e),e.flags|=1,rn(t,e,n,s),e.child)}function YE(t,e,n,r,s){if(wn(n)){var i=!0;mf(e)}else i=!1;if(qa(e,s),e.stateNode===null)Mh(t,e),dI(e,n,r),jy(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Hn(c):(c=wn(n)?zo:Jt.current,c=fl(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&WE(e,o,r,c),ri=!1;var p=e.memoizedState;o.state=p,_f(e,r,o,s),l=e.memoizedState,a!==r||p!==l||vn.current||ri?(typeof d=="function"&&(My(e,n,d,r),l=e.memoizedState),(a=ri||zE(e,n,a,r,p,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,WC(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:sr(e.type,a),o.props=c,f=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Hn(l):(l=wn(n)?zo:Jt.current,l=fl(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&WE(e,o,r,l),ri=!1,p=e.memoizedState,o.state=p,_f(e,r,o,s);var b=e.memoizedState;a!==f||p!==b||vn.current||ri?(typeof m=="function"&&(My(e,n,m,r),b=e.memoizedState),(c=ri||zE(e,n,c,r,p,b,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),o.props=r,o.state=b,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Fy(t,e,n,r,i,s)}function Fy(t,e,n,r,s,i){gI(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&ME(e,n,!1),As(t,e,i);r=e.stateNode,tL.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ml(e,t.child,null,i),e.child=ml(e,null,a,i)):rn(t,e,a,i),e.memoizedState=r.state,s&&ME(e,n,!0),e.child}function yI(t){var e=t.stateNode;e.pendingContext?OE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&OE(t,e.context,!1),Hw(t,e.containerInfo)}function XE(t,e,n,r,s){return pl(),Fw(s),e.flags|=256,rn(t,e,n,r),e.child}var Uy={dehydrated:null,treeContext:null,retryLane:0};function $y(t){return{baseLanes:t,cachePool:null,transitions:null}}function vI(t,e,n){var r=e.pendingProps,s=Ze.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Be(Ze,s&1),t===null)return Dy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Dp(o,r,0,null),t=Vo(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=$y(n),e.memoizedState=Uy,t):Jw(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return nL(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ii(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Ii(a,i):(i=Vo(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?$y(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Uy,r}return i=t.child,t=i.sibling,r=Ii(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Jw(t,e){return e=Dp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function sh(t,e,n,r){return r!==null&&Fw(r),ml(e,t.child,null,n),t=Jw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function nL(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=ug(Error(z(422))),sh(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Dp({mode:"visible",children:r.children},s,0,null),i=Vo(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&ml(e,t.child,null,o),e.child.memoizedState=$y(o),e.memoizedState=Uy,i);if(!(e.mode&1))return sh(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(z(419)),r=ug(i,r,void 0),sh(t,e,o,r)}if(a=(o&t.childLanes)!==0,gn||a){if(r=Mt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ss(t,s),pr(r,t,s,-1))}return i0(),r=ug(Error(z(421))),sh(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=mL.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Sn=bi(s.nextSibling),An=e,Qe=!0,cr=null,t!==null&&(jn[Vn++]=gs,jn[Vn++]=ys,jn[Vn++]=Wo,gs=t.id,ys=t.overflow,Wo=e),e=Jw(e,r.children),e.flags|=4096,e)}function ZE(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Oy(t.return,e,n)}function dg(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function wI(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(rn(t,e,r.children,n),r=Ze.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ZE(t,n,e);else if(t.tag===19)ZE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Be(Ze,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&xf(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),dg(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&xf(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}dg(e,!0,n,null,i);break;case"together":dg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Mh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function As(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),qo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=Ii(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ii(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function rL(t,e,n){switch(e.tag){case 3:yI(e),pl();break;case 5:HC(e);break;case 1:wn(e.type)&&mf(e);break;case 4:Hw(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Be(vf,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Be(Ze,Ze.current&1),e.flags|=128,null):n&e.child.childLanes?vI(t,e,n):(Be(Ze,Ze.current&1),t=As(t,e,n),t!==null?t.sibling:null);Be(Ze,Ze.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return wI(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Be(Ze,Ze.current),r)break;return null;case 22:case 23:return e.lanes=0,mI(t,e,n)}return As(t,e,n)}var _I,By,xI,EI;_I=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};By=function(){};xI=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,So(Ur.current);var i=null;switch(n){case"input":s=uy(t,s),r=uy(t,r),i=[];break;case"select":s=nt({},s,{value:void 0}),r=nt({},r,{value:void 0}),i=[];break;case"textarea":s=fy(t,s),r=fy(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ff)}my(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(lu.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(lu.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&He("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};EI=function(t,e,n,r){n!==r&&(e.flags|=4)};function _c(t,e){if(!Qe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Gt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function sL(t,e,n){var r=e.pendingProps;switch(Lw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(e),null;case 1:return wn(e.type)&&pf(),Gt(e),null;case 3:return r=e.stateNode,gl(),Ge(vn),Ge(Jt),Gw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(nh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,cr!==null&&(Yy(cr),cr=null))),By(t,e),Gt(e),null;case 5:qw(e);var s=So(_u.current);if(n=e.type,t!==null&&e.stateNode!=null)xI(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return Gt(e),null}if(t=So(Ur.current),nh(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Mr]=e,r[vu]=i,t=(e.mode&1)!==0,n){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(s=0;s<Pc.length;s++)He(Pc[s],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":aE(r,i),He("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},He("invalid",r);break;case"textarea":cE(r,i),He("invalid",r)}my(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&th(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&th(r.textContent,a,t),s=["children",""+a]):lu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&He("scroll",r)}switch(n){case"input":Gd(r),lE(r,i,!0);break;case"textarea":Gd(r),uE(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ff)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=YA(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Mr]=e,t[vu]=r,_I(t,e,!1,!1),e.stateNode=t;e:{switch(o=gy(n,r),n){case"dialog":He("cancel",t),He("close",t),s=r;break;case"iframe":case"object":case"embed":He("load",t),s=r;break;case"video":case"audio":for(s=0;s<Pc.length;s++)He(Pc[s],t);s=r;break;case"source":He("error",t),s=r;break;case"img":case"image":case"link":He("error",t),He("load",t),s=r;break;case"details":He("toggle",t),s=r;break;case"input":aE(t,r),s=uy(t,r),He("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=nt({},r,{value:void 0}),He("invalid",t);break;case"textarea":cE(t,r),s=fy(t,r),He("invalid",t);break;default:s=r}my(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?JA(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&XA(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&cu(t,l):typeof l=="number"&&cu(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(lu.hasOwnProperty(i)?l!=null&&i==="onScroll"&&He("scroll",t):l!=null&&Tw(t,i,l,o))}switch(n){case"input":Gd(t),lE(t,r,!1);break;case"textarea":Gd(t),uE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Mi(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Ba(t,!!r.multiple,i,!1):r.defaultValue!=null&&Ba(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=ff)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Gt(e),null;case 6:if(t&&e.stateNode!=null)EI(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=So(_u.current),So(Ur.current),nh(e)){if(r=e.stateNode,n=e.memoizedProps,r[Mr]=e,(i=r.nodeValue!==n)&&(t=An,t!==null))switch(t.tag){case 3:th(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&th(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Mr]=e,e.stateNode=r}return Gt(e),null;case 13:if(Ge(Ze),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Qe&&Sn!==null&&e.mode&1&&!(e.flags&128))UC(),pl(),e.flags|=98560,i=!1;else if(i=nh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(z(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(z(317));i[Mr]=e}else pl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Gt(e),i=!1}else cr!==null&&(Yy(cr),cr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ze.current&1?St===0&&(St=3):i0())),e.updateQueue!==null&&(e.flags|=4),Gt(e),null);case 4:return gl(),By(t,e),t===null&&gu(e.stateNode.containerInfo),Gt(e),null;case 10:return Bw(e.type._context),Gt(e),null;case 17:return wn(e.type)&&pf(),Gt(e),null;case 19:if(Ge(Ze),i=e.memoizedState,i===null)return Gt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)_c(i,!1);else{if(St!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=xf(t),o!==null){for(e.flags|=128,_c(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Be(Ze,Ze.current&1|2),e.child}t=t.sibling}i.tail!==null&&ct()>vl&&(e.flags|=128,r=!0,_c(i,!1),e.lanes=4194304)}else{if(!r)if(t=xf(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),_c(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Qe)return Gt(e),null}else 2*ct()-i.renderingStartTime>vl&&n!==1073741824&&(e.flags|=128,r=!0,_c(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ct(),e.sibling=null,n=Ze.current,Be(Ze,r?n&1|2:n&1),e):(Gt(e),null);case 22:case 23:return s0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Tn&1073741824&&(Gt(e),e.subtreeFlags&6&&(e.flags|=8192)):Gt(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function iL(t,e){switch(Lw(e),e.tag){case 1:return wn(e.type)&&pf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return gl(),Ge(vn),Ge(Jt),Gw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return qw(e),null;case 13:if(Ge(Ze),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));pl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ge(Ze),null;case 4:return gl(),null;case 10:return Bw(e.type._context),null;case 22:case 23:return s0(),null;case 24:return null;default:return null}}var ih=!1,Yt=!1,oL=typeof WeakSet=="function"?WeakSet:Set,X=null;function Ma(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){at(t,e,r)}else n.current=null}function zy(t,e,n){try{n()}catch(r){at(t,e,r)}}var JE=!1;function aL(t,e){if(Ay=uf,t=CC(),jw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,f=t,p=null;t:for(;;){for(var m;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===t)break t;if(p===n&&++c===s&&(a=o),p===i&&++d===r&&(l=o),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Cy={focusedElem:t,selectionRange:n},uf=!1,X=e;X!==null;)if(e=X,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,X=t;else for(;X!==null;){e=X;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var v=b.memoizedProps,x=b.memoizedState,w=e.stateNode,E=w.getSnapshotBeforeUpdate(e.elementType===e.type?v:sr(e.type,v),x);w.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(I){at(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,X=t;break}X=e.return}return b=JE,JE=!1,b}function Wc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&zy(e,n,i)}s=s.next}while(s!==r)}}function kp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Wy(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function TI(t){var e=t.alternate;e!==null&&(t.alternate=null,TI(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Mr],delete e[vu],delete e[Ry],delete e[zV],delete e[WV])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function bI(t){return t.tag===5||t.tag===3||t.tag===4}function eT(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||bI(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Hy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ff));else if(r!==4&&(t=t.child,t!==null))for(Hy(t,e,n),t=t.sibling;t!==null;)Hy(t,e,n),t=t.sibling}function qy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(qy(t,e,n),t=t.sibling;t!==null;)qy(t,e,n),t=t.sibling}var jt=null,lr=!1;function Qs(t,e,n){for(n=n.child;n!==null;)SI(t,e,n),n=n.sibling}function SI(t,e,n){if(Fr&&typeof Fr.onCommitFiberUnmount=="function")try{Fr.onCommitFiberUnmount(Tp,n)}catch{}switch(n.tag){case 5:Yt||Ma(n,e);case 6:var r=jt,s=lr;jt=null,Qs(t,e,n),jt=r,lr=s,jt!==null&&(lr?(t=jt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):jt.removeChild(n.stateNode));break;case 18:jt!==null&&(lr?(t=jt,n=n.stateNode,t.nodeType===8?sg(t.parentNode,n):t.nodeType===1&&sg(t,n),fu(t)):sg(jt,n.stateNode));break;case 4:r=jt,s=lr,jt=n.stateNode.containerInfo,lr=!0,Qs(t,e,n),jt=r,lr=s;break;case 0:case 11:case 14:case 15:if(!Yt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&zy(n,e,o),s=s.next}while(s!==r)}Qs(t,e,n);break;case 1:if(!Yt&&(Ma(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){at(n,e,a)}Qs(t,e,n);break;case 21:Qs(t,e,n);break;case 22:n.mode&1?(Yt=(r=Yt)||n.memoizedState!==null,Qs(t,e,n),Yt=r):Qs(t,e,n);break;default:Qs(t,e,n)}}function tT(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new oL),e.forEach(function(r){var s=gL.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Jn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:jt=a.stateNode,lr=!1;break e;case 3:jt=a.stateNode.containerInfo,lr=!0;break e;case 4:jt=a.stateNode.containerInfo,lr=!0;break e}a=a.return}if(jt===null)throw Error(z(160));SI(i,o,s),jt=null,lr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){at(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)AI(e,t),e=e.sibling}function AI(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Jn(e,t),Pr(t),r&4){try{Wc(3,t,t.return),kp(3,t)}catch(v){at(t,t.return,v)}try{Wc(5,t,t.return)}catch(v){at(t,t.return,v)}}break;case 1:Jn(e,t),Pr(t),r&512&&n!==null&&Ma(n,n.return);break;case 5:if(Jn(e,t),Pr(t),r&512&&n!==null&&Ma(n,n.return),t.flags&32){var s=t.stateNode;try{cu(s,"")}catch(v){at(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&KA(s,i),gy(a,o);var c=gy(a,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?JA(s,f):d==="dangerouslySetInnerHTML"?XA(s,f):d==="children"?cu(s,f):Tw(s,d,f,c)}switch(a){case"input":dy(s,i);break;case"textarea":QA(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Ba(s,!!i.multiple,m,!1):p!==!!i.multiple&&(i.defaultValue!=null?Ba(s,!!i.multiple,i.defaultValue,!0):Ba(s,!!i.multiple,i.multiple?[]:"",!1))}s[vu]=i}catch(v){at(t,t.return,v)}}break;case 6:if(Jn(e,t),Pr(t),r&4){if(t.stateNode===null)throw Error(z(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){at(t,t.return,v)}}break;case 3:if(Jn(e,t),Pr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{fu(e.containerInfo)}catch(v){at(t,t.return,v)}break;case 4:Jn(e,t),Pr(t);break;case 13:Jn(e,t),Pr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(n0=ct())),r&4&&tT(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Yt=(c=Yt)||d,Jn(e,t),Yt=c):Jn(e,t),Pr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(X=t,d=t.child;d!==null;){for(f=X=d;X!==null;){switch(p=X,m=p.child,p.tag){case 0:case 11:case 14:case 15:Wc(4,p,p.return);break;case 1:Ma(p,p.return);var b=p.stateNode;if(typeof b.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(v){at(r,n,v)}}break;case 5:Ma(p,p.return);break;case 22:if(p.memoizedState!==null){rT(f);continue}}m!==null?(m.return=p,X=m):rT(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=ZA("display",o))}catch(v){at(t,t.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){at(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Jn(e,t),Pr(t),r&4&&tT(t);break;case 21:break;default:Jn(e,t),Pr(t)}}function Pr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(bI(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(cu(s,""),r.flags&=-33);var i=eT(t);qy(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=eT(t);Hy(t,a,o);break;default:throw Error(z(161))}}catch(l){at(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function lL(t,e,n){X=t,CI(t)}function CI(t,e,n){for(var r=(t.mode&1)!==0;X!==null;){var s=X,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||ih;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Yt;a=ih;var c=Yt;if(ih=o,(Yt=l)&&!c)for(X=s;X!==null;)o=X,l=o.child,o.tag===22&&o.memoizedState!==null?sT(s):l!==null?(l.return=o,X=l):sT(s);for(;i!==null;)X=i,CI(i),i=i.sibling;X=s,ih=a,Yt=c}nT(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,X=i):nT(t)}}function nT(t){for(;X!==null;){var e=X;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Yt||kp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Yt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:sr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&UE(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}UE(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&fu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Yt||e.flags&512&&Wy(e)}catch(p){at(e,e.return,p)}}if(e===t){X=null;break}if(n=e.sibling,n!==null){n.return=e.return,X=n;break}X=e.return}}function rT(t){for(;X!==null;){var e=X;if(e===t){X=null;break}var n=e.sibling;if(n!==null){n.return=e.return,X=n;break}X=e.return}}function sT(t){for(;X!==null;){var e=X;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{kp(4,e)}catch(l){at(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){at(e,s,l)}}var i=e.return;try{Wy(e)}catch(l){at(e,i,l)}break;case 5:var o=e.return;try{Wy(e)}catch(l){at(e,o,l)}}}catch(l){at(e,e.return,l)}if(e===t){X=null;break}var a=e.sibling;if(a!==null){a.return=e.return,X=a;break}X=e.return}}var cL=Math.ceil,bf=Vs.ReactCurrentDispatcher,e0=Vs.ReactCurrentOwner,Bn=Vs.ReactCurrentBatchConfig,Re=0,Mt=null,yt=null,$t=0,Tn=0,ja=Xi(0),St=0,bu=null,qo=0,Np=0,t0=0,Hc=null,mn=null,n0=0,vl=1/0,ds=null,Sf=!1,Gy=null,Ai=null,oh=!1,yi=null,Af=0,qc=0,Ky=null,jh=-1,Vh=0;function ln(){return Re&6?ct():jh!==-1?jh:jh=ct()}function Ci(t){return t.mode&1?Re&2&&$t!==0?$t&-$t:qV.transition!==null?(Vh===0&&(Vh=dC()),Vh):(t=Ve,t!==0||(t=window.event,t=t===void 0?16:vC(t.type)),t):1}function pr(t,e,n,r){if(50<qc)throw qc=0,Ky=null,Error(z(185));nd(t,n,r),(!(Re&2)||t!==Mt)&&(t===Mt&&(!(Re&2)&&(Np|=n),St===4&&oi(t,$t)),_n(t,r),n===1&&Re===0&&!(e.mode&1)&&(vl=ct()+500,Ip&&Zi()))}function _n(t,e){var n=t.callbackNode;qj(t,e);var r=cf(t,t===Mt?$t:0);if(r===0)n!==null&&fE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&fE(n),e===1)t.tag===0?HV(iT.bind(null,t)):VC(iT.bind(null,t)),$V(function(){!(Re&6)&&Zi()}),n=null;else{switch(hC(r)){case 1:n=Iw;break;case 4:n=cC;break;case 16:n=lf;break;case 536870912:n=uC;break;default:n=lf}n=MI(n,II.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function II(t,e){if(jh=-1,Vh=0,Re&6)throw Error(z(327));var n=t.callbackNode;if(Ga()&&t.callbackNode!==n)return null;var r=cf(t,t===Mt?$t:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Cf(t,r);else{e=r;var s=Re;Re|=2;var i=RI();(Mt!==t||$t!==e)&&(ds=null,vl=ct()+500,jo(t,e));do try{hL();break}catch(a){PI(t,a)}while(!0);$w(),bf.current=i,Re=s,yt!==null?e=0:(Mt=null,$t=0,e=St)}if(e!==0){if(e===2&&(s=xy(t),s!==0&&(r=s,e=Qy(t,s))),e===1)throw n=bu,jo(t,0),oi(t,r),_n(t,ct()),n;if(e===6)oi(t,r);else{if(s=t.current.alternate,!(r&30)&&!uL(s)&&(e=Cf(t,r),e===2&&(i=xy(t),i!==0&&(r=i,e=Qy(t,i))),e===1))throw n=bu,jo(t,0),oi(t,r),_n(t,ct()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:yo(t,mn,ds);break;case 3:if(oi(t,r),(r&130023424)===r&&(e=n0+500-ct(),10<e)){if(cf(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){ln(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Py(yo.bind(null,t,mn,ds),e);break}yo(t,mn,ds);break;case 4:if(oi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-fr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ct()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*cL(r/1960))-r,10<r){t.timeoutHandle=Py(yo.bind(null,t,mn,ds),r);break}yo(t,mn,ds);break;case 5:yo(t,mn,ds);break;default:throw Error(z(329))}}}return _n(t,ct()),t.callbackNode===n?II.bind(null,t):null}function Qy(t,e){var n=Hc;return t.current.memoizedState.isDehydrated&&(jo(t,e).flags|=256),t=Cf(t,e),t!==2&&(e=mn,mn=n,e!==null&&Yy(e)),t}function Yy(t){mn===null?mn=t:mn.push.apply(mn,t)}function uL(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!gr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function oi(t,e){for(e&=~t0,e&=~Np,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-fr(e),r=1<<n;t[n]=-1,e&=~r}}function iT(t){if(Re&6)throw Error(z(327));Ga();var e=cf(t,0);if(!(e&1))return _n(t,ct()),null;var n=Cf(t,e);if(t.tag!==0&&n===2){var r=xy(t);r!==0&&(e=r,n=Qy(t,r))}if(n===1)throw n=bu,jo(t,0),oi(t,e),_n(t,ct()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,yo(t,mn,ds),_n(t,ct()),null}function r0(t,e){var n=Re;Re|=1;try{return t(e)}finally{Re=n,Re===0&&(vl=ct()+500,Ip&&Zi())}}function Go(t){yi!==null&&yi.tag===0&&!(Re&6)&&Ga();var e=Re;Re|=1;var n=Bn.transition,r=Ve;try{if(Bn.transition=null,Ve=1,t)return t()}finally{Ve=r,Bn.transition=n,Re=e,!(Re&6)&&Zi()}}function s0(){Tn=ja.current,Ge(ja)}function jo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,UV(n)),yt!==null)for(n=yt.return;n!==null;){var r=n;switch(Lw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&pf();break;case 3:gl(),Ge(vn),Ge(Jt),Gw();break;case 5:qw(r);break;case 4:gl();break;case 13:Ge(Ze);break;case 19:Ge(Ze);break;case 10:Bw(r.type._context);break;case 22:case 23:s0()}n=n.return}if(Mt=t,yt=t=Ii(t.current,null),$t=Tn=e,St=0,bu=null,t0=Np=qo=0,mn=Hc=null,bo!==null){for(e=0;e<bo.length;e++)if(n=bo[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}bo=null}return t}function PI(t,e){do{var n=yt;try{if($w(),Dh.current=Tf,Ef){for(var r=tt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ef=!1}if(Ho=0,Nt=Tt=tt=null,zc=!1,xu=0,e0.current=null,n===null||n.return===null){St=1,bu=e,yt=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=$t,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=qE(o);if(m!==null){m.flags&=-257,GE(m,o,a,i,e),m.mode&1&&HE(i,c,e),e=m,l=c;var b=e.updateQueue;if(b===null){var v=new Set;v.add(l),e.updateQueue=v}else b.add(l);break e}else{if(!(e&1)){HE(i,c,e),i0();break e}l=Error(z(426))}}else if(Qe&&a.mode&1){var x=qE(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),GE(x,o,a,i,e),Fw(yl(l,a));break e}}i=l=yl(l,a),St!==4&&(St=2),Hc===null?Hc=[i]:Hc.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=hI(i,l,e);FE(i,w);break e;case 1:a=l;var E=i.type,T=i.stateNode;if(!(i.flags&128)&&(typeof E.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Ai===null||!Ai.has(T)))){i.flags|=65536,e&=-e,i.lanes|=e;var I=fI(i,a,e);FE(i,I);break e}}i=i.return}while(i!==null)}NI(n)}catch(C){e=C,yt===n&&n!==null&&(yt=n=n.return);continue}break}while(!0)}function RI(){var t=bf.current;return bf.current=Tf,t===null?Tf:t}function i0(){(St===0||St===3||St===2)&&(St=4),Mt===null||!(qo&268435455)&&!(Np&268435455)||oi(Mt,$t)}function Cf(t,e){var n=Re;Re|=2;var r=RI();(Mt!==t||$t!==e)&&(ds=null,jo(t,e));do try{dL();break}catch(s){PI(t,s)}while(!0);if($w(),Re=n,bf.current=r,yt!==null)throw Error(z(261));return Mt=null,$t=0,St}function dL(){for(;yt!==null;)kI(yt)}function hL(){for(;yt!==null&&!Vj();)kI(yt)}function kI(t){var e=OI(t.alternate,t,Tn);t.memoizedProps=t.pendingProps,e===null?NI(t):yt=e,e0.current=null}function NI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=iL(n,e),n!==null){n.flags&=32767,yt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{St=6,yt=null;return}}else if(n=sL(n,e,Tn),n!==null){yt=n;return}if(e=e.sibling,e!==null){yt=e;return}yt=e=t}while(e!==null);St===0&&(St=5)}function yo(t,e,n){var r=Ve,s=Bn.transition;try{Bn.transition=null,Ve=1,fL(t,e,n,r)}finally{Bn.transition=s,Ve=r}return null}function fL(t,e,n,r){do Ga();while(yi!==null);if(Re&6)throw Error(z(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Gj(t,i),t===Mt&&(yt=Mt=null,$t=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||oh||(oh=!0,MI(lf,function(){return Ga(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Bn.transition,Bn.transition=null;var o=Ve;Ve=1;var a=Re;Re|=4,e0.current=null,aL(t,n),AI(n,t),DV(Cy),uf=!!Ay,Cy=Ay=null,t.current=n,lL(n),Lj(),Re=a,Ve=o,Bn.transition=i}else t.current=n;if(oh&&(oh=!1,yi=t,Af=s),i=t.pendingLanes,i===0&&(Ai=null),$j(n.stateNode),_n(t,ct()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Sf)throw Sf=!1,t=Gy,Gy=null,t;return Af&1&&t.tag!==0&&Ga(),i=t.pendingLanes,i&1?t===Ky?qc++:(qc=0,Ky=t):qc=0,Zi(),null}function Ga(){if(yi!==null){var t=hC(Af),e=Bn.transition,n=Ve;try{if(Bn.transition=null,Ve=16>t?16:t,yi===null)var r=!1;else{if(t=yi,yi=null,Af=0,Re&6)throw Error(z(331));var s=Re;for(Re|=4,X=t.current;X!==null;){var i=X,o=i.child;if(X.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(X=c;X!==null;){var d=X;switch(d.tag){case 0:case 11:case 15:Wc(8,d,i)}var f=d.child;if(f!==null)f.return=d,X=f;else for(;X!==null;){d=X;var p=d.sibling,m=d.return;if(TI(d),d===c){X=null;break}if(p!==null){p.return=m,X=p;break}X=m}}}var b=i.alternate;if(b!==null){var v=b.child;if(v!==null){b.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}X=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,X=o;else e:for(;X!==null;){if(i=X,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Wc(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,X=w;break e}X=i.return}}var E=t.current;for(X=E;X!==null;){o=X;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,X=T;else e:for(o=E;X!==null;){if(a=X,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:kp(9,a)}}catch(C){at(a,a.return,C)}if(a===o){X=null;break e}var I=a.sibling;if(I!==null){I.return=a.return,X=I;break e}X=a.return}}if(Re=s,Zi(),Fr&&typeof Fr.onPostCommitFiberRoot=="function")try{Fr.onPostCommitFiberRoot(Tp,t)}catch{}r=!0}return r}finally{Ve=n,Bn.transition=e}}return!1}function oT(t,e,n){e=yl(n,e),e=hI(t,e,1),t=Si(t,e,1),e=ln(),t!==null&&(nd(t,1,e),_n(t,e))}function at(t,e,n){if(t.tag===3)oT(t,t,n);else for(;e!==null;){if(e.tag===3){oT(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ai===null||!Ai.has(r))){t=yl(n,t),t=fI(e,t,1),e=Si(e,t,1),t=ln(),e!==null&&(nd(e,1,t),_n(e,t));break}}e=e.return}}function pL(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ln(),t.pingedLanes|=t.suspendedLanes&n,Mt===t&&($t&n)===n&&(St===4||St===3&&($t&130023424)===$t&&500>ct()-n0?jo(t,0):t0|=n),_n(t,e)}function DI(t,e){e===0&&(t.mode&1?(e=Yd,Yd<<=1,!(Yd&130023424)&&(Yd=4194304)):e=1);var n=ln();t=Ss(t,e),t!==null&&(nd(t,e,n),_n(t,n))}function mL(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),DI(t,n)}function gL(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),DI(t,n)}var OI;OI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||vn.current)gn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return gn=!1,rL(t,e,n);gn=!!(t.flags&131072)}else gn=!1,Qe&&e.flags&1048576&&LC(e,yf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Mh(t,e),t=e.pendingProps;var s=fl(e,Jt.current);qa(e,n),s=Qw(null,e,r,t,s,n);var i=Yw();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,wn(r)?(i=!0,mf(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ww(e),s.updater=Rp,e.stateNode=s,s._reactInternals=e,jy(e,r,t,n),e=Fy(null,e,r,!0,i,n)):(e.tag=0,Qe&&i&&Vw(e),rn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Mh(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=vL(r),t=sr(r,t),s){case 0:e=Ly(null,e,r,t,n);break e;case 1:e=YE(null,e,r,t,n);break e;case 11:e=KE(null,e,r,t,n);break e;case 14:e=QE(null,e,r,sr(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:sr(r,s),Ly(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:sr(r,s),YE(t,e,r,s,n);case 3:e:{if(yI(e),t===null)throw Error(z(387));r=e.pendingProps,i=e.memoizedState,s=i.element,WC(t,e),_f(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=yl(Error(z(423)),e),e=XE(t,e,r,n,s);break e}else if(r!==s){s=yl(Error(z(424)),e),e=XE(t,e,r,n,s);break e}else for(Sn=bi(e.stateNode.containerInfo.firstChild),An=e,Qe=!0,cr=null,n=BC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(pl(),r===s){e=As(t,e,n);break e}rn(t,e,r,n)}e=e.child}return e;case 5:return HC(e),t===null&&Dy(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Iy(r,s)?o=null:i!==null&&Iy(r,i)&&(e.flags|=32),gI(t,e),rn(t,e,o,n),e.child;case 6:return t===null&&Dy(e),null;case 13:return vI(t,e,n);case 4:return Hw(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ml(e,null,r,n):rn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:sr(r,s),KE(t,e,r,s,n);case 7:return rn(t,e,e.pendingProps,n),e.child;case 8:return rn(t,e,e.pendingProps.children,n),e.child;case 12:return rn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Be(vf,r._currentValue),r._currentValue=o,i!==null)if(gr(i.value,o)){if(i.children===s.children&&!vn.current){e=As(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=_s(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Oy(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(z(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Oy(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}rn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,qa(e,n),s=Hn(s),r=r(s),e.flags|=1,rn(t,e,r,n),e.child;case 14:return r=e.type,s=sr(r,e.pendingProps),s=sr(r.type,s),QE(t,e,r,s,n);case 15:return pI(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:sr(r,s),Mh(t,e),e.tag=1,wn(r)?(t=!0,mf(e)):t=!1,qa(e,n),dI(e,r,s),jy(e,r,s,n),Fy(null,e,r,!0,t,n);case 19:return wI(t,e,n);case 22:return mI(t,e,n)}throw Error(z(156,e.tag))};function MI(t,e){return lC(t,e)}function yL(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(t,e,n,r){return new yL(t,e,n,r)}function o0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function vL(t){if(typeof t=="function")return o0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Sw)return 11;if(t===Aw)return 14}return 2}function Ii(t,e){var n=t.alternate;return n===null?(n=Un(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Lh(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")o0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Aa:return Vo(n.children,s,i,e);case bw:o=8,s|=8;break;case oy:return t=Un(12,n,e,s|2),t.elementType=oy,t.lanes=i,t;case ay:return t=Un(13,n,e,s),t.elementType=ay,t.lanes=i,t;case ly:return t=Un(19,n,e,s),t.elementType=ly,t.lanes=i,t;case HA:return Dp(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case zA:o=10;break e;case WA:o=9;break e;case Sw:o=11;break e;case Aw:o=14;break e;case ni:o=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=Un(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Vo(t,e,n,r){return t=Un(7,t,r,e),t.lanes=n,t}function Dp(t,e,n,r){return t=Un(22,t,r,e),t.elementType=HA,t.lanes=n,t.stateNode={isHidden:!1},t}function hg(t,e,n){return t=Un(6,t,null,e),t.lanes=n,t}function fg(t,e,n){return e=Un(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function wL(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gm(0),this.expirationTimes=Gm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gm(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function a0(t,e,n,r,s,i,o,a,l){return t=new wL(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Un(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ww(i),t}function _L(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Sa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function jI(t){if(!t)return ji;t=t._reactInternals;e:{if(ra(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(wn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(wn(n))return jC(t,n,e)}return e}function VI(t,e,n,r,s,i,o,a,l){return t=a0(n,r,!0,t,s,i,o,a,l),t.context=jI(null),n=t.current,r=ln(),s=Ci(n),i=_s(r,s),i.callback=e??null,Si(n,i,s),t.current.lanes=s,nd(t,s,r),_n(t,r),t}function Op(t,e,n,r){var s=e.current,i=ln(),o=Ci(s);return n=jI(n),e.context===null?e.context=n:e.pendingContext=n,e=_s(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Si(s,e,o),t!==null&&(pr(t,s,o,i),Nh(t,s,o)),o}function If(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function aT(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function l0(t,e){aT(t,e),(t=t.alternate)&&aT(t,e)}function xL(){return null}var LI=typeof reportError=="function"?reportError:function(t){console.error(t)};function c0(t){this._internalRoot=t}Mp.prototype.render=c0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));Op(t,e,null,null)};Mp.prototype.unmount=c0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Go(function(){Op(null,t,null,null)}),e[bs]=null}};function Mp(t){this._internalRoot=t}Mp.prototype.unstable_scheduleHydration=function(t){if(t){var e=mC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ii.length&&e!==0&&e<ii[n].priority;n++);ii.splice(n,0,t),n===0&&yC(t)}};function u0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function jp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function lT(){}function EL(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=If(o);i.call(c)}}var o=VI(e,r,t,0,null,!1,!1,"",lT);return t._reactRootContainer=o,t[bs]=o.current,gu(t.nodeType===8?t.parentNode:t),Go(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=If(l);a.call(c)}}var l=a0(t,0,!1,null,null,!1,!1,"",lT);return t._reactRootContainer=l,t[bs]=l.current,gu(t.nodeType===8?t.parentNode:t),Go(function(){Op(e,l,n,r)}),l}function Vp(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=If(o);a.call(l)}}Op(e,o,t,s)}else o=EL(n,e,t,s,r);return If(o)}fC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ic(e.pendingLanes);n!==0&&(Pw(e,n|1),_n(e,ct()),!(Re&6)&&(vl=ct()+500,Zi()))}break;case 13:Go(function(){var r=Ss(t,1);if(r!==null){var s=ln();pr(r,t,1,s)}}),l0(t,1)}};Rw=function(t){if(t.tag===13){var e=Ss(t,134217728);if(e!==null){var n=ln();pr(e,t,134217728,n)}l0(t,134217728)}};pC=function(t){if(t.tag===13){var e=Ci(t),n=Ss(t,e);if(n!==null){var r=ln();pr(n,t,e,r)}l0(t,e)}};mC=function(){return Ve};gC=function(t,e){var n=Ve;try{return Ve=t,e()}finally{Ve=n}};vy=function(t,e,n){switch(e){case"input":if(dy(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Cp(r);if(!s)throw Error(z(90));GA(r),dy(r,s)}}}break;case"textarea":QA(t,n);break;case"select":e=n.value,e!=null&&Ba(t,!!n.multiple,e,!1)}};nC=r0;rC=Go;var TL={usingClientEntryPoint:!1,Events:[sd,Ra,Cp,eC,tC,r0]},xc={findFiberByHostInstance:To,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bL={bundleType:xc.bundleType,version:xc.version,rendererPackageName:xc.rendererPackageName,rendererConfig:xc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=oC(t),t===null?null:t.stateNode},findFiberByHostInstance:xc.findFiberByHostInstance||xL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ah=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ah.isDisabled&&ah.supportsFiber)try{Tp=ah.inject(bL),Fr=ah}catch{}}Rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TL;Rn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u0(e))throw Error(z(200));return _L(t,e,null,n)};Rn.createRoot=function(t,e){if(!u0(t))throw Error(z(299));var n=!1,r="",s=LI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=a0(t,1,!1,null,null,n,!1,r,s),t[bs]=e.current,gu(t.nodeType===8?t.parentNode:t),new c0(e)};Rn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=oC(e),t=t===null?null:t.stateNode,t};Rn.flushSync=function(t){return Go(t)};Rn.hydrate=function(t,e,n){if(!jp(e))throw Error(z(200));return Vp(null,t,e,!0,n)};Rn.hydrateRoot=function(t,e,n){if(!u0(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=LI;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=VI(e,null,t,1,n??null,s,!1,i,o),t[bs]=e.current,gu(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Mp(e)};Rn.render=function(t,e,n){if(!jp(e))throw Error(z(200));return Vp(null,t,e,!1,n)};Rn.unmountComponentAtNode=function(t){if(!jp(t))throw Error(z(40));return t._reactRootContainer?(Go(function(){Vp(null,null,t,!1,function(){t._reactRootContainer=null,t[bs]=null})}),!0):!1};Rn.unstable_batchedUpdates=r0;Rn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!jp(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return Vp(t,e,n,!1,r)};Rn.version="18.3.1-next-f1338f8080-20240426";function FI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(FI)}catch(t){console.error(t)}}FI(),FA.exports=Rn;var od=FA.exports;const UI=CA(od);var $I,cT=od;$I=cT.createRoot,cT.hydrateRoot;const SL=1,AL=1e6;let pg=0;function CL(){return pg=(pg+1)%Number.MAX_SAFE_INTEGER,pg.toString()}const mg=new Map,uT=t=>{if(mg.has(t))return;const e=setTimeout(()=>{mg.delete(t),Gc({type:"REMOVE_TOAST",toastId:t})},AL);mg.set(t,e)},IL=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,SL)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?uT(n):t.toasts.forEach(r=>{uT(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Fh=[];let Uh={toasts:[]};function Gc(t){Uh=IL(Uh,t),Fh.forEach(e=>{e(Uh)})}function PL({...t}){const e=CL(),n=s=>Gc({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Gc({type:"DISMISS_TOAST",toastId:e});return Gc({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function sa(){const[t,e]=y.useState(Uh);return y.useEffect(()=>(Fh.push(e),()=>{const n=Fh.indexOf(e);n>-1&&Fh.splice(n,1)}),[t]),{...t,toast:PL,dismiss:n=>Gc({type:"DISMISS_TOAST",toastId:n})}}function Ee(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function dT(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function ad(...t){return e=>{let n=!1;const r=t.map(s=>{const i=dT(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():dT(t[s],null)}}}}function ut(...t){return y.useCallback(ad(...t),t)}function RL(t,e){const n=y.createContext(e),r=i=>{const{children:o,...a}=i,l=y.useMemo(()=>a,Object.values(a));return h.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=y.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function es(t,e=[]){let n=[];function r(i,o){const a=y.createContext(o),l=n.length;n=[...n,o];const c=f=>{var w;const{scope:p,children:m,...b}=f,v=((w=p==null?void 0:p[t])==null?void 0:w[l])||a,x=y.useMemo(()=>b,Object.values(b));return h.jsx(v.Provider,{value:x,children:m})};c.displayName=i+"Provider";function d(f,p){var v;const m=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,b=y.useContext(m);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[c,d]}const s=()=>{const i=n.map(o=>y.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,kL(s,...e)]}function kL(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Su(t){const e=DL(t),n=y.forwardRef((r,s)=>{const{children:i,...o}=r,a=y.Children.toArray(i),l=a.find(OL);if(l){const c=l.props.children,d=a.map(f=>f===l?y.Children.count(c)>1?y.Children.only(null):y.isValidElement(c)?c.props.children:null:f);return h.jsx(e,{...o,ref:s,children:y.isValidElement(c)?y.cloneElement(c,void 0,d):null})}return h.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var NL=Su("Slot");function DL(t){const e=y.forwardRef((n,r)=>{const{children:s,...i}=n;if(y.isValidElement(s)){const o=jL(s),a=ML(i,s.props);return s.type!==y.Fragment&&(a.ref=r?ad(r,o):o),y.cloneElement(s,a)}return y.Children.count(s)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var BI=Symbol("radix.slottable");function zI(t){const e=({children:n})=>h.jsx(h.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=BI,e}function OL(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===BI}function ML(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function jL(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function WI(t){const e=t+"CollectionProvider",[n,r]=es(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:x,children:w}=v,E=q.useRef(null),T=q.useRef(new Map).current;return h.jsx(s,{scope:x,itemMap:T,collectionRef:E,children:w})};o.displayName=e;const a=t+"CollectionSlot",l=Su(a),c=q.forwardRef((v,x)=>{const{scope:w,children:E}=v,T=i(a,w),I=ut(x,T.collectionRef);return h.jsx(l,{ref:I,children:E})});c.displayName=a;const d=t+"CollectionItemSlot",f="data-radix-collection-item",p=Su(d),m=q.forwardRef((v,x)=>{const{scope:w,children:E,...T}=v,I=q.useRef(null),C=ut(x,I),M=i(d,w);return q.useEffect(()=>(M.itemMap.set(I,{ref:I,...T}),()=>void M.itemMap.delete(I))),h.jsx(p,{[f]:"",ref:C,children:E})});m.displayName=d;function b(v){const x=i(t+"CollectionConsumer",v);return q.useCallback(()=>{const E=x.collectionRef.current;if(!E)return[];const T=Array.from(E.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((M,A)=>T.indexOf(M.ref.current)-T.indexOf(A.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:c,ItemSlot:m},b,r]}var VL=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],je=VL.reduce((t,e)=>{const n=Su(`Primitive.${e}`),r=y.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function HI(t,e){t&&od.flushSync(()=>t.dispatchEvent(e))}function yr(t){const e=y.useRef(t);return y.useEffect(()=>{e.current=t}),y.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function LL(t,e=globalThis==null?void 0:globalThis.document){const n=yr(t);y.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var FL="DismissableLayer",Xy="dismissableLayer.update",UL="dismissableLayer.pointerDownOutside",$L="dismissableLayer.focusOutside",hT,qI=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Lp=y.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=y.useContext(qI),[d,f]=y.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=y.useState({}),b=ut(e,A=>f(A)),v=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),w=v.indexOf(x),E=d?v.indexOf(d):-1,T=c.layersWithOutsidePointerEventsDisabled.size>0,I=E>=w,C=zL(A=>{const S=A.target,P=[...c.branches].some(N=>N.contains(S));!I||P||(s==null||s(A),o==null||o(A),A.defaultPrevented||a==null||a())},p),M=WL(A=>{const S=A.target;[...c.branches].some(N=>N.contains(S))||(i==null||i(A),o==null||o(A),A.defaultPrevented||a==null||a())},p);return LL(A=>{E===c.layers.size-1&&(r==null||r(A),!A.defaultPrevented&&a&&(A.preventDefault(),a()))},p),y.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(hT=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),fT(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=hT)}},[d,p,n,c]),y.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),fT())},[d,c]),y.useEffect(()=>{const A=()=>m({});return document.addEventListener(Xy,A),()=>document.removeEventListener(Xy,A)},[]),h.jsx(je.div,{...l,ref:b,style:{pointerEvents:T?I?"auto":"none":void 0,...t.style},onFocusCapture:Ee(t.onFocusCapture,M.onFocusCapture),onBlurCapture:Ee(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:Ee(t.onPointerDownCapture,C.onPointerDownCapture)})});Lp.displayName=FL;var BL="DismissableLayerBranch",GI=y.forwardRef((t,e)=>{const n=y.useContext(qI),r=y.useRef(null),s=ut(e,r);return y.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),h.jsx(je.div,{...t,ref:s})});GI.displayName=BL;function zL(t,e=globalThis==null?void 0:globalThis.document){const n=yr(t),r=y.useRef(!1),s=y.useRef(()=>{});return y.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){KI(UL,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function WL(t,e=globalThis==null?void 0:globalThis.document){const n=yr(t),r=y.useRef(!1);return y.useEffect(()=>{const s=i=>{i.target&&!r.current&&KI($L,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function fT(){const t=new CustomEvent(Xy);document.dispatchEvent(t)}function KI(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?HI(s,i):s.dispatchEvent(i)}var HL=Lp,qL=GI,Cs=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},GL="Portal",d0=y.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=y.useState(!1);Cs(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?UI.createPortal(h.jsx(je.div,{...r,ref:e}),o):null});d0.displayName=GL;function KL(t,e){return y.useReducer((n,r)=>e[n][r]??n,t)}var Ji=t=>{const{present:e,children:n}=t,r=QL(e),s=typeof n=="function"?n({present:r.isPresent}):y.Children.only(n),i=ut(r.ref,YL(s));return typeof n=="function"||r.isPresent?y.cloneElement(s,{ref:i}):null};Ji.displayName="Presence";function QL(t){const[e,n]=y.useState(),r=y.useRef(null),s=y.useRef(t),i=y.useRef("none"),o=t?"mounted":"unmounted",[a,l]=KL(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const c=lh(r.current);i.current=a==="mounted"?c:"none"},[a]),Cs(()=>{const c=r.current,d=s.current;if(d!==t){const p=i.current,m=lh(c);t?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&p!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Cs(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,f=m=>{const v=lh(r.current).includes(CSS.escape(m.animationName));if(m.target===e&&v&&(l("ANIMATION_END"),!s.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},p=m=>{m.target===e&&(i.current=lh(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:y.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function lh(t){return(t==null?void 0:t.animationName)||"none"}function YL(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var XL=Vl[" useInsertionEffect ".trim().toString()]||Cs;function ld({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=ZL({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:s;{const d=y.useRef(t!==void 0);y.useEffect(()=>{const f=d.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const c=y.useCallback(d=>{var f;if(a){const p=JL(d)?d(t):d;p!==t&&((f=o.current)==null||f.call(o,p))}else i(d)},[a,t,i,o]);return[l,c]}function ZL({defaultProp:t,onChange:e}){const[n,r]=y.useState(t),s=y.useRef(n),i=y.useRef(e);return XL(()=>{i.current=e},[e]),y.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function JL(t){return typeof t=="function"}var e4=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),t4="VisuallyHidden",Fp=y.forwardRef((t,e)=>h.jsx(je.span,{...t,ref:e,style:{...e4,...t.style}}));Fp.displayName=t4;var n4=Fp,h0="ToastProvider",[f0,r4,s4]=WI("Toast"),[QI]=es("Toast",[s4]),[i4,Up]=QI(h0),YI=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=y.useState(null),[c,d]=y.useState(0),f=y.useRef(!1),p=y.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${h0}\`. Expected non-empty \`string\`.`),h.jsx(f0.Provider,{scope:e,children:h.jsx(i4,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:y.useCallback(()=>d(m=>m+1),[]),onToastRemove:y.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:o})})};YI.displayName=h0;var XI="ToastViewport",o4=["F8"],Zy="toast.viewportPause",Jy="toast.viewportResume",ZI=y.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=o4,label:s="Notifications ({hotkey})",...i}=t,o=Up(XI,n),a=r4(n),l=y.useRef(null),c=y.useRef(null),d=y.useRef(null),f=y.useRef(null),p=ut(e,f,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=o.toastCount>0;y.useEffect(()=>{const x=w=>{var T;r.length!==0&&r.every(I=>w[I]||w.code===I)&&((T=f.current)==null||T.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),y.useEffect(()=>{const x=l.current,w=f.current;if(b&&x&&w){const E=()=>{if(!o.isClosePausedRef.current){const M=new CustomEvent(Zy);w.dispatchEvent(M),o.isClosePausedRef.current=!0}},T=()=>{if(o.isClosePausedRef.current){const M=new CustomEvent(Jy);w.dispatchEvent(M),o.isClosePausedRef.current=!1}},I=M=>{!x.contains(M.relatedTarget)&&T()},C=()=>{x.contains(document.activeElement)||T()};return x.addEventListener("focusin",E),x.addEventListener("focusout",I),x.addEventListener("pointermove",E),x.addEventListener("pointerleave",C),window.addEventListener("blur",E),window.addEventListener("focus",T),()=>{x.removeEventListener("focusin",E),x.removeEventListener("focusout",I),x.removeEventListener("pointermove",E),x.removeEventListener("pointerleave",C),window.removeEventListener("blur",E),window.removeEventListener("focus",T)}}},[b,o.isClosePausedRef]);const v=y.useCallback(({tabbingDirection:x})=>{const E=a().map(T=>{const I=T.ref.current,C=[I,...w4(I)];return x==="forwards"?C:C.reverse()});return(x==="forwards"?E.reverse():E).flat()},[a]);return y.useEffect(()=>{const x=f.current;if(x){const w=E=>{var C,M,A;const T=E.altKey||E.ctrlKey||E.metaKey;if(E.key==="Tab"&&!T){const S=document.activeElement,P=E.shiftKey;if(E.target===x&&P){(C=c.current)==null||C.focus();return}const O=v({tabbingDirection:P?"backwards":"forwards"}),D=O.findIndex(W=>W===S);gg(O.slice(D+1))?E.preventDefault():P?(M=c.current)==null||M.focus():(A=d.current)==null||A.focus()}};return x.addEventListener("keydown",w),()=>x.removeEventListener("keydown",w)}},[a,v]),h.jsxs(qL,{ref:l,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&h.jsx(ev,{ref:c,onFocusFromOutsideViewport:()=>{const x=v({tabbingDirection:"forwards"});gg(x)}}),h.jsx(f0.Slot,{scope:n,children:h.jsx(je.ol,{tabIndex:-1,...i,ref:p})}),b&&h.jsx(ev,{ref:d,onFocusFromOutsideViewport:()=>{const x=v({tabbingDirection:"backwards"});gg(x)}})]})});ZI.displayName=XI;var JI="ToastFocusProxy",ev=y.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Up(JI,n);return h.jsx(Fp,{tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});ev.displayName=JI;var cd="Toast",a4="toast.swipeStart",l4="toast.swipeMove",c4="toast.swipeCancel",u4="toast.swipeEnd",eP=y.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,l]=ld({prop:r,defaultProp:s??!0,onChange:i,caller:cd});return h.jsx(Ji,{present:n||a,children:h.jsx(f4,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:yr(t.onPause),onResume:yr(t.onResume),onSwipeStart:Ee(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ee(t.onSwipeMove,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Ee(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ee(t.onSwipeEnd,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});eP.displayName=cd;var[d4,h4]=QI(cd,{onClose(){}}),f4=y.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:m,...b}=t,v=Up(cd,n),[x,w]=y.useState(null),E=ut(e,W=>w(W)),T=y.useRef(null),I=y.useRef(null),C=s||v.duration,M=y.useRef(0),A=y.useRef(C),S=y.useRef(0),{onToastAdd:P,onToastRemove:N}=v,R=yr(()=>{var ie;(x==null?void 0:x.contains(document.activeElement))&&((ie=v.viewport)==null||ie.focus()),o()}),O=y.useCallback(W=>{!W||W===1/0||(window.clearTimeout(S.current),M.current=new Date().getTime(),S.current=window.setTimeout(R,W))},[R]);y.useEffect(()=>{const W=v.viewport;if(W){const ie=()=>{O(A.current),c==null||c()},ne=()=>{const Z=new Date().getTime()-M.current;A.current=A.current-Z,window.clearTimeout(S.current),l==null||l()};return W.addEventListener(Zy,ne),W.addEventListener(Jy,ie),()=>{W.removeEventListener(Zy,ne),W.removeEventListener(Jy,ie)}}},[v.viewport,C,l,c,O]),y.useEffect(()=>{i&&!v.isClosePausedRef.current&&O(C)},[i,C,v.isClosePausedRef,O]),y.useEffect(()=>(P(),()=>N()),[P,N]);const D=y.useMemo(()=>x?aP(x):null,[x]);return v.viewport?h.jsxs(h.Fragment,{children:[D&&h.jsx(p4,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:D}),h.jsx(d4,{scope:n,onClose:R,children:od.createPortal(h.jsx(f0.ItemSlot,{scope:n,children:h.jsx(HL,{asChild:!0,onEscapeKeyDown:Ee(a,()=>{v.isFocusedToastEscapeKeyDownRef.current||R(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:h.jsx(je.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...b,ref:E,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ee(t.onKeyDown,W=>{W.key==="Escape"&&(a==null||a(W.nativeEvent),W.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,R()))}),onPointerDown:Ee(t.onPointerDown,W=>{W.button===0&&(T.current={x:W.clientX,y:W.clientY})}),onPointerMove:Ee(t.onPointerMove,W=>{if(!T.current)return;const ie=W.clientX-T.current.x,ne=W.clientY-T.current.y,Z=!!I.current,L=["left","right"].includes(v.swipeDirection),U=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,K=L?U(0,ie):0,ue=L?0:U(0,ne),re=W.pointerType==="touch"?10:2,we={x:K,y:ue},ye={originalEvent:W,delta:we};Z?(I.current=we,ch(l4,f,ye,{discrete:!1})):pT(we,v.swipeDirection,re)?(I.current=we,ch(a4,d,ye,{discrete:!1}),W.target.setPointerCapture(W.pointerId)):(Math.abs(ie)>re||Math.abs(ne)>re)&&(T.current=null)}),onPointerUp:Ee(t.onPointerUp,W=>{const ie=I.current,ne=W.target;if(ne.hasPointerCapture(W.pointerId)&&ne.releasePointerCapture(W.pointerId),I.current=null,T.current=null,ie){const Z=W.currentTarget,L={originalEvent:W,delta:ie};pT(ie,v.swipeDirection,v.swipeThreshold)?ch(u4,m,L,{discrete:!0}):ch(c4,p,L,{discrete:!0}),Z.addEventListener("click",U=>U.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),p4=t=>{const{__scopeToast:e,children:n,...r}=t,s=Up(cd,e),[i,o]=y.useState(!1),[a,l]=y.useState(!1);return y4(()=>o(!0)),y.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:h.jsx(d0,{asChild:!0,children:h.jsx(Fp,{...r,children:i&&h.jsxs(h.Fragment,{children:[s.label," ",n]})})})},m4="ToastTitle",tP=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return h.jsx(je.div,{...r,ref:e})});tP.displayName=m4;var g4="ToastDescription",nP=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return h.jsx(je.div,{...r,ref:e})});nP.displayName=g4;var rP="ToastAction",sP=y.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?h.jsx(oP,{altText:n,asChild:!0,children:h.jsx(p0,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${rP}\`. Expected non-empty \`string\`.`),null)});sP.displayName=rP;var iP="ToastClose",p0=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=h4(iP,n);return h.jsx(oP,{asChild:!0,children:h.jsx(je.button,{type:"button",...r,ref:e,onClick:Ee(t.onClick,s.onClose)})})});p0.displayName=iP;var oP=y.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return h.jsx(je.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function aP(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),v4(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...aP(r))}}),e}function ch(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?HI(s,i):s.dispatchEvent(i)}var pT=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function y4(t=()=>{}){const e=yr(t);Cs(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function v4(t){return t.nodeType===t.ELEMENT_NODE}function w4(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function gg(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var _4=YI,lP=ZI,cP=eP,uP=tP,dP=nP,hP=sP,fP=p0;function pP(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=pP(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function mP(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=pP(t))&&(r&&(r+=" "),r+=e);return r}const mT=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,gT=mP,ud=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return gT(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const d=n==null?void 0:n[c],f=i==null?void 0:i[c];if(d===null)return null;const p=mT(d)||mT(f);return s[c][p]}),a=n&&Object.entries(n).reduce((c,d)=>{let[f,p]=d;return p===void 0||(c[f]=p),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:f,className:p,...m}=d;return Object.entries(m).every(b=>{let[v,x]=b;return Array.isArray(x)?x.includes({...i,...a}[v]):{...i,...a}[v]===x})?[...c,f,p]:c},[]);return gT(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),E4=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),yT=t=>{const e=E4(t);return e.charAt(0).toUpperCase()+e.slice(1)},gP=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),T4=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var b4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=y.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>y.createElement("svg",{ref:l,...b4,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:gP("lucide",s),...!i&&!T4(a)&&{"aria-hidden":"true"},...a},[...o.map(([c,d])=>y.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=(t,e)=>{const n=y.forwardRef(({className:r,...s},i)=>y.createElement(S4,{ref:i,iconNode:e,className:gP(`lucide-${x4(yT(t))}`,`lucide-${t}`,r),...s}));return n.displayName=yT(t),n};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],m0=Ue("arrow-left",A4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Kc=Ue("arrow-right",C4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],P4=Ue("camera",I4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],k4=Ue("chart-column",R4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],D4=Ue("circle-check-big",N4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],M4=Ue("circle-check",O4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],V4=Ue("circle-x",j4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],F4=Ue("circle",L4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],wl=Ue("heart",U4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],B4=Ue("history",$4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],W4=Ue("house",z4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],q4=Ue("image",H4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],yP=Ue("info",G4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Q4=Ue("layout-dashboard",K4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],X4=Ue("lightbulb",Y4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],vT=Ue("loader-circle",Z4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],vP=Ue("log-out",J4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eF=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],wP=Ue("message-square",eF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tF=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],wT=Ue("plus",tF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nF=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],rF=Ue("shield",nF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sF=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Pf=Ue("sparkles",sF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],oF=Ue("target",iF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aF=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],lF=Ue("triangle-alert",aF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cF=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],_T=Ue("upload",cF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uF=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],dF=Ue("users",uF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hF=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],g0=Ue("x",hF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fF=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],pF=Ue("zap",fF),y0="-",mF=t=>{const e=yF(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(y0);return a[0]===""&&a.length!==1&&a.shift(),_P(a,e)||gF(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},_P=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?_P(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(y0);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},xT=/^\[(.+)\]$/,gF=t=>{if(xT.test(t)){const e=xT.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},yF=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return wF(Object.entries(t.classGroups),n).forEach(([i,o])=>{tv(o,r,i,e)}),r},tv=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:ET(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(vF(s)){tv(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{tv(o,ET(e,i),n,r)})})},ET=(t,e)=>{let n=t;return e.split(y0).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},vF=t=>t.isThemeGetter,wF=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,_F=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},xP="!",xF=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,d=0,f;for(let x=0;x<a.length;x++){let w=a[x];if(c===0){if(w===s&&(r||a.slice(x,x+i)===e)){l.push(a.slice(d,x)),d=x+i;continue}if(w==="/"){f=x;continue}}w==="["?c++:w==="]"&&c--}const p=l.length===0?a:a.substring(d),m=p.startsWith(xP),b=m?p.substring(1):p,v=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:b,maybePostfixModifierPosition:v}};return n?a=>n({className:a,parseClassName:o}):o},EF=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},TF=t=>({cache:_F(t.cacheSize),parseClassName:xF(t),...mF(t)}),bF=/\s+/,SF=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(bF);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:m}=n(c);let b=!!m,v=r(b?p.substring(0,m):p);if(!v){if(!b){a=c+(a.length>0?" "+a:a);continue}if(v=r(p),!v){a=c+(a.length>0?" "+a:a);continue}b=!1}const x=EF(d).join(":"),w=f?x+xP:x,E=w+v;if(i.includes(E))continue;i.push(E);const T=s(v,b);for(let I=0;I<T.length;++I){const C=T[I];i.push(w+C)}a=c+(a.length>0?" "+a:a)}return a};function AF(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=EP(e))&&(r&&(r+=" "),r+=n);return r}const EP=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=EP(t[r]))&&(n&&(n+=" "),n+=e);return n};function CF(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((d,f)=>f(d),t());return n=TF(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=SF(l,n);return s(l,d),d}return function(){return i(AF.apply(null,arguments))}}const We=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},TP=/^\[(?:([a-z-]+):)?(.+)\]$/i,IF=/^\d+\/\d+$/,PF=new Set(["px","full","screen"]),RF=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,kF=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,NF=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,DF=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,OF=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ls=t=>Ka(t)||PF.has(t)||IF.test(t),Ys=t=>Ul(t,"length",BF),Ka=t=>!!t&&!Number.isNaN(Number(t)),yg=t=>Ul(t,"number",Ka),Ec=t=>!!t&&Number.isInteger(Number(t)),MF=t=>t.endsWith("%")&&Ka(t.slice(0,-1)),ve=t=>TP.test(t),Xs=t=>RF.test(t),jF=new Set(["length","size","percentage"]),VF=t=>Ul(t,jF,bP),LF=t=>Ul(t,"position",bP),FF=new Set(["image","url"]),UF=t=>Ul(t,FF,WF),$F=t=>Ul(t,"",zF),Tc=()=>!0,Ul=(t,e,n)=>{const r=TP.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},BF=t=>kF.test(t)&&!NF.test(t),bP=()=>!1,zF=t=>DF.test(t),WF=t=>OF.test(t),HF=()=>{const t=We("colors"),e=We("spacing"),n=We("blur"),r=We("brightness"),s=We("borderColor"),i=We("borderRadius"),o=We("borderSpacing"),a=We("borderWidth"),l=We("contrast"),c=We("grayscale"),d=We("hueRotate"),f=We("invert"),p=We("gap"),m=We("gradientColorStops"),b=We("gradientColorStopPositions"),v=We("inset"),x=We("margin"),w=We("opacity"),E=We("padding"),T=We("saturate"),I=We("scale"),C=We("sepia"),M=We("skew"),A=We("space"),S=We("translate"),P=()=>["auto","contain","none"],N=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto",ve,e],O=()=>[ve,e],D=()=>["",ls,Ys],W=()=>["auto",Ka,ve],ie=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ne=()=>["solid","dashed","dotted","double","none"],Z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",ve],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ue=()=>[Ka,ve];return{cacheSize:500,separator:":",theme:{colors:[Tc],spacing:[ls,Ys],blur:["none","",Xs,ve],brightness:ue(),borderColor:[t],borderRadius:["none","","full",Xs,ve],borderSpacing:O(),borderWidth:D(),contrast:ue(),grayscale:U(),hueRotate:ue(),invert:U(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[MF,Ys],inset:R(),margin:R(),opacity:ue(),padding:O(),saturate:ue(),scale:ue(),sepia:U(),skew:ue(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",ve]}],container:["container"],columns:[{columns:[Xs]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ie(),ve]}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ec,ve]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ve]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",Ec,ve]}],"grid-cols":[{"grid-cols":[Tc]}],"col-start-end":[{col:["auto",{span:["full",Ec,ve]},ve]}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":[Tc]}],"row-start-end":[{row:["auto",{span:[Ec,ve]},ve]}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ve]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ve]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[E]}],px:[{px:[E]}],py:[{py:[E]}],ps:[{ps:[E]}],pe:[{pe:[E]}],pt:[{pt:[E]}],pr:[{pr:[E]}],pb:[{pb:[E]}],pl:[{pl:[E]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ve,e]}],"min-w":[{"min-w":[ve,e,"min","max","fit"]}],"max-w":[{"max-w":[ve,e,"none","full","min","max","fit","prose",{screen:[Xs]},Xs]}],h:[{h:[ve,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ve,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ve,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ve,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Xs,Ys]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",yg]}],"font-family":[{font:[Tc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ve]}],"line-clamp":[{"line-clamp":["none",Ka,yg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ls,ve]}],"list-image":[{"list-image":["none",ve]}],"list-style-type":[{list:["none","disc","decimal",ve]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ne(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ls,Ys]}],"underline-offset":[{"underline-offset":["auto",ls,ve]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ie(),LF]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",VF]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},UF]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...ne(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:ne()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...ne()]}],"outline-offset":[{"outline-offset":[ls,ve]}],"outline-w":[{outline:[ls,Ys]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[ls,Ys]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Xs,$F]}],"shadow-color":[{shadow:[Tc]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...Z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Z()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Xs,ve]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[T]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ve]}],duration:[{duration:ue()}],ease:[{ease:["linear","in","out","in-out",ve]}],delay:[{delay:ue()}],animate:[{animate:["none","spin","ping","pulse","bounce",ve]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[I]}],"scale-x":[{"scale-x":[I]}],"scale-y":[{"scale-y":[I]}],rotate:[{rotate:[Ec,ve]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ve]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ve]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ve]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ls,Ys,yg]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},qF=CF(HF);function he(...t){return qF(mP(t))}const GF=_4,SP=y.forwardRef(({className:t,...e},n)=>h.jsx(lP,{ref:n,className:he("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));SP.displayName=lP.displayName;const KF=ud("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),AP=y.forwardRef(({className:t,variant:e,...n},r)=>h.jsx(cP,{ref:r,className:he(KF({variant:e}),t),...n}));AP.displayName=cP.displayName;const QF=y.forwardRef(({className:t,...e},n)=>h.jsx(hP,{ref:n,className:he("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));QF.displayName=hP.displayName;const CP=y.forwardRef(({className:t,...e},n)=>h.jsx(fP,{ref:n,className:he("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:h.jsx(g0,{className:"h-4 w-4"})}));CP.displayName=fP.displayName;const IP=y.forwardRef(({className:t,...e},n)=>h.jsx(uP,{ref:n,className:he("text-sm font-semibold",t),...e}));IP.displayName=uP.displayName;const PP=y.forwardRef(({className:t,...e},n)=>h.jsx(dP,{ref:n,className:he("text-sm opacity-90",t),...e}));PP.displayName=dP.displayName;function YF(){const{toasts:t}=sa();return h.jsxs(GF,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return h.jsxs(AP,{...i,children:[h.jsxs("div",{className:"grid gap-1",children:[n&&h.jsx(IP,{children:n}),r&&h.jsx(PP,{children:r})]}),s,h.jsx(CP,{})]},e)}),h.jsx(SP,{})]})}var XF=(t,e,n,r,s,i,o,a)=>{let l=document.documentElement,c=["light","dark"];function d(m){(Array.isArray(t)?t:[t]).forEach(b=>{let v=b==="class",x=v&&i?s.map(w=>i[w]||w):s;v?(l.classList.remove(...x),l.classList.add(i&&i[m]?i[m]:m)):l.setAttribute(b,m)}),f(m)}function f(m){a&&c.includes(m)&&(l.style.colorScheme=m)}function p(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)d(r);else try{let m=localStorage.getItem(e)||n,b=o&&m==="system"?p():m;d(b)}catch{}},ZF=y.createContext(void 0),JF={setTheme:t=>{},themes:[]},e5=()=>{var t;return(t=y.useContext(ZF))!=null?t:JF};y.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,themes:a,nonce:l,scriptProps:c})=>{let d=JSON.stringify([n,e,i,t,a,o,r,s]).slice(1,-1);return y.createElement("script",{...c,suppressHydrationWarning:!0,nonce:typeof window>"u"?l:"",dangerouslySetInnerHTML:{__html:`(${XF.toString()})(${d})`}})});var t5=t=>{switch(t){case"success":return s5;case"info":return o5;case"warning":return i5;case"error":return a5;default:return null}},n5=Array(12).fill(0),r5=({visible:t,className:e})=>q.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},q.createElement("div",{className:"sonner-spinner"},n5.map((n,r)=>q.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),s5=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),i5=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),o5=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),a5=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),l5=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},q.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),q.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),c5=()=>{let[t,e]=q.useState(document.hidden);return q.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},nv=1,u5=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:nv++,o=this.toasts.find(l=>l.id===i),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:r}),{...l,...e,id:i,dismissible:a,title:r}):l):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0,o,a=s.then(async c=>{if(o=["resolve",c],q.isValidElement(c))i=!1,this.create({id:r,type:"default",message:c});else if(h5(c)&&!c.ok){i=!1;let d=typeof n.error=="function"?await n.error(`HTTP error! status: ${c.status}`):n.error,f=typeof n.description=="function"?await n.description(`HTTP error! status: ${c.status}`):n.description;this.create({id:r,type:"error",message:d,description:f})}else if(n.success!==void 0){i=!1;let d=typeof n.success=="function"?await n.success(c):n.success,f=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"success",message:d,description:f})}}).catch(async c=>{if(o=["reject",c],n.error!==void 0){i=!1;let d=typeof n.error=="function"?await n.error(c):n.error,f=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"error",message:d,description:f})}}).finally(()=>{var c;i&&(this.dismiss(r),r=void 0),(c=n.finally)==null||c.call(n)}),l=()=>new Promise((c,d)=>a.then(()=>o[0]==="reject"?d(o[1]):c(o[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||nv++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},fn=new u5,d5=(t,e)=>{let n=(e==null?void 0:e.id)||nv++;return fn.addToast({title:t,...e,id:n}),n},h5=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",f5=d5,p5=()=>fn.toasts,m5=()=>fn.getActiveToasts();Object.assign(f5,{success:fn.success,info:fn.info,warning:fn.warning,error:fn.error,custom:fn.custom,message:fn.message,promise:fn.promise,dismiss:fn.dismiss,loading:fn.loading},{getHistory:p5,getToasts:m5});function g5(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}g5(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function uh(t){return t.label!==void 0}var y5=3,v5="32px",w5="16px",TT=4e3,_5=356,x5=14,E5=20,T5=200;function er(...t){return t.filter(Boolean).join(" ")}function b5(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var S5=t=>{var e,n,r,s,i,o,a,l,c,d,f;let{invert:p,toast:m,unstyled:b,interacting:v,setHeights:x,visibleToasts:w,heights:E,index:T,toasts:I,expanded:C,removeToast:M,defaultRichColors:A,closeButton:S,style:P,cancelButtonStyle:N,actionButtonStyle:R,className:O="",descriptionClassName:D="",duration:W,position:ie,gap:ne,loadingIcon:Z,expandByDefault:L,classNames:U,icons:K,closeButtonAriaLabel:ue="Close toast",pauseWhenPageIsHidden:re}=t,[we,ye]=q.useState(null),[Ke,dt]=q.useState(null),[Ie,xr]=q.useState(!1),[Yn,ss]=q.useState(!1),[Er,is]=q.useState(!1),[Nn,io]=q.useState(!1),[Jl,Us]=q.useState(!1),[oo,$s]=q.useState(0),[Xe,Ct]=q.useState(0),Tr=q.useRef(m.duration||W||TT),kd=q.useRef(null),br=q.useRef(null),Sm=T===0,ao=T+1<=w,tn=m.type,os=m.dismissible!==!1,ec=m.className||"",Am=m.descriptionClassName||"",da=q.useMemo(()=>E.findIndex(oe=>oe.toastId===m.id)||0,[E,m.id]),Nd=q.useMemo(()=>{var oe;return(oe=m.closeButton)!=null?oe:S},[m.closeButton,S]),tc=q.useMemo(()=>m.duration||W||TT,[m.duration,W]),as=q.useRef(0),Sr=q.useRef(0),ha=q.useRef(0),dn=q.useRef(null),[Dd,fa]=ie.split("-"),nc=q.useMemo(()=>E.reduce((oe,De,$e)=>$e>=da?oe:oe+De.height,0),[E,da]),Bs=c5(),Od=m.invert||p,_t=tn==="loading";Sr.current=q.useMemo(()=>da*ne+nc,[da,nc]),q.useEffect(()=>{Tr.current=tc},[tc]),q.useEffect(()=>{xr(!0)},[]),q.useEffect(()=>{let oe=br.current;if(oe){let De=oe.getBoundingClientRect().height;return Ct(De),x($e=>[{toastId:m.id,height:De,position:m.position},...$e]),()=>x($e=>$e.filter(It=>It.toastId!==m.id))}},[x,m.id]),q.useLayoutEffect(()=>{if(!Ie)return;let oe=br.current,De=oe.style.height;oe.style.height="auto";let $e=oe.getBoundingClientRect().height;oe.style.height=De,Ct($e),x(It=>It.find(xn=>xn.toastId===m.id)?It.map(xn=>xn.toastId===m.id?{...xn,height:$e}:xn):[{toastId:m.id,height:$e,position:m.position},...It])},[Ie,m.title,m.description,x,m.id]);let Xn=q.useCallback(()=>{ss(!0),$s(Sr.current),x(oe=>oe.filter(De=>De.toastId!==m.id)),setTimeout(()=>{M(m)},T5)},[m,M,x,Sr]);q.useEffect(()=>{if(m.promise&&tn==="loading"||m.duration===1/0||m.type==="loading")return;let oe;return C||v||re&&Bs?(()=>{if(ha.current<as.current){let De=new Date().getTime()-as.current;Tr.current=Tr.current-De}ha.current=new Date().getTime()})():Tr.current!==1/0&&(as.current=new Date().getTime(),oe=setTimeout(()=>{var De;(De=m.onAutoClose)==null||De.call(m,m),Xn()},Tr.current)),()=>clearTimeout(oe)},[C,v,m,tn,re,Bs,Xn]),q.useEffect(()=>{m.delete&&Xn()},[Xn,m.delete]);function lo(){var oe,De,$e;return K!=null&&K.loading?q.createElement("div",{className:er(U==null?void 0:U.loader,(oe=m==null?void 0:m.classNames)==null?void 0:oe.loader,"sonner-loader"),"data-visible":tn==="loading"},K.loading):Z?q.createElement("div",{className:er(U==null?void 0:U.loader,(De=m==null?void 0:m.classNames)==null?void 0:De.loader,"sonner-loader"),"data-visible":tn==="loading"},Z):q.createElement(r5,{className:er(U==null?void 0:U.loader,($e=m==null?void 0:m.classNames)==null?void 0:$e.loader),visible:tn==="loading"})}return q.createElement("li",{tabIndex:0,ref:br,className:er(O,ec,U==null?void 0:U.toast,(e=m==null?void 0:m.classNames)==null?void 0:e.toast,U==null?void 0:U.default,U==null?void 0:U[tn],(n=m==null?void 0:m.classNames)==null?void 0:n[tn]),"data-sonner-toast":"","data-rich-colors":(r=m.richColors)!=null?r:A,"data-styled":!(m.jsx||m.unstyled||b),"data-mounted":Ie,"data-promise":!!m.promise,"data-swiped":Jl,"data-removed":Yn,"data-visible":ao,"data-y-position":Dd,"data-x-position":fa,"data-index":T,"data-front":Sm,"data-swiping":Er,"data-dismissible":os,"data-type":tn,"data-invert":Od,"data-swipe-out":Nn,"data-swipe-direction":Ke,"data-expanded":!!(C||L&&Ie),style:{"--index":T,"--toasts-before":T,"--z-index":I.length-T,"--offset":`${Yn?oo:Sr.current}px`,"--initial-height":L?"auto":`${Xe}px`,...P,...m.style},onDragEnd:()=>{is(!1),ye(null),dn.current=null},onPointerDown:oe=>{_t||!os||(kd.current=new Date,$s(Sr.current),oe.target.setPointerCapture(oe.pointerId),oe.target.tagName!=="BUTTON"&&(is(!0),dn.current={x:oe.clientX,y:oe.clientY}))},onPointerUp:()=>{var oe,De,$e,It;if(Nn||!os)return;dn.current=null;let xn=Number(((oe=br.current)==null?void 0:oe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ar=Number(((De=br.current)==null?void 0:De.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Dn=new Date().getTime()-(($e=kd.current)==null?void 0:$e.getTime()),hn=we==="x"?xn:Ar,Zn=Math.abs(hn)/Dn;if(Math.abs(hn)>=E5||Zn>.11){$s(Sr.current),(It=m.onDismiss)==null||It.call(m,m),dt(we==="x"?xn>0?"right":"left":Ar>0?"down":"up"),Xn(),io(!0),Us(!1);return}is(!1),ye(null)},onPointerMove:oe=>{var De,$e,It,xn;if(!dn.current||!os||((De=window.getSelection())==null?void 0:De.toString().length)>0)return;let Ar=oe.clientY-dn.current.y,Dn=oe.clientX-dn.current.x,hn=($e=t.swipeDirections)!=null?$e:b5(ie);!we&&(Math.abs(Dn)>1||Math.abs(Ar)>1)&&ye(Math.abs(Dn)>Math.abs(Ar)?"x":"y");let Zn={x:0,y:0};we==="y"?(hn.includes("top")||hn.includes("bottom"))&&(hn.includes("top")&&Ar<0||hn.includes("bottom")&&Ar>0)&&(Zn.y=Ar):we==="x"&&(hn.includes("left")||hn.includes("right"))&&(hn.includes("left")&&Dn<0||hn.includes("right")&&Dn>0)&&(Zn.x=Dn),(Math.abs(Zn.x)>0||Math.abs(Zn.y)>0)&&Us(!0),(It=br.current)==null||It.style.setProperty("--swipe-amount-x",`${Zn.x}px`),(xn=br.current)==null||xn.style.setProperty("--swipe-amount-y",`${Zn.y}px`)}},Nd&&!m.jsx?q.createElement("button",{"aria-label":ue,"data-disabled":_t,"data-close-button":!0,onClick:_t||!os?()=>{}:()=>{var oe;Xn(),(oe=m.onDismiss)==null||oe.call(m,m)},className:er(U==null?void 0:U.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},(i=K==null?void 0:K.close)!=null?i:l5):null,m.jsx||y.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:q.createElement(q.Fragment,null,tn||m.icon||m.promise?q.createElement("div",{"data-icon":"",className:er(U==null?void 0:U.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||lo():null,m.type!=="loading"?m.icon||(K==null?void 0:K[tn])||t5(tn):null):null,q.createElement("div",{"data-content":"",className:er(U==null?void 0:U.content,(a=m==null?void 0:m.classNames)==null?void 0:a.content)},q.createElement("div",{"data-title":"",className:er(U==null?void 0:U.title,(l=m==null?void 0:m.classNames)==null?void 0:l.title)},typeof m.title=="function"?m.title():m.title),m.description?q.createElement("div",{"data-description":"",className:er(D,Am,U==null?void 0:U.description,(c=m==null?void 0:m.classNames)==null?void 0:c.description)},typeof m.description=="function"?m.description():m.description):null),y.isValidElement(m.cancel)?m.cancel:m.cancel&&uh(m.cancel)?q.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||N,onClick:oe=>{var De,$e;uh(m.cancel)&&os&&(($e=(De=m.cancel).onClick)==null||$e.call(De,oe),Xn())},className:er(U==null?void 0:U.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,y.isValidElement(m.action)?m.action:m.action&&uh(m.action)?q.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||R,onClick:oe=>{var De,$e;uh(m.action)&&(($e=(De=m.action).onClick)==null||$e.call(De,oe),!oe.defaultPrevented&&Xn())},className:er(U==null?void 0:U.actionButton,(f=m==null?void 0:m.classNames)==null?void 0:f.actionButton)},m.action.label):null))};function bT(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function A5(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?w5:v5;function l(c){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${o}-${c}`]=a:n[`${o}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(a)}),n}var C5=y.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:l,mobileOffset:c,theme:d="light",richColors:f,duration:p,style:m,visibleToasts:b=y5,toastOptions:v,dir:x=bT(),gap:w=x5,loadingIcon:E,icons:T,containerAriaLabel:I="Notifications",pauseWhenPageIsHidden:C}=t,[M,A]=q.useState([]),S=q.useMemo(()=>Array.from(new Set([r].concat(M.filter(re=>re.position).map(re=>re.position)))),[M,r]),[P,N]=q.useState([]),[R,O]=q.useState(!1),[D,W]=q.useState(!1),[ie,ne]=q.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Z=q.useRef(null),L=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),U=q.useRef(null),K=q.useRef(!1),ue=q.useCallback(re=>{A(we=>{var ye;return(ye=we.find(Ke=>Ke.id===re.id))!=null&&ye.delete||fn.dismiss(re.id),we.filter(({id:Ke})=>Ke!==re.id)})},[]);return q.useEffect(()=>fn.subscribe(re=>{if(re.dismiss){A(we=>we.map(ye=>ye.id===re.id?{...ye,delete:!0}:ye));return}setTimeout(()=>{UI.flushSync(()=>{A(we=>{let ye=we.findIndex(Ke=>Ke.id===re.id);return ye!==-1?[...we.slice(0,ye),{...we[ye],...re},...we.slice(ye+1)]:[re,...we]})})})}),[]),q.useEffect(()=>{if(d!=="system"){ne(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ne("dark"):ne("light")),typeof window>"u")return;let re=window.matchMedia("(prefers-color-scheme: dark)");try{re.addEventListener("change",({matches:we})=>{ne(we?"dark":"light")})}catch{re.addListener(({matches:ye})=>{try{ne(ye?"dark":"light")}catch(Ke){console.error(Ke)}})}},[d]),q.useEffect(()=>{M.length<=1&&O(!1)},[M]),q.useEffect(()=>{let re=we=>{var ye,Ke;s.every(dt=>we[dt]||we.code===dt)&&(O(!0),(ye=Z.current)==null||ye.focus()),we.code==="Escape"&&(document.activeElement===Z.current||(Ke=Z.current)!=null&&Ke.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",re),()=>document.removeEventListener("keydown",re)},[s]),q.useEffect(()=>{if(Z.current)return()=>{U.current&&(U.current.focus({preventScroll:!0}),U.current=null,K.current=!1)}},[Z.current]),q.createElement("section",{ref:e,"aria-label":`${I} ${L}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},S.map((re,we)=>{var ye;let[Ke,dt]=re.split("-");return M.length?q.createElement("ol",{key:re,dir:x==="auto"?bT():x,tabIndex:-1,ref:Z,className:a,"data-sonner-toaster":!0,"data-theme":ie,"data-y-position":Ke,"data-lifted":R&&M.length>1&&!i,"data-x-position":dt,style:{"--front-toast-height":`${((ye=P[0])==null?void 0:ye.height)||0}px`,"--width":`${_5}px`,"--gap":`${w}px`,...m,...A5(l,c)},onBlur:Ie=>{K.current&&!Ie.currentTarget.contains(Ie.relatedTarget)&&(K.current=!1,U.current&&(U.current.focus({preventScroll:!0}),U.current=null))},onFocus:Ie=>{Ie.target instanceof HTMLElement&&Ie.target.dataset.dismissible==="false"||K.current||(K.current=!0,U.current=Ie.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{D||O(!1)},onDragEnd:()=>O(!1),onPointerDown:Ie=>{Ie.target instanceof HTMLElement&&Ie.target.dataset.dismissible==="false"||W(!0)},onPointerUp:()=>W(!1)},M.filter(Ie=>!Ie.position&&we===0||Ie.position===re).map((Ie,xr)=>{var Yn,ss;return q.createElement(S5,{key:Ie.id,icons:T,index:xr,toast:Ie,defaultRichColors:f,duration:(Yn=v==null?void 0:v.duration)!=null?Yn:p,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:n,visibleToasts:b,closeButton:(ss=v==null?void 0:v.closeButton)!=null?ss:o,interacting:D,position:re,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:ue,toasts:M.filter(Er=>Er.position==Ie.position),heights:P.filter(Er=>Er.position==Ie.position),setHeights:N,expandByDefault:i,gap:w,loadingIcon:E,expanded:R,pauseWhenPageIsHidden:C,swipeDirections:t.swipeDirections})})):null}))});const I5=({...t})=>{const{theme:e="system"}=e5();return h.jsx(C5,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var P5=Vl[" useId ".trim().toString()]||(()=>{}),R5=0;function Qc(t){const[e,n]=y.useState(P5());return Cs(()=>{n(r=>r??String(R5++))},[t]),e?`radix-${e}`:""}const k5=["top","right","bottom","left"],Vi=Math.min,bn=Math.max,Rf=Math.round,dh=Math.floor,$r=t=>({x:t,y:t}),N5={left:"right",right:"left",bottom:"top",top:"bottom"},D5={start:"end",end:"start"};function rv(t,e,n){return bn(t,Vi(e,n))}function Is(t,e){return typeof t=="function"?t(e):t}function Ps(t){return t.split("-")[0]}function $l(t){return t.split("-")[1]}function v0(t){return t==="x"?"y":"x"}function w0(t){return t==="y"?"height":"width"}const O5=new Set(["top","bottom"]);function Lr(t){return O5.has(Ps(t))?"y":"x"}function _0(t){return v0(Lr(t))}function M5(t,e,n){n===void 0&&(n=!1);const r=$l(t),s=_0(t),i=w0(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=kf(o)),[o,kf(o)]}function j5(t){const e=kf(t);return[sv(t),e,sv(e)]}function sv(t){return t.replace(/start|end/g,e=>D5[e])}const ST=["left","right"],AT=["right","left"],V5=["top","bottom"],L5=["bottom","top"];function F5(t,e,n){switch(t){case"top":case"bottom":return n?e?AT:ST:e?ST:AT;case"left":case"right":return e?V5:L5;default:return[]}}function U5(t,e,n,r){const s=$l(t);let i=F5(Ps(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(sv)))),i}function kf(t){return t.replace(/left|right|bottom|top/g,e=>N5[e])}function $5(t){return{top:0,right:0,bottom:0,left:0,...t}}function RP(t){return typeof t!="number"?$5(t):{top:t,right:t,bottom:t,left:t}}function Nf(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function CT(t,e,n){let{reference:r,floating:s}=t;const i=Lr(e),o=_0(e),a=w0(o),l=Ps(e),c=i==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let m;switch(l){case"top":m={x:d,y:r.y-s.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-s.width,y:f};break;default:m={x:r.x,y:r.y}}switch($l(e)){case"start":m[o]-=p*(n&&c?-1:1);break;case"end":m[o]+=p*(n&&c?-1:1);break}return m}const B5=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:f}=CT(c,r,l),p=r,m={},b=0;for(let v=0;v<a.length;v++){const{name:x,fn:w}=a[v],{x:E,y:T,data:I,reset:C}=await w({x:d,y:f,initialPlacement:r,placement:p,strategy:s,middlewareData:m,rects:c,platform:o,elements:{reference:t,floating:e}});d=E??d,f=T??f,m={...m,[x]:{...m[x],...I}},C&&b<=50&&(b++,typeof C=="object"&&(C.placement&&(p=C.placement),C.rects&&(c=C.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):C.rects),{x:d,y:f}=CT(c,p,l)),v=-1)}return{x:d,y:f,placement:p,strategy:s,middlewareData:m}};async function Au(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:m=0}=Is(e,t),b=RP(m),x=a[p?f==="floating"?"reference":"floating":f],w=Nf(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(x)))==null||n?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),E=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,T=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),I=await(i.isElement==null?void 0:i.isElement(T))?await(i.getScale==null?void 0:i.getScale(T))||{x:1,y:1}:{x:1,y:1},C=Nf(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:E,offsetParent:T,strategy:l}):E);return{top:(w.top-C.top+b.top)/I.y,bottom:(C.bottom-w.bottom+b.bottom)/I.y,left:(w.left-C.left+b.left)/I.x,right:(C.right-w.right+b.right)/I.x}}const z5=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=Is(t,e)||{};if(c==null)return{};const f=RP(d),p={x:n,y:r},m=_0(s),b=w0(m),v=await o.getDimensions(c),x=m==="y",w=x?"top":"left",E=x?"bottom":"right",T=x?"clientHeight":"clientWidth",I=i.reference[b]+i.reference[m]-p[m]-i.floating[b],C=p[m]-i.reference[m],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let A=M?M[T]:0;(!A||!await(o.isElement==null?void 0:o.isElement(M)))&&(A=a.floating[T]||i.floating[b]);const S=I/2-C/2,P=A/2-v[b]/2-1,N=Vi(f[w],P),R=Vi(f[E],P),O=N,D=A-v[b]-R,W=A/2-v[b]/2+S,ie=rv(O,W,D),ne=!l.arrow&&$l(s)!=null&&W!==ie&&i.reference[b]/2-(W<O?N:R)-v[b]/2<0,Z=ne?W<O?W-O:W-D:0;return{[m]:p[m]+Z,data:{[m]:ie,centerOffset:W-ie-Z,...ne&&{alignmentOffset:Z}},reset:ne}}}),W5=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:v=!0,...x}=Is(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const w=Ps(s),E=Lr(a),T=Ps(a)===a,I=await(l.isRTL==null?void 0:l.isRTL(c.floating)),C=p||(T||!v?[kf(a)]:j5(a)),M=b!=="none";!p&&M&&C.push(...U5(a,v,b,I));const A=[a,...C],S=await Au(e,x),P=[];let N=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&P.push(S[w]),f){const W=M5(s,o,I);P.push(S[W[0]],S[W[1]])}if(N=[...N,{placement:s,overflows:P}],!P.every(W=>W<=0)){var R,O;const W=(((R=i.flip)==null?void 0:R.index)||0)+1,ie=A[W];if(ie&&(!(f==="alignment"?E!==Lr(ie):!1)||N.every(L=>Lr(L.placement)===E?L.overflows[0]>0:!0)))return{data:{index:W,overflows:N},reset:{placement:ie}};let ne=(O=N.filter(Z=>Z.overflows[0]<=0).sort((Z,L)=>Z.overflows[1]-L.overflows[1])[0])==null?void 0:O.placement;if(!ne)switch(m){case"bestFit":{var D;const Z=(D=N.filter(L=>{if(M){const U=Lr(L.placement);return U===E||U==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(U=>U>0).reduce((U,K)=>U+K,0)]).sort((L,U)=>L[1]-U[1])[0])==null?void 0:D[0];Z&&(ne=Z);break}case"initialPlacement":ne=a;break}if(s!==ne)return{reset:{placement:ne}}}return{}}}};function IT(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function PT(t){return k5.some(e=>t[e]>=0)}const H5=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Is(t,e);switch(r){case"referenceHidden":{const i=await Au(e,{...s,elementContext:"reference"}),o=IT(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:PT(o)}}}case"escaped":{const i=await Au(e,{...s,altBoundary:!0}),o=IT(i,n.floating);return{data:{escapedOffsets:o,escaped:PT(o)}}}default:return{}}}}},kP=new Set(["left","top"]);async function q5(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Ps(n),a=$l(n),l=Lr(n)==="y",c=kP.has(o)?-1:1,d=i&&l?-1:1,f=Is(e,t);let{mainAxis:p,crossAxis:m,alignmentAxis:b}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof b=="number"&&(m=a==="end"?b*-1:b),l?{x:m*d,y:p*c}:{x:p*c,y:m*d}}const G5=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await q5(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},K5=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:x=>{let{x:w,y:E}=x;return{x:w,y:E}}},...l}=Is(t,e),c={x:n,y:r},d=await Au(e,l),f=Lr(Ps(s)),p=v0(f);let m=c[p],b=c[f];if(i){const x=p==="y"?"top":"left",w=p==="y"?"bottom":"right",E=m+d[x],T=m-d[w];m=rv(E,m,T)}if(o){const x=f==="y"?"top":"left",w=f==="y"?"bottom":"right",E=b+d[x],T=b-d[w];b=rv(E,b,T)}const v=a.fn({...e,[p]:m,[f]:b});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[p]:i,[f]:o}}}}}},Q5=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Is(t,e),d={x:n,y:r},f=Lr(s),p=v0(f);let m=d[p],b=d[f];const v=Is(a,e),x=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const T=p==="y"?"height":"width",I=i.reference[p]-i.floating[T]+x.mainAxis,C=i.reference[p]+i.reference[T]-x.mainAxis;m<I?m=I:m>C&&(m=C)}if(c){var w,E;const T=p==="y"?"width":"height",I=kP.has(Ps(s)),C=i.reference[f]-i.floating[T]+(I&&((w=o.offset)==null?void 0:w[f])||0)+(I?0:x.crossAxis),M=i.reference[f]+i.reference[T]+(I?0:((E=o.offset)==null?void 0:E[f])||0)-(I?x.crossAxis:0);b<C?b=C:b>M&&(b=M)}return{[p]:m,[f]:b}}}},Y5=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Is(t,e),d=await Au(e,c),f=Ps(s),p=$l(s),m=Lr(s)==="y",{width:b,height:v}=i.floating;let x,w;f==="top"||f==="bottom"?(x=f,w=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(w=f,x=p==="end"?"top":"bottom");const E=v-d.top-d.bottom,T=b-d.left-d.right,I=Vi(v-d[x],E),C=Vi(b-d[w],T),M=!e.middlewareData.shift;let A=I,S=C;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(S=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(A=E),M&&!p){const N=bn(d.left,0),R=bn(d.right,0),O=bn(d.top,0),D=bn(d.bottom,0);m?S=b-2*(N!==0||R!==0?N+R:bn(d.left,d.right)):A=v-2*(O!==0||D!==0?O+D:bn(d.top,d.bottom))}await l({...e,availableWidth:S,availableHeight:A});const P=await o.getDimensions(a.floating);return b!==P.width||v!==P.height?{reset:{rects:!0}}:{}}}};function $p(){return typeof window<"u"}function Bl(t){return NP(t)?(t.nodeName||"").toLowerCase():"#document"}function Cn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ts(t){var e;return(e=(NP(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function NP(t){return $p()?t instanceof Node||t instanceof Cn(t).Node:!1}function vr(t){return $p()?t instanceof Element||t instanceof Cn(t).Element:!1}function Yr(t){return $p()?t instanceof HTMLElement||t instanceof Cn(t).HTMLElement:!1}function RT(t){return!$p()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Cn(t).ShadowRoot}const X5=new Set(["inline","contents"]);function dd(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=wr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!X5.has(s)}const Z5=new Set(["table","td","th"]);function J5(t){return Z5.has(Bl(t))}const e3=[":popover-open",":modal"];function Bp(t){return e3.some(e=>{try{return t.matches(e)}catch{return!1}})}const t3=["transform","translate","scale","rotate","perspective"],n3=["transform","translate","scale","rotate","perspective","filter"],r3=["paint","layout","strict","content"];function x0(t){const e=E0(),n=vr(t)?wr(t):t;return t3.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||n3.some(r=>(n.willChange||"").includes(r))||r3.some(r=>(n.contain||"").includes(r))}function s3(t){let e=Li(t);for(;Yr(e)&&!_l(e);){if(x0(e))return e;if(Bp(e))return null;e=Li(e)}return null}function E0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const i3=new Set(["html","body","#document"]);function _l(t){return i3.has(Bl(t))}function wr(t){return Cn(t).getComputedStyle(t)}function zp(t){return vr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Li(t){if(Bl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||RT(t)&&t.host||ts(t);return RT(e)?e.host:e}function DP(t){const e=Li(t);return _l(e)?t.ownerDocument?t.ownerDocument.body:t.body:Yr(e)&&dd(e)?e:DP(e)}function Cu(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=DP(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Cn(s);if(i){const a=iv(o);return e.concat(o,o.visualViewport||[],dd(s)?s:[],a&&n?Cu(a):[])}return e.concat(s,Cu(s,[],n))}function iv(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function OP(t){const e=wr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Yr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Rf(n)!==i||Rf(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function T0(t){return vr(t)?t:t.contextElement}function Qa(t){const e=T0(t);if(!Yr(e))return $r(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=OP(e);let o=(i?Rf(n.width):n.width)/r,a=(i?Rf(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const o3=$r(0);function MP(t){const e=Cn(t);return!E0()||!e.visualViewport?o3:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function a3(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Cn(t)?!1:e}function Ko(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=T0(t);let o=$r(1);e&&(r?vr(r)&&(o=Qa(r)):o=Qa(t));const a=a3(i,n,r)?MP(i):$r(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const p=Cn(i),m=r&&vr(r)?Cn(r):r;let b=p,v=iv(b);for(;v&&r&&m!==b;){const x=Qa(v),w=v.getBoundingClientRect(),E=wr(v),T=w.left+(v.clientLeft+parseFloat(E.paddingLeft))*x.x,I=w.top+(v.clientTop+parseFloat(E.paddingTop))*x.y;l*=x.x,c*=x.y,d*=x.x,f*=x.y,l+=T,c+=I,b=Cn(v),v=iv(b)}}return Nf({width:d,height:f,x:l,y:c})}function Wp(t,e){const n=zp(t).scrollLeft;return e?e.left+n:Ko(ts(t)).left+n}function jP(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Wp(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function l3(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=ts(r),a=e?Bp(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=$r(1);const d=$r(0),f=Yr(r);if((f||!f&&!i)&&((Bl(r)!=="body"||dd(o))&&(l=zp(r)),Yr(r))){const m=Ko(r);c=Qa(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const p=o&&!f&&!i?jP(o,l):$r(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+p.x,y:n.y*c.y-l.scrollTop*c.y+d.y+p.y}}function c3(t){return Array.from(t.getClientRects())}function u3(t){const e=ts(t),n=zp(t),r=t.ownerDocument.body,s=bn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=bn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Wp(t);const a=-n.scrollTop;return wr(r).direction==="rtl"&&(o+=bn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}const kT=25;function d3(t,e){const n=Cn(t),r=ts(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const d=E0();(!d||d&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}const c=Wp(r);if(c<=0){const d=r.ownerDocument,f=d.body,p=getComputedStyle(f),m=d.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,b=Math.abs(r.clientWidth-f.clientWidth-m);b<=kT&&(i-=b)}else c<=kT&&(i+=c);return{width:i,height:o,x:a,y:l}}const h3=new Set(["absolute","fixed"]);function f3(t,e){const n=Ko(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Yr(t)?Qa(t):$r(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function NT(t,e,n){let r;if(e==="viewport")r=d3(t,n);else if(e==="document")r=u3(ts(t));else if(vr(e))r=f3(e,n);else{const s=MP(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Nf(r)}function VP(t,e){const n=Li(t);return n===e||!vr(n)||_l(n)?!1:wr(n).position==="fixed"||VP(n,e)}function p3(t,e){const n=e.get(t);if(n)return n;let r=Cu(t,[],!1).filter(a=>vr(a)&&Bl(a)!=="body"),s=null;const i=wr(t).position==="fixed";let o=i?Li(t):t;for(;vr(o)&&!_l(o);){const a=wr(o),l=x0(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&h3.has(s.position)||dd(o)&&!l&&VP(t,o))?r=r.filter(d=>d!==o):s=a,o=Li(o)}return e.set(t,r),r}function m3(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Bp(e)?[]:p3(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,d)=>{const f=NT(e,d,s);return c.top=bn(f.top,c.top),c.right=Vi(f.right,c.right),c.bottom=Vi(f.bottom,c.bottom),c.left=bn(f.left,c.left),c},NT(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function g3(t){const{width:e,height:n}=OP(t);return{width:e,height:n}}function y3(t,e,n){const r=Yr(e),s=ts(e),i=n==="fixed",o=Ko(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=$r(0);function c(){l.x=Wp(s)}if(r||!r&&!i)if((Bl(e)!=="body"||dd(s))&&(a=zp(e)),r){const m=Ko(e,!0,i,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else s&&c();i&&!r&&s&&c();const d=s&&!r&&!i?jP(s,a):$r(0),f=o.left+a.scrollLeft-l.x-d.x,p=o.top+a.scrollTop-l.y-d.y;return{x:f,y:p,width:o.width,height:o.height}}function vg(t){return wr(t).position==="static"}function DT(t,e){if(!Yr(t)||wr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ts(t)===n&&(n=n.ownerDocument.body),n}function LP(t,e){const n=Cn(t);if(Bp(t))return n;if(!Yr(t)){let s=Li(t);for(;s&&!_l(s);){if(vr(s)&&!vg(s))return s;s=Li(s)}return n}let r=DT(t,e);for(;r&&J5(r)&&vg(r);)r=DT(r,e);return r&&_l(r)&&vg(r)&&!x0(r)?n:r||s3(t)||n}const v3=async function(t){const e=this.getOffsetParent||LP,n=this.getDimensions,r=await n(t.floating);return{reference:y3(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function w3(t){return wr(t).direction==="rtl"}const _3={convertOffsetParentRelativeRectToViewportRelativeRect:l3,getDocumentElement:ts,getClippingRect:m3,getOffsetParent:LP,getElementRects:v3,getClientRects:c3,getDimensions:g3,getScale:Qa,isElement:vr,isRTL:w3};function FP(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function x3(t,e){let n=null,r;const s=ts(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=t.getBoundingClientRect(),{left:d,top:f,width:p,height:m}=c;if(a||e(),!p||!m)return;const b=dh(f),v=dh(s.clientWidth-(d+p)),x=dh(s.clientHeight-(f+m)),w=dh(d),T={rootMargin:-b+"px "+-v+"px "+-x+"px "+-w+"px",threshold:bn(0,Vi(1,l))||1};let I=!0;function C(M){const A=M[0].intersectionRatio;if(A!==l){if(!I)return o();A?o(!1,A):r=setTimeout(()=>{o(!1,1e-7)},1e3)}A===1&&!FP(c,t.getBoundingClientRect())&&o(),I=!1}try{n=new IntersectionObserver(C,{...T,root:s.ownerDocument})}catch{n=new IntersectionObserver(C,T)}n.observe(t)}return o(!0),i}function E3(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=T0(t),d=s||i?[...c?Cu(c):[],...Cu(e)]:[];d.forEach(w=>{s&&w.addEventListener("scroll",n,{passive:!0}),i&&w.addEventListener("resize",n)});const f=c&&a?x3(c,n):null;let p=-1,m=null;o&&(m=new ResizeObserver(w=>{let[E]=w;E&&E.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var T;(T=m)==null||T.observe(e)})),n()}),c&&!l&&m.observe(c),m.observe(e));let b,v=l?Ko(t):null;l&&x();function x(){const w=Ko(t);v&&!FP(v,w)&&n(),v=w,b=requestAnimationFrame(x)}return n(),()=>{var w;d.forEach(E=>{s&&E.removeEventListener("scroll",n),i&&E.removeEventListener("resize",n)}),f==null||f(),(w=m)==null||w.disconnect(),m=null,l&&cancelAnimationFrame(b)}}const T3=G5,b3=K5,S3=W5,A3=Y5,C3=H5,OT=z5,I3=Q5,P3=(t,e,n)=>{const r=new Map,s={platform:_3,...n},i={...s.platform,_c:r};return B5(t,e,{...s,platform:i})};var R3=typeof document<"u",k3=function(){},$h=R3?y.useLayoutEffect:k3;function Df(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Df(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Df(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function UP(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function MT(t,e){const n=UP(t);return Math.round(e*n)/n}function wg(t){const e=y.useRef(t);return $h(()=>{e.current=t}),e}function N3(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,f]=y.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,m]=y.useState(r);Df(p,r)||m(r);const[b,v]=y.useState(null),[x,w]=y.useState(null),E=y.useCallback(L=>{L!==M.current&&(M.current=L,v(L))},[]),T=y.useCallback(L=>{L!==A.current&&(A.current=L,w(L))},[]),I=i||b,C=o||x,M=y.useRef(null),A=y.useRef(null),S=y.useRef(d),P=l!=null,N=wg(l),R=wg(s),O=wg(c),D=y.useCallback(()=>{if(!M.current||!A.current)return;const L={placement:e,strategy:n,middleware:p};R.current&&(L.platform=R.current),P3(M.current,A.current,L).then(U=>{const K={...U,isPositioned:O.current!==!1};W.current&&!Df(S.current,K)&&(S.current=K,od.flushSync(()=>{f(K)}))})},[p,e,n,R,O]);$h(()=>{c===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,f(L=>({...L,isPositioned:!1})))},[c]);const W=y.useRef(!1);$h(()=>(W.current=!0,()=>{W.current=!1}),[]),$h(()=>{if(I&&(M.current=I),C&&(A.current=C),I&&C){if(N.current)return N.current(I,C,D);D()}},[I,C,D,N,P]);const ie=y.useMemo(()=>({reference:M,floating:A,setReference:E,setFloating:T}),[E,T]),ne=y.useMemo(()=>({reference:I,floating:C}),[I,C]),Z=y.useMemo(()=>{const L={position:n,left:0,top:0};if(!ne.floating)return L;const U=MT(ne.floating,d.x),K=MT(ne.floating,d.y);return a?{...L,transform:"translate("+U+"px, "+K+"px)",...UP(ne.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:U,top:K}},[n,a,ne.floating,d.x,d.y]);return y.useMemo(()=>({...d,update:D,refs:ie,elements:ne,floatingStyles:Z}),[d,D,ie,ne,Z])}const D3=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?OT({element:r.current,padding:s}).fn(n):{}:r?OT({element:r,padding:s}).fn(n):{}}}},O3=(t,e)=>({...T3(t),options:[t,e]}),M3=(t,e)=>({...b3(t),options:[t,e]}),j3=(t,e)=>({...I3(t),options:[t,e]}),V3=(t,e)=>({...S3(t),options:[t,e]}),L3=(t,e)=>({...A3(t),options:[t,e]}),F3=(t,e)=>({...C3(t),options:[t,e]}),U3=(t,e)=>({...D3(t),options:[t,e]});var $3="Arrow",$P=y.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return h.jsx(je.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:h.jsx("polygon",{points:"0,0 30,0 15,10"})})});$P.displayName=$3;var B3=$P;function BP(t){const[e,n]=y.useState(void 0);return Cs(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var zP="Popper",[WP,HP]=es(zP),[cee,qP]=WP(zP),GP="PopperAnchor",KP=y.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=qP(GP,n),o=y.useRef(null),a=ut(e,o),l=y.useRef(null);return y.useEffect(()=>{const c=l.current;l.current=(r==null?void 0:r.current)||o.current,c!==l.current&&i.onAnchorChange(l.current)}),r?null:h.jsx(je.div,{...s,ref:a})});KP.displayName=GP;var b0="PopperContent",[z3,W3]=WP(b0),QP=y.forwardRef((t,e)=>{var Ie,xr,Yn,ss,Er,is;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:m="optimized",onPlaced:b,...v}=t,x=qP(b0,n),[w,E]=y.useState(null),T=ut(e,Nn=>E(Nn)),[I,C]=y.useState(null),M=BP(I),A=(M==null?void 0:M.width)??0,S=(M==null?void 0:M.height)??0,P=r+(i!=="center"?"-"+i:""),N=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},R=Array.isArray(c)?c:[c],O=R.length>0,D={padding:N,boundary:R.filter(q3),altBoundary:O},{refs:W,floatingStyles:ie,placement:ne,isPositioned:Z,middlewareData:L}=N3({strategy:"fixed",placement:P,whileElementsMounted:(...Nn)=>E3(...Nn,{animationFrame:m==="always"}),elements:{reference:x.anchor},middleware:[O3({mainAxis:s+S,alignmentAxis:o}),l&&M3({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?j3():void 0,...D}),l&&V3({...D}),L3({...D,apply:({elements:Nn,rects:io,availableWidth:Jl,availableHeight:Us})=>{const{width:oo,height:$s}=io.reference,Xe=Nn.floating.style;Xe.setProperty("--radix-popper-available-width",`${Jl}px`),Xe.setProperty("--radix-popper-available-height",`${Us}px`),Xe.setProperty("--radix-popper-anchor-width",`${oo}px`),Xe.setProperty("--radix-popper-anchor-height",`${$s}px`)}}),I&&U3({element:I,padding:a}),G3({arrowWidth:A,arrowHeight:S}),p&&F3({strategy:"referenceHidden",...D})]}),[U,K]=ZP(ne),ue=yr(b);Cs(()=>{Z&&(ue==null||ue())},[Z,ue]);const re=(Ie=L.arrow)==null?void 0:Ie.x,we=(xr=L.arrow)==null?void 0:xr.y,ye=((Yn=L.arrow)==null?void 0:Yn.centerOffset)!==0,[Ke,dt]=y.useState();return Cs(()=>{w&&dt(window.getComputedStyle(w).zIndex)},[w]),h.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...ie,transform:Z?ie.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ke,"--radix-popper-transform-origin":[(ss=L.transformOrigin)==null?void 0:ss.x,(Er=L.transformOrigin)==null?void 0:Er.y].join(" "),...((is=L.hide)==null?void 0:is.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:h.jsx(z3,{scope:n,placedSide:U,onArrowChange:C,arrowX:re,arrowY:we,shouldHideArrow:ye,children:h.jsx(je.div,{"data-side":U,"data-align":K,...v,ref:T,style:{...v.style,animation:Z?void 0:"none"}})})})});QP.displayName=b0;var YP="PopperArrow",H3={top:"bottom",right:"left",bottom:"top",left:"right"},XP=y.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=W3(YP,r),o=H3[i.placedSide];return h.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:h.jsx(B3,{...s,ref:n,style:{...s.style,display:"block"}})})});XP.displayName=YP;function q3(t){return t!==null}var G3=t=>({name:"transformOrigin",options:t,fn(e){var x,w,E;const{placement:n,rects:r,middlewareData:s}=e,o=((x=s.arrow)==null?void 0:x.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,d]=ZP(n),f={start:"0%",center:"50%",end:"100%"}[d],p=(((w=s.arrow)==null?void 0:w.x)??0)+a/2,m=(((E=s.arrow)==null?void 0:E.y)??0)+l/2;let b="",v="";return c==="bottom"?(b=o?f:`${p}px`,v=`${-l}px`):c==="top"?(b=o?f:`${p}px`,v=`${r.floating.height+l}px`):c==="right"?(b=`${-l}px`,v=o?f:`${m}px`):c==="left"&&(b=`${r.floating.width+l}px`,v=o?f:`${m}px`),{data:{x:b,y:v}}}});function ZP(t){const[e,n="center"]=t.split("-");return[e,n]}var K3=KP,Q3=QP,Y3=XP,[Hp]=es("Tooltip",[HP]),S0=HP(),JP="TooltipProvider",X3=700,jT="tooltip.open",[Z3,eR]=Hp(JP),tR=t=>{const{__scopeTooltip:e,delayDuration:n=X3,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=y.useRef(!0),a=y.useRef(!1),l=y.useRef(0);return y.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),h.jsx(Z3,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:y.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:y.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:y.useCallback(c=>{a.current=c},[]),disableHoverableContent:s,children:i})};tR.displayName=JP;var nR="Tooltip",[uee,qp]=Hp(nR),ov="TooltipTrigger",J3=y.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=qp(ov,n),i=eR(ov,n),o=S0(n),a=y.useRef(null),l=ut(e,a,s.onTriggerChange),c=y.useRef(!1),d=y.useRef(!1),f=y.useCallback(()=>c.current=!1,[]);return y.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),h.jsx(K3,{asChild:!0,...o,children:h.jsx(je.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:Ee(t.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:Ee(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:Ee(t.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Ee(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:Ee(t.onBlur,s.onClose),onClick:Ee(t.onClick,s.onClose)})})});J3.displayName=ov;var eU="TooltipPortal",[dee,tU]=Hp(eU,{forceMount:void 0}),xl="TooltipContent",rR=y.forwardRef((t,e)=>{const n=tU(xl,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=qp(xl,t.__scopeTooltip);return h.jsx(Ji,{present:r||o.open,children:o.disableHoverableContent?h.jsx(sR,{side:s,...i,ref:e}):h.jsx(nU,{side:s,...i,ref:e})})}),nU=y.forwardRef((t,e)=>{const n=qp(xl,t.__scopeTooltip),r=eR(xl,t.__scopeTooltip),s=y.useRef(null),i=ut(e,s),[o,a]=y.useState(null),{trigger:l,onClose:c}=n,d=s.current,{onPointerInTransitChange:f}=r,p=y.useCallback(()=>{a(null),f(!1)},[f]),m=y.useCallback((b,v)=>{const x=b.currentTarget,w={x:b.clientX,y:b.clientY},E=aU(w,x.getBoundingClientRect()),T=lU(w,E),I=cU(v.getBoundingClientRect()),C=dU([...T,...I]);a(C),f(!0)},[f]);return y.useEffect(()=>()=>p(),[p]),y.useEffect(()=>{if(l&&d){const b=x=>m(x,d),v=x=>m(x,l);return l.addEventListener("pointerleave",b),d.addEventListener("pointerleave",v),()=>{l.removeEventListener("pointerleave",b),d.removeEventListener("pointerleave",v)}}},[l,d,m,p]),y.useEffect(()=>{if(o){const b=v=>{const x=v.target,w={x:v.clientX,y:v.clientY},E=(l==null?void 0:l.contains(x))||(d==null?void 0:d.contains(x)),T=!uU(w,o);E?p():T&&(p(),c())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[l,d,o,c,p]),h.jsx(sR,{...t,ref:i})}),[rU,sU]=Hp(nR,{isInside:!1}),iU=zI("TooltipContent"),sR=y.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=qp(xl,n),c=S0(n),{onClose:d}=l;return y.useEffect(()=>(document.addEventListener(jT,d),()=>document.removeEventListener(jT,d)),[d]),y.useEffect(()=>{if(l.trigger){const f=p=>{const m=p.target;m!=null&&m.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),h.jsx(Lp,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:h.jsxs(Q3,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[h.jsx(iU,{children:r}),h.jsx(rU,{scope:n,isInside:!0,children:h.jsx(n4,{id:l.contentId,role:"tooltip",children:s||r})})]})})});rR.displayName=xl;var iR="TooltipArrow",oU=y.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=S0(n);return sU(iR,n).isInside?null:h.jsx(Y3,{...s,...r,ref:e})});oU.displayName=iR;function aU(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function lU(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function cU(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function uU(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],c=a.x,d=a.y,f=l.x,p=l.y;d>r!=p>r&&n<(f-c)*(r-d)/(p-d)+c&&(s=!s)}return s}function dU(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),hU(e)}function hU(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var fU=tR,oR=rR;const pU=fU,mU=y.forwardRef(({className:t,sideOffset:e=4,...n},r)=>h.jsx(oR,{ref:r,sideOffset:e,className:he("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));mU.displayName=oR.displayName;var Gp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},gU={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},ui,gw,vA,yU=(vA=class{constructor(){Ce(this,ui,gU);Ce(this,gw,!1)}setTimeoutProvider(t){de(this,ui,t)}setTimeout(t,e){return F(this,ui).setTimeout(t,e)}clearTimeout(t){F(this,ui).clearTimeout(t)}setInterval(t,e){return F(this,ui).setInterval(t,e)}clearInterval(t){F(this,ui).clearInterval(t)}},ui=new WeakMap,gw=new WeakMap,vA),av=new yU;function vU(t){setTimeout(t,0)}var Kp=typeof window>"u"||"Deno"in globalThis;function ir(){}function wU(t,e){return typeof t=="function"?t(e):t}function _U(t){return typeof t=="number"&&t>=0&&t!==1/0}function xU(t,e){return Math.max(t+(e||0)-Date.now(),0)}function lv(t,e){return typeof t=="function"?t(e):t}function EU(t,e){return typeof t=="function"?t(e):t}function VT(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==A0(o,e.options))return!1}else if(!Pu(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function LT(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Iu(e.options.mutationKey)!==Iu(i))return!1}else if(!Pu(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function A0(t,e){return((e==null?void 0:e.queryKeyHashFn)||Iu)(t)}function Iu(t){return JSON.stringify(t,(e,n)=>cv(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Pu(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Pu(t[n],e[n])):!1}var TU=Object.prototype.hasOwnProperty;function aR(t,e){if(t===e)return t;const n=FT(t)&&FT(e);if(!n&&!(cv(t)&&cv(e)))return e;const s=(n?t:Object.keys(t)).length,i=n?e:Object.keys(e),o=i.length,a=n?new Array(o):{};let l=0;for(let c=0;c<o;c++){const d=n?c:i[c],f=t[d],p=e[d];if(f===p){a[d]=f,(n?c<s:TU.call(t,d))&&l++;continue}if(f===null||p===null||typeof f!="object"||typeof p!="object"){a[d]=p;continue}const m=aR(f,p);a[d]=m,m===f&&l++}return s===o&&l===s?t:a}function FT(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function cv(t){if(!UT(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!UT(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function UT(t){return Object.prototype.toString.call(t)==="[object Object]"}function bU(t){return new Promise(e=>{av.setTimeout(e,t)})}function SU(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?aR(t,e):e}function AU(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function CU(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var C0=Symbol();function lR(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===C0?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Ro,di,sl,wA,IU=(wA=class extends Gp{constructor(){super();Ce(this,Ro);Ce(this,di);Ce(this,sl);de(this,sl,e=>{if(!Kp&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){F(this,di)||this.setEventListener(F(this,sl))}onUnsubscribe(){var e;this.hasListeners()||((e=F(this,di))==null||e.call(this),de(this,di,void 0))}setEventListener(e){var n;de(this,sl,e),(n=F(this,di))==null||n.call(this),de(this,di,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){F(this,Ro)!==e&&(de(this,Ro,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof F(this,Ro)=="boolean"?F(this,Ro):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ro=new WeakMap,di=new WeakMap,sl=new WeakMap,wA),cR=new IU;function PU(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}var RU=vU;function kU(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=RU;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var sn=kU(),il,hi,ol,_A,NU=(_A=class extends Gp{constructor(){super();Ce(this,il,!0);Ce(this,hi);Ce(this,ol);de(this,ol,e=>{if(!Kp&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){F(this,hi)||this.setEventListener(F(this,ol))}onUnsubscribe(){var e;this.hasListeners()||((e=F(this,hi))==null||e.call(this),de(this,hi,void 0))}setEventListener(e){var n;de(this,ol,e),(n=F(this,hi))==null||n.call(this),de(this,hi,e(this.setOnline.bind(this)))}setOnline(e){F(this,il)!==e&&(de(this,il,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return F(this,il)}},il=new WeakMap,hi=new WeakMap,ol=new WeakMap,_A),Of=new NU;function DU(t){return Math.min(1e3*2**t,3e4)}function uR(t){return(t??"online")==="online"?Of.isOnline():!0}var uv=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function dR(t){let e=!1,n=0,r;const s=PU(),i=()=>s.status!=="pending",o=v=>{var x;if(!i()){const w=new uv(v);p(w),(x=t.onCancel)==null||x.call(t,w)}},a=()=>{e=!0},l=()=>{e=!1},c=()=>cR.isFocused()&&(t.networkMode==="always"||Of.isOnline())&&t.canRun(),d=()=>uR(t.networkMode)&&t.canRun(),f=v=>{i()||(r==null||r(),s.resolve(v))},p=v=>{i()||(r==null||r(),s.reject(v))},m=()=>new Promise(v=>{var x;r=w=>{(i()||c())&&v(w)},(x=t.onPause)==null||x.call(t)}).then(()=>{var v;r=void 0,i()||(v=t.onContinue)==null||v.call(t)}),b=()=>{if(i())return;let v;const x=n===0?t.initialPromise:void 0;try{v=x??t.fn()}catch(w){v=Promise.reject(w)}Promise.resolve(v).then(f).catch(w=>{var M;if(i())return;const E=t.retry??(Kp?0:3),T=t.retryDelay??DU,I=typeof T=="function"?T(n,w):T,C=E===!0||typeof E=="number"&&n<E||typeof E=="function"&&E(n,w);if(e||!C){p(w);return}n++,(M=t.onFail)==null||M.call(t,n,w),bU(I).then(()=>c()?void 0:m()).then(()=>{e?p(w):b()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?b():m().then(b),s)}}var ko,xA,hR=(xA=class{constructor(){Ce(this,ko)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),_U(this.gcTime)&&de(this,ko,av.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Kp?1/0:5*60*1e3))}clearGcTimeout(){F(this,ko)&&(av.clearTimeout(F(this,ko)),de(this,ko,void 0))}},ko=new WeakMap,xA),No,al,Mn,Do,Rt,Zu,Oo,or,us,EA,OU=(EA=class extends hR{constructor(n){super();Ce(this,or);Ce(this,No);Ce(this,al);Ce(this,Mn);Ce(this,Do);Ce(this,Rt);Ce(this,Zu);Ce(this,Oo);de(this,Oo,!1),de(this,Zu,n.defaultOptions),this.setOptions(n.options),this.observers=[],de(this,Do,n.client),de(this,Mn,F(this,Do).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,de(this,No,BT(this.options)),this.state=n.state??F(this,No),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=F(this,Rt))==null?void 0:n.promise}setOptions(n){if(this.options={...F(this,Zu),...n},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=BT(this.options);r.data!==void 0&&(this.setState($T(r.data,r.dataUpdatedAt)),de(this,No,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&F(this,Mn).remove(this)}setData(n,r){const s=SU(this.state.data,n,this.options);return Ht(this,or,us).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){Ht(this,or,us).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=F(this,Rt))==null?void 0:s.promise;return(i=F(this,Rt))==null||i.cancel(n),r?r.then(ir).catch(ir):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(F(this,No))}isActive(){return this.observers.some(n=>EU(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===C0||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>lv(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!xU(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=F(this,Rt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=F(this,Rt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),F(this,Mn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(F(this,Rt)&&(F(this,Oo)?F(this,Rt).cancel({revert:!0}):F(this,Rt).cancelRetry()),this.scheduleGc()),F(this,Mn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ht(this,or,us).call(this,{type:"invalidate"})}async fetch(n,r){var c,d,f,p,m,b,v,x,w,E,T,I;if(this.state.fetchStatus!=="idle"&&((c=F(this,Rt))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(F(this,Rt))return F(this,Rt).continueRetry(),F(this,Rt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const C=this.observers.find(M=>M.options.queryFn);C&&this.setOptions(C.options)}const s=new AbortController,i=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(de(this,Oo,!0),s.signal)})},o=()=>{const C=lR(this.options,r),A=(()=>{const S={client:F(this,Do),queryKey:this.queryKey,meta:this.meta};return i(S),S})();return de(this,Oo,!1),this.options.persister?this.options.persister(C,A,this):C(A)},l=(()=>{const C={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:F(this,Do),state:this.state,fetchFn:o};return i(C),C})();(d=this.options.behavior)==null||d.onFetch(l,this),de(this,al,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=l.fetchOptions)==null?void 0:f.meta))&&Ht(this,or,us).call(this,{type:"fetch",meta:(p=l.fetchOptions)==null?void 0:p.meta}),de(this,Rt,dR({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:C=>{C instanceof uv&&C.revert&&this.setState({...F(this,al),fetchStatus:"idle"}),s.abort()},onFail:(C,M)=>{Ht(this,or,us).call(this,{type:"failed",failureCount:C,error:M})},onPause:()=>{Ht(this,or,us).call(this,{type:"pause"})},onContinue:()=>{Ht(this,or,us).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const C=await F(this,Rt).start();if(C===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(C),(b=(m=F(this,Mn).config).onSuccess)==null||b.call(m,C,this),(x=(v=F(this,Mn).config).onSettled)==null||x.call(v,C,this.state.error,this),C}catch(C){if(C instanceof uv){if(C.silent)return F(this,Rt).promise;if(C.revert){if(this.state.data===void 0)throw C;return this.state.data}}throw Ht(this,or,us).call(this,{type:"error",error:C}),(E=(w=F(this,Mn).config).onError)==null||E.call(w,C,this),(I=(T=F(this,Mn).config).onSettled)==null||I.call(T,this.state.data,C,this),C}finally{this.scheduleGc()}}},No=new WeakMap,al=new WeakMap,Mn=new WeakMap,Do=new WeakMap,Rt=new WeakMap,Zu=new WeakMap,Oo=new WeakMap,or=new WeakSet,us=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...MU(s.data,this.options),fetchMeta:n.meta??null};case"success":const i={...s,...$T(n.data,n.dataUpdatedAt),dataUpdateCount:s.dataUpdateCount+1,...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return de(this,al,n.manual?i:void 0),i;case"error":const o=n.error;return{...s,error:o,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),sn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),F(this,Mn).notify({query:this,type:"updated",action:n})})},EA);function MU(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:uR(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function $T(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function BT(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function zT(t){return{onFetch:(e,n)=>{var d,f,p,m,b;const r=e.options,s=(p=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,i=((m=e.state.data)==null?void 0:m.pages)||[],o=((b=e.state.data)==null?void 0:b.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let v=!1;const x=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},w=lR(e.options,e.fetchOptions),E=async(T,I,C)=>{if(v)return Promise.reject();if(I==null&&T.pages.length)return Promise.resolve(T);const A=(()=>{const R={client:e.client,queryKey:e.queryKey,pageParam:I,direction:C?"backward":"forward",meta:e.options.meta};return x(R),R})(),S=await w(A),{maxPages:P}=e.options,N=C?CU:AU;return{pages:N(T.pages,S,P),pageParams:N(T.pageParams,I,P)}};if(s&&i.length){const T=s==="backward",I=T?jU:WT,C={pages:i,pageParams:o},M=I(r,C);a=await E(C,M,T)}else{const T=t??i.length;do{const I=l===0?o[0]??r.initialPageParam:WT(r,a);if(l>0&&I==null)break;a=await E(a,I),l++}while(l<T)}return a};e.options.persister?e.fetchFn=()=>{var v,x;return(x=(v=e.options).persister)==null?void 0:x.call(v,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function WT(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function jU(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Ju,Nr,nn,Mo,Dr,Js,TA,VU=(TA=class extends hR{constructor(n){super();Ce(this,Dr);Ce(this,Ju);Ce(this,Nr);Ce(this,nn);Ce(this,Mo);de(this,Ju,n.client),this.mutationId=n.mutationId,de(this,nn,n.mutationCache),de(this,Nr,[]),this.state=n.state||LU(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){F(this,Nr).includes(n)||(F(this,Nr).push(n),this.clearGcTimeout(),F(this,nn).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){de(this,Nr,F(this,Nr).filter(r=>r!==n)),this.scheduleGc(),F(this,nn).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){F(this,Nr).length||(this.state.status==="pending"?this.scheduleGc():F(this,nn).remove(this))}continue(){var n;return((n=F(this,Mo))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var a,l,c,d,f,p,m,b,v,x,w,E,T,I,C,M,A,S,P,N;const r=()=>{Ht(this,Dr,Js).call(this,{type:"continue"})},s={client:F(this,Ju),meta:this.options.meta,mutationKey:this.options.mutationKey};de(this,Mo,dR({fn:()=>this.options.mutationFn?this.options.mutationFn(n,s):Promise.reject(new Error("No mutationFn found")),onFail:(R,O)=>{Ht(this,Dr,Js).call(this,{type:"failed",failureCount:R,error:O})},onPause:()=>{Ht(this,Dr,Js).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>F(this,nn).canRun(this)}));const i=this.state.status==="pending",o=!F(this,Mo).canStart();try{if(i)r();else{Ht(this,Dr,Js).call(this,{type:"pending",variables:n,isPaused:o}),await((l=(a=F(this,nn).config).onMutate)==null?void 0:l.call(a,n,this,s));const O=await((d=(c=this.options).onMutate)==null?void 0:d.call(c,n,s));O!==this.state.context&&Ht(this,Dr,Js).call(this,{type:"pending",context:O,variables:n,isPaused:o})}const R=await F(this,Mo).start();return await((p=(f=F(this,nn).config).onSuccess)==null?void 0:p.call(f,R,n,this.state.context,this,s)),await((b=(m=this.options).onSuccess)==null?void 0:b.call(m,R,n,this.state.context,s)),await((x=(v=F(this,nn).config).onSettled)==null?void 0:x.call(v,R,null,this.state.variables,this.state.context,this,s)),await((E=(w=this.options).onSettled)==null?void 0:E.call(w,R,null,n,this.state.context,s)),Ht(this,Dr,Js).call(this,{type:"success",data:R}),R}catch(R){try{throw await((I=(T=F(this,nn).config).onError)==null?void 0:I.call(T,R,n,this.state.context,this,s)),await((M=(C=this.options).onError)==null?void 0:M.call(C,R,n,this.state.context,s)),await((S=(A=F(this,nn).config).onSettled)==null?void 0:S.call(A,void 0,R,this.state.variables,this.state.context,this,s)),await((N=(P=this.options).onSettled)==null?void 0:N.call(P,void 0,R,n,this.state.context,s)),R}finally{Ht(this,Dr,Js).call(this,{type:"error",error:R})}}finally{F(this,nn).runNext(this)}}},Ju=new WeakMap,Nr=new WeakMap,nn=new WeakMap,Mo=new WeakMap,Dr=new WeakSet,Js=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),sn.batch(()=>{F(this,Nr).forEach(s=>{s.onMutationUpdate(n)}),F(this,nn).notify({mutation:this,type:"updated",action:n})})},TA);function LU(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var fs,ar,ed,bA,FU=(bA=class extends Gp{constructor(e={}){super();Ce(this,fs);Ce(this,ar);Ce(this,ed);this.config=e,de(this,fs,new Set),de(this,ar,new Map),de(this,ed,0)}build(e,n,r){const s=new VU({client:e,mutationCache:this,mutationId:++Wd(this,ed)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){F(this,fs).add(e);const n=hh(e);if(typeof n=="string"){const r=F(this,ar).get(n);r?r.push(e):F(this,ar).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(F(this,fs).delete(e)){const n=hh(e);if(typeof n=="string"){const r=F(this,ar).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&F(this,ar).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=hh(e);if(typeof n=="string"){const r=F(this,ar).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=hh(e);if(typeof n=="string"){const s=(r=F(this,ar).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){sn.batch(()=>{F(this,fs).forEach(e=>{this.notify({type:"removed",mutation:e})}),F(this,fs).clear(),F(this,ar).clear()})}getAll(){return Array.from(F(this,fs))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>LT(n,r))}findAll(e={}){return this.getAll().filter(n=>LT(e,n))}notify(e){sn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return sn.batch(()=>Promise.all(e.map(n=>n.continue().catch(ir))))}},fs=new WeakMap,ar=new WeakMap,ed=new WeakMap,bA);function hh(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Or,SA,UU=(SA=class extends Gp{constructor(e={}){super();Ce(this,Or);this.config=e,de(this,Or,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??A0(s,n);let o=this.get(i);return o||(o=new OU({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){F(this,Or).has(e.queryHash)||(F(this,Or).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=F(this,Or).get(e.queryHash);n&&(e.destroy(),n===e&&F(this,Or).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){sn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return F(this,Or).get(e)}getAll(){return[...F(this,Or).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>VT(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>VT(e,r)):n}notify(e){sn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){sn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){sn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Or=new WeakMap,SA),it,fi,pi,ll,cl,mi,ul,dl,AA,$U=(AA=class{constructor(t={}){Ce(this,it);Ce(this,fi);Ce(this,pi);Ce(this,ll);Ce(this,cl);Ce(this,mi);Ce(this,ul);Ce(this,dl);de(this,it,t.queryCache||new UU),de(this,fi,t.mutationCache||new FU),de(this,pi,t.defaultOptions||{}),de(this,ll,new Map),de(this,cl,new Map),de(this,mi,0)}mount(){Wd(this,mi)._++,F(this,mi)===1&&(de(this,ul,cR.subscribe(async t=>{t&&(await this.resumePausedMutations(),F(this,it).onFocus())})),de(this,dl,Of.subscribe(async t=>{t&&(await this.resumePausedMutations(),F(this,it).onOnline())})))}unmount(){var t,e;Wd(this,mi)._--,F(this,mi)===0&&((t=F(this,ul))==null||t.call(this),de(this,ul,void 0),(e=F(this,dl))==null||e.call(this),de(this,dl,void 0))}isFetching(t){return F(this,it).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return F(this,fi).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=F(this,it).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=F(this,it).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(lv(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return F(this,it).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=F(this,it).get(r.queryHash),i=s==null?void 0:s.state.data,o=wU(e,i);if(o!==void 0)return F(this,it).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return sn.batch(()=>F(this,it).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=F(this,it).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=F(this,it);sn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=F(this,it);return sn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=sn.batch(()=>F(this,it).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(ir).catch(ir)}invalidateQueries(t,e={}){return sn.batch(()=>(F(this,it).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=sn.batch(()=>F(this,it).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(ir)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(ir)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=F(this,it).build(this,e);return n.isStaleByTime(lv(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ir).catch(ir)}fetchInfiniteQuery(t){return t.behavior=zT(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ir).catch(ir)}ensureInfiniteQueryData(t){return t.behavior=zT(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Of.isOnline()?F(this,fi).resumePausedMutations():Promise.resolve()}getQueryCache(){return F(this,it)}getMutationCache(){return F(this,fi)}getDefaultOptions(){return F(this,pi)}setDefaultOptions(t){de(this,pi,t)}setQueryDefaults(t,e){F(this,ll).set(Iu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...F(this,ll).values()],n={};return e.forEach(r=>{Pu(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){F(this,cl).set(Iu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...F(this,cl).values()],n={};return e.forEach(r=>{Pu(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...F(this,pi).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=A0(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===C0&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...F(this,pi).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){F(this,it).clear(),F(this,fi).clear()}},it=new WeakMap,fi=new WeakMap,pi=new WeakMap,ll=new WeakMap,cl=new WeakMap,mi=new WeakMap,ul=new WeakMap,dl=new WeakMap,AA),BU=y.createContext(void 0),zU=({client:t,children:e})=>(y.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),h.jsx(BU.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ru(){return Ru=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ru.apply(this,arguments)}var vi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(vi||(vi={}));const HT="popstate";function WU(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return dv("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:fR(s)}return qU(e,n,null,t)}function wt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function I0(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function HU(){return Math.random().toString(36).substr(2,8)}function qT(t,e){return{usr:t.state,key:t.key,idx:e}}function dv(t,e,n,r){return n===void 0&&(n=null),Ru({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?zl(e):e,{state:n,key:e&&e.key||r||HU()})}function fR(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function zl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function qU(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=vi.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(Ru({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=vi.Pop;let x=d(),w=x==null?null:x-c;c=x,l&&l({action:a,location:v.location,delta:w})}function p(x,w){a=vi.Push;let E=dv(v.location,x,w);c=d()+1;let T=qT(E,c),I=v.createHref(E);try{o.pushState(T,"",I)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(I)}i&&l&&l({action:a,location:v.location,delta:1})}function m(x,w){a=vi.Replace;let E=dv(v.location,x,w);c=d();let T=qT(E,c),I=v.createHref(E);o.replaceState(T,"",I),i&&l&&l({action:a,location:v.location,delta:0})}function b(x){let w=s.location.origin!=="null"?s.location.origin:s.location.href,E=typeof x=="string"?x:fR(x);return E=E.replace(/ $/,"%20"),wt(w,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,w)}let v={get action(){return a},get location(){return t(s,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(HT,f),l=x,()=>{s.removeEventListener(HT,f),l=null}},createHref(x){return e(s,x)},createURL:b,encodeLocation(x){let w=b(x);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:m,go(x){return o.go(x)}};return v}var GT;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(GT||(GT={}));function GU(t,e,n){return n===void 0&&(n="/"),KU(t,e,n)}function KU(t,e,n,r){let s=typeof e=="string"?zl(e):e,i=gR(s.pathname||"/",n);if(i==null)return null;let o=pR(t);QU(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=a6(i);a=s6(o[l],c)}return a}function pR(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(wt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Lo([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(wt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),pR(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:n6(c,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of mR(i.path))s(i,o,l)}),e}function mR(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=mR(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function QU(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:r6(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const YU=/^:[\w-]+$/,XU=3,ZU=2,JU=1,e6=10,t6=-2,KT=t=>t==="*";function n6(t,e){let n=t.split("/"),r=n.length;return n.some(KT)&&(r+=t6),e&&(r+=ZU),n.filter(s=>!KT(s)).reduce((s,i)=>s+(YU.test(i)?XU:i===""?JU:e6),r)}function r6(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function s6(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",f=i6({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Lo([i,f.pathname]),pathnameBase:h6(Lo([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=Lo([i,f.pathnameBase]))}return o}function i6(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=o6(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:p,isOptional:m}=d;if(p==="*"){let v=a[f]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const b=a[f];return m&&!b?c[p]=void 0:c[p]=(b||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function o6(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),I0(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function a6(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return I0(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function gR(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const l6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,c6=t=>l6.test(t);function u6(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?zl(t):t,i;if(n)if(c6(n))i=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),I0(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?i=QT(n.substring(1),"/"):i=QT(n,e)}else i=e;return{pathname:i,search:f6(r),hash:p6(s)}}function QT(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function _g(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function d6(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function yR(t,e){let n=d6(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function vR(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=zl(t):(s=Ru({},t),wt(!s.pathname||!s.pathname.includes("?"),_g("?","pathname","search",s)),wt(!s.pathname||!s.pathname.includes("#"),_g("#","pathname","hash",s)),wt(!s.search||!s.search.includes("#"),_g("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}a=f>=0?e[f]:"/"}let l=u6(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Lo=t=>t.join("/").replace(/\/\/+/g,"/"),h6=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),f6=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,p6=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function m6(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const wR=["post","put","patch","delete"];new Set(wR);const g6=["get",...wR];new Set(g6);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ku(){return ku=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ku.apply(this,arguments)}const P0=y.createContext(null),y6=y.createContext(null),hd=y.createContext(null),Qp=y.createContext(null),eo=y.createContext({outlet:null,matches:[],isDataRoute:!1}),_R=y.createContext(null);function fd(){return y.useContext(Qp)!=null}function Yp(){return fd()||wt(!1),y.useContext(Qp).location}function xR(t){y.useContext(hd).static||y.useLayoutEffect(t)}function ia(){let{isDataRoute:t}=y.useContext(eo);return t?k6():v6()}function v6(){fd()||wt(!1);let t=y.useContext(P0),{basename:e,future:n,navigator:r}=y.useContext(hd),{matches:s}=y.useContext(eo),{pathname:i}=Yp(),o=JSON.stringify(yR(s,n.v7_relativeSplatPath)),a=y.useRef(!1);return xR(()=>{a.current=!0}),y.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=vR(c,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Lo([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,o,i,t])}function w6(){let{matches:t}=y.useContext(eo),e=t[t.length-1];return e?e.params:{}}function _6(t,e){return x6(t,e)}function x6(t,e,n,r){fd()||wt(!1);let{navigator:s}=y.useContext(hd),{matches:i}=y.useContext(eo),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Yp(),d;if(e){var f;let x=typeof e=="string"?zl(e):e;l==="/"||(f=x.pathname)!=null&&f.startsWith(l)||wt(!1),d=x}else d=c;let p=d.pathname||"/",m=p;if(l!=="/"){let x=l.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(x.length).join("/")}let b=GU(t,{pathname:m}),v=A6(b&&b.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:Lo([l,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:Lo([l,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,r);return e&&v?y.createElement(Qp.Provider,{value:{location:ku({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:vi.Pop}},v):v}function E6(){let t=R6(),e=m6(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),n?y.createElement("pre",{style:s},n):null,null)}const T6=y.createElement(E6,null);class b6 extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?y.createElement(eo.Provider,{value:this.props.routeContext},y.createElement(_R.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function S6(t){let{routeContext:e,match:n,children:r}=t,s=y.useContext(P0);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(eo.Provider,{value:e},r)}function A6(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||wt(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:p,errors:m}=n,b=f.route.loader&&p[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||b){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,f,p)=>{let m,b=!1,v=null,x=null;n&&(m=a&&f.route.id?a[f.route.id]:void 0,v=f.route.errorElement||T6,l&&(c<0&&p===0?(N6("route-fallback"),b=!0,x=null):c===p&&(b=!0,x=f.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,p+1)),E=()=>{let T;return m?T=v:b?T=x:f.route.Component?T=y.createElement(f.route.Component,null):f.route.element?T=f.route.element:T=d,y.createElement(S6,{match:f,routeContext:{outlet:d,matches:w,isDataRoute:n!=null},children:T})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?y.createElement(b6,{location:n.location,revalidation:n.revalidation,component:v,error:m,children:E(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):E()},null)}var ER=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(ER||{}),TR=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(TR||{});function C6(t){let e=y.useContext(P0);return e||wt(!1),e}function I6(t){let e=y.useContext(y6);return e||wt(!1),e}function P6(t){let e=y.useContext(eo);return e||wt(!1),e}function bR(t){let e=P6(),n=e.matches[e.matches.length-1];return n.route.id||wt(!1),n.route.id}function R6(){var t;let e=y.useContext(_R),n=I6(),r=bR();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function k6(){let{router:t}=C6(ER.UseNavigateStable),e=bR(TR.UseNavigateStable),n=y.useRef(!1);return xR(()=>{n.current=!0}),y.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,ku({fromRouteId:e},i)))},[t,e])}const YT={};function N6(t,e,n){YT[t]||(YT[t]=!0)}function D6(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function O6(t){let{to:e,replace:n,state:r,relative:s}=t;fd()||wt(!1);let{future:i,static:o}=y.useContext(hd),{matches:a}=y.useContext(eo),{pathname:l}=Yp(),c=ia(),d=vR(e,yR(a,i.v7_relativeSplatPath),l,s==="path"),f=JSON.stringify(d);return y.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:s}),[c,f,s,n,r]),null}function vo(t){wt(!1)}function M6(t){let{basename:e="/",children:n=null,location:r,navigationType:s=vi.Pop,navigator:i,static:o=!1,future:a}=t;fd()&&wt(!1);let l=e.replace(/^\/*/,"/"),c=y.useMemo(()=>({basename:l,navigator:i,static:o,future:ku({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=zl(r));let{pathname:d="/",search:f="",hash:p="",state:m=null,key:b="default"}=r,v=y.useMemo(()=>{let x=gR(d,l);return x==null?null:{location:{pathname:x,search:f,hash:p,state:m,key:b},navigationType:s}},[l,d,f,p,m,b,s]);return v==null?null:y.createElement(hd.Provider,{value:c},y.createElement(Qp.Provider,{children:n,value:v}))}function j6(t){let{children:e,location:n}=t;return _6(hv(e),n)}new Promise(()=>{});function hv(t,e){e===void 0&&(e=[]);let n=[];return y.Children.forEach(t,(r,s)=>{if(!y.isValidElement(r))return;let i=[...e,s];if(r.type===y.Fragment){n.push.apply(n,hv(r.props.children,i));return}r.type!==vo&&wt(!1),!r.props.index||!r.props.children||wt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=hv(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const V6="6";try{window.__reactRouterVersion=V6}catch{}const L6="startTransition",XT=Vl[L6];function F6(t){let{basename:e,children:n,future:r,window:s}=t,i=y.useRef();i.current==null&&(i.current=WU({window:s,v5Compat:!0}));let o=i.current,[a,l]=y.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=y.useCallback(f=>{c&&XT?XT(()=>l(f)):l(f)},[l,c]);return y.useLayoutEffect(()=>o.listen(d),[o,d]),y.useEffect(()=>D6(r),[r]),y.createElement(M6,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var ZT;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(ZT||(ZT={}));var JT;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(JT||(JT={}));const U6=()=>{};var eb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},$6=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},AR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,d=i>>2,f=(i&3)<<4|a>>4;let p=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(p=64)),r.push(n[d],n[f],n[p],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(SR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):$6(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||f==null)throw new B6;const p=i<<2|a>>4;if(r.push(p),c!==64){const m=a<<4&240|c>>2;if(r.push(m),f!==64){const b=c<<6&192|f;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class B6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const z6=function(t){const e=SR(t);return AR.encodeByteArray(e,!0)},Mf=function(t){return z6(t).replace(/\./g,"")},CR=function(t){try{return AR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H6=()=>W6().__FIREBASE_DEFAULTS__,q6=()=>{if(typeof process>"u"||typeof eb>"u")return;const t=eb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},G6=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&CR(t[1]);return e&&JSON.parse(e)},Xp=()=>{try{return U6()||H6()||q6()||G6()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},IR=t=>{var e,n;return(n=(e=Xp())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},R0=t=>{const e=IR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},PR=()=>{var t;return(t=Xp())==null?void 0:t.config},RR=t=>{var e;return(e=Xp())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function to(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Zp(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Mf(JSON.stringify(n)),Mf(JSON.stringify(o)),""].join(".")}const Yc={};function Q6(){const t={prod:[],emulator:[]};for(const e of Object.keys(Yc))Yc[e]?t.emulator.push(e):t.prod.push(e);return t}function Y6(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let tb=!1;function Jp(t,e){if(typeof window>"u"||typeof document>"u"||!to(window.location.host)||Yc[t]===e||Yc[t]||tb)return;Yc[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",i=Q6().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,m){p.setAttribute("width","24"),p.setAttribute("id",m),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{tb=!0,o()},p}function d(p,m){p.setAttribute("id",m),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=Y6(r),m=n("text"),b=document.getElementById(m)||document.createElement("span"),v=n("learnmore"),x=document.getElementById(v)||document.createElement("a"),w=n("preprendIcon"),E=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const T=p.element;a(T),d(x,v);const I=c();l(E,w),T.append(E,b,x,I),document.body.appendChild(T)}i?(b.innerText="Preview backend disconnected.",E.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(E.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function X6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function Z6(){var e;const t=(e=Xp())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function J6(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function e9(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function t9(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function n9(){const t=en();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function r9(){return!Z6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function s9(){try{return typeof indexedDB=="object"}catch{return!1}}function i9(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o9="FirebaseError";class ns extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=o9,Object.setPrototypeOf(this,ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pd.prototype.create)}}class pd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?a9(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new ns(s,a,r)}}function a9(t,e){return t.replace(l9,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const l9=/\{\$([^}]+)}/g;function c9(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Qo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(nb(i)&&nb(o)){if(!Qo(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function nb(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Rc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function kc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function u9(t,e){const n=new d9(t,e);return n.subscribe.bind(n)}class d9{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");h9(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=xg),s.error===void 0&&(s.error=xg),s.complete===void 0&&(s.complete=xg);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function h9(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function xg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(t){return t&&t._delegate?t._delegate:t}class Rs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f9{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new K6;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(m9(e))try{this.getOrInitializeService({instanceIdentifier:wo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=wo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=wo){return this.instances.has(e)}getOptions(e=wo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:p9(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=wo){return this.component?this.component.multipleInstances?e:wo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function p9(t){return t===wo?void 0:t}function m9(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g9{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new f9(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(be||(be={}));const y9={debug:be.DEBUG,verbose:be.VERBOSE,info:be.INFO,warn:be.WARN,error:be.ERROR,silent:be.SILENT},v9=be.INFO,w9={[be.DEBUG]:"log",[be.VERBOSE]:"log",[be.INFO]:"info",[be.WARN]:"warn",[be.ERROR]:"error"},_9=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=w9[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class k0{constructor(e){this.name=e,this._logLevel=v9,this._logHandler=_9,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?y9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,be.DEBUG,...e),this._logHandler(this,be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,be.VERBOSE,...e),this._logHandler(this,be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,be.INFO,...e),this._logHandler(this,be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,be.WARN,...e),this._logHandler(this,be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,be.ERROR,...e),this._logHandler(this,be.ERROR,...e)}}const x9=(t,e)=>e.some(n=>t instanceof n);let rb,sb;function E9(){return rb||(rb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function T9(){return sb||(sb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const NR=new WeakMap,fv=new WeakMap,DR=new WeakMap,Eg=new WeakMap,N0=new WeakMap;function b9(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Pi(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&NR.set(n,t)}).catch(()=>{}),N0.set(e,t),e}function S9(t){if(fv.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});fv.set(t,e)}let pv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return fv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||DR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function A9(t){pv=t(pv)}function C9(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Tg(this),e,...n);return DR.set(r,e.sort?e.sort():[e]),Pi(r)}:T9().includes(t)?function(...e){return t.apply(Tg(this),e),Pi(NR.get(this))}:function(...e){return Pi(t.apply(Tg(this),e))}}function I9(t){return typeof t=="function"?C9(t):(t instanceof IDBTransaction&&S9(t),x9(t,E9())?new Proxy(t,pv):t)}function Pi(t){if(t instanceof IDBRequest)return b9(t);if(Eg.has(t))return Eg.get(t);const e=I9(t);return e!==t&&(Eg.set(t,e),N0.set(e,t)),e}const Tg=t=>N0.get(t);function P9(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Pi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Pi(o.result),l.oldVersion,l.newVersion,Pi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const R9=["get","getKey","getAll","getAllKeys","count"],k9=["put","add","delete","clear"],bg=new Map;function ib(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(bg.get(e))return bg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=k9.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||R9.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return bg.set(e,i),i}A9(t=>({...t,get:(e,n,r)=>ib(e,n)||t.get(e,n,r),has:(e,n)=>!!ib(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N9{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(D9(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function D9(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const mv="@firebase/app",ob="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=new k0("@firebase/app"),O9="@firebase/app-compat",M9="@firebase/analytics-compat",j9="@firebase/analytics",V9="@firebase/app-check-compat",L9="@firebase/app-check",F9="@firebase/auth",U9="@firebase/auth-compat",$9="@firebase/database",B9="@firebase/data-connect",z9="@firebase/database-compat",W9="@firebase/functions",H9="@firebase/functions-compat",q9="@firebase/installations",G9="@firebase/installations-compat",K9="@firebase/messaging",Q9="@firebase/messaging-compat",Y9="@firebase/performance",X9="@firebase/performance-compat",Z9="@firebase/remote-config",J9="@firebase/remote-config-compat",e$="@firebase/storage",t$="@firebase/storage-compat",n$="@firebase/firestore",r$="@firebase/ai",s$="@firebase/firestore-compat",i$="firebase",o$="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv="[DEFAULT]",a$={[mv]:"fire-core",[O9]:"fire-core-compat",[j9]:"fire-analytics",[M9]:"fire-analytics-compat",[L9]:"fire-app-check",[V9]:"fire-app-check-compat",[F9]:"fire-auth",[U9]:"fire-auth-compat",[$9]:"fire-rtdb",[B9]:"fire-data-connect",[z9]:"fire-rtdb-compat",[W9]:"fire-fn",[H9]:"fire-fn-compat",[q9]:"fire-iid",[G9]:"fire-iid-compat",[K9]:"fire-fcm",[Q9]:"fire-fcm-compat",[Y9]:"fire-perf",[X9]:"fire-perf-compat",[Z9]:"fire-rc",[J9]:"fire-rc-compat",[e$]:"fire-gcs",[t$]:"fire-gcs-compat",[n$]:"fire-fst",[s$]:"fire-fst-compat",[r$]:"fire-vertex","fire-js":"fire-js",[i$]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jf=new Map,l$=new Map,yv=new Map;function ab(t,e){try{t.container.addComponent(e)}catch(n){ks.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Fi(t){const e=t.name;if(yv.has(e))return ks.debug(`There were multiple attempts to register component ${e}.`),!1;yv.set(e,t);for(const n of jf.values())ab(n,t);for(const n of l$.values())ab(n,t);return!0}function gd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function on(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ri=new pd("app","Firebase",c$);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u${constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Rs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ri.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa=o$;function OR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:gv,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Ri.create("bad-app-name",{appName:String(s)});if(n||(n=PR()),!n)throw Ri.create("no-options");const i=jf.get(s);if(i){if(Qo(n,i.options)&&Qo(r,i.config))return i;throw Ri.create("duplicate-app",{appName:s})}const o=new g9(s);for(const l of yv.values())o.addComponent(l);const a=new u$(n,r,o);return jf.set(s,a),a}function em(t=gv){const e=jf.get(t);if(!e&&t===gv&&PR())return OR();if(!e)throw Ri.create("no-app",{appName:t});return e}function zn(t,e,n){let r=a$[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ks.warn(o.join(" "));return}Fi(new Rs(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d$="firebase-heartbeat-database",h$=1,Nu="firebase-heartbeat-store";let Sg=null;function MR(){return Sg||(Sg=P9(d$,h$,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Nu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ri.create("idb-open",{originalErrorMessage:t.message})})),Sg}async function f$(t){try{const n=(await MR()).transaction(Nu),r=await n.objectStore(Nu).get(jR(t));return await n.done,r}catch(e){if(e instanceof ns)ks.warn(e.message);else{const n=Ri.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ks.warn(n.message)}}}async function lb(t,e){try{const r=(await MR()).transaction(Nu,"readwrite");await r.objectStore(Nu).put(e,jR(t)),await r.done}catch(n){if(n instanceof ns)ks.warn(n.message);else{const r=Ri.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ks.warn(r.message)}}}function jR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p$=1024,m$=30;class g${constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new v$(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=cb();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>m$){const o=w$(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ks.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=cb(),{heartbeatsToSend:r,unsentEntries:s}=y$(this._heartbeatsCache.heartbeats),i=Mf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return ks.warn(n),""}}}function cb(){return new Date().toISOString().substring(0,10)}function y$(t,e=p$){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),ub(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),ub(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class v${constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return s9()?i9().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await f$(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return lb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return lb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function ub(t){return Mf(JSON.stringify({version:2,heartbeats:t})).length}function w$(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _$(t){Fi(new Rs("platform-logger",e=>new N9(e),"PRIVATE")),Fi(new Rs("heartbeat",e=>new g$(e),"PRIVATE")),zn(mv,ob,t),zn(mv,ob,"esm2020"),zn("fire-js","")}_$("");function VR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const x$=VR,LR=new pd("auth","Firebase",VR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vf=new k0("@firebase/auth");function E$(t,...e){Vf.logLevel<=be.WARN&&Vf.warn(`Auth (${oa}): ${t}`,...e)}function Bh(t,...e){Vf.logLevel<=be.ERROR&&Vf.error(`Auth (${oa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(t,...e){throw O0(t,...e)}function mr(t,...e){return O0(t,...e)}function D0(t,e,n){const r={...x$(),[e]:n};return new pd("auth","Firebase",r).create(e,{appName:t.name})}function xs(t){return D0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function T$(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Gn(t,"argument-error"),D0(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function O0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return LR.create(t,...e)}function ae(t,e,...n){if(!t)throw O0(e,...n)}function vs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Bh(e),new Error(e)}function Ns(t,e){t||vs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vv(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function b$(){return db()==="http:"||db()==="https:"}function db(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(b$()||e9()||"connection"in navigator)?navigator.onLine:!0}function A$(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ns(n>e,"Short delay should be less than long delay!"),this.isMobile=X6()||t9()}get(){return S$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(t,e){Ns(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I$=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],P$=new yd(3e4,6e4);function no(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ls(t,e,n,r,s={}){return UR(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=md({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...i};return J6()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&to(t.emulatorConfig.host)&&(c.credentials="include"),FR.fetch()(await $R(t,t.config.apiHost,n,a),c)})}async function UR(t,e,n){t._canInitEmulator=!1;const r={...C$,...e};try{const s=new k$(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw fh(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw fh(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw fh(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw fh(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw D0(t,d,c);Gn(t,d)}}catch(s){if(s instanceof ns)throw s;Gn(t,"network-request-failed",{message:String(s)})}}async function vd(t,e,n,r,s={}){const i=await Ls(t,e,n,r,s);return"mfaPendingCredential"in i&&Gn(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function $R(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?M0(t.config,s):`${t.config.apiScheme}://${s}`;return I$.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function R$(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class k${clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(mr(this.auth,"network-request-failed")),P$.get())})}}function fh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=mr(t,e,r);return s.customData._tokenResponse=n,s}function hb(t){return t!==void 0&&t.enterprise!==void 0}class N${constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return R$(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function D$(t,e){return Ls(t,"GET","/v2/recaptchaConfig",no(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O$(t,e){return Ls(t,"POST","/v1/accounts:delete",e)}async function Lf(t,e){return Ls(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function M$(t,e=!1){const n=zt(t),r=await n.getIdToken(e),s=j0(r);ae(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Xc(Ag(s.auth_time)),issuedAtTime:Xc(Ag(s.iat)),expirationTime:Xc(Ag(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Ag(t){return Number(t)*1e3}function j0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Bh("JWT malformed, contained fewer than 3 sections"),null;try{const s=CR(n);return s?JSON.parse(s):(Bh("Failed to decode base64 JWT payload"),null)}catch(s){return Bh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function fb(t){const e=j0(t);return ae(e,"internal-error"),ae(typeof e.exp<"u","internal-error"),ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function El(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ns&&j$(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function j$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V${constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xc(this.lastLoginAt),this.creationTime=Xc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ff(t){var f;const e=t.auth,n=await t.getIdToken(),r=await El(t,Lf(e,{idToken:n}));ae(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(f=s.providerUserInfo)!=null&&f.length?BR(s.providerUserInfo):[],o=F$(t.providerData,i),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),c=a?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new wv(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function L$(t){const e=zt(t);await Ff(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function F$(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function BR(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U$(t,e){const n=await UR(t,{},async()=>{const r=md({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await $R(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&to(t.emulatorConfig.host)&&(l.credentials="include"),FR.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function $$(t,e){return Ls(t,"POST","/v2/accounts:revokeToken",no(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ae(e.idToken,"internal-error"),ae(typeof e.idToken<"u","internal-error"),ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):fb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ae(e.length!==0,"internal-error");const n=fb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await U$(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Ya;return r&&(ae(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ae(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ae(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ya,this.toJSON())}_performRefresh(){return vs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(t,e){ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ur{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new V$(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new wv(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await El(this,this.stsTokenManager.getToken(this.auth,e));return ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return M$(this,e)}reload(){return L$(this)}_assign(e){this!==e&&(ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ur({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ff(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(on(this.auth.app))return Promise.reject(xs(this.auth));const e=await this.getIdToken();return await El(this,O$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:f,emailVerified:p,isAnonymous:m,providerData:b,stsTokenManager:v}=n;ae(f&&v,e,"internal-error");const x=Ya.fromJSON(this.name,v);ae(typeof f=="string",e,"internal-error"),Zs(r,e.name),Zs(s,e.name),ae(typeof p=="boolean",e,"internal-error"),ae(typeof m=="boolean",e,"internal-error"),Zs(i,e.name),Zs(o,e.name),Zs(a,e.name),Zs(l,e.name),Zs(c,e.name),Zs(d,e.name);const w=new ur({uid:f,auth:e,email:s,emailVerified:p,displayName:r,isAnonymous:m,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:x,createdAt:c,lastLoginAt:d});return b&&Array.isArray(b)&&(w.providerData=b.map(E=>({...E}))),l&&(w._redirectEventId=l),w}static async _fromIdTokenResponse(e,n,r=!1){const s=new Ya;s.updateFromServerResponse(n);const i=new ur({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Ff(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ae(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?BR(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Ya;a.updateFromIdToken(r);const l=new ur({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new wv(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb=new Map;function ws(t){Ns(t instanceof Function,"Expected a class definition");let e=pb.get(t);return e?(Ns(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,pb.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}zR.type="NONE";const mb=zR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zh(t,e,n){return`firebase:${t}:${e}:${n}`}class Xa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=zh(this.userKey,s.apiKey,i),this.fullPersistenceKey=zh("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Lf(this.auth,{idToken:e}).catch(()=>{});return n?ur._fromGetAccountInfoResponse(this.auth,n,e):null}return ur._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Xa(ws(mb),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||ws(mb);const o=zh(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){let f;if(typeof d=="string"){const p=await Lf(e,{idToken:d}).catch(()=>{});if(!p)break;f=await ur._fromGetAccountInfoResponse(e,p,d)}else f=ur._fromJSON(e,d);c!==i&&(a=f),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Xa(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new Xa(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(GR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(WR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(QR(e))return"Blackberry";if(YR(e))return"Webos";if(HR(e))return"Safari";if((e.includes("chrome/")||qR(e))&&!e.includes("edge/"))return"Chrome";if(KR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function WR(t=en()){return/firefox\//i.test(t)}function HR(t=en()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qR(t=en()){return/crios\//i.test(t)}function GR(t=en()){return/iemobile/i.test(t)}function KR(t=en()){return/android/i.test(t)}function QR(t=en()){return/blackberry/i.test(t)}function YR(t=en()){return/webos/i.test(t)}function V0(t=en()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function B$(t=en()){var e;return V0(t)&&!!((e=window.navigator)!=null&&e.standalone)}function z$(){return n9()&&document.documentMode===10}function XR(t=en()){return V0(t)||KR(t)||YR(t)||QR(t)||/windows phone/i.test(t)||GR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(t,e=[]){let n;switch(t){case"Browser":n=gb(en());break;case"Worker":n=`${gb(en())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${oa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W${constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H$(t,e={}){return Ls(t,"GET","/v2/passwordPolicy",no(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q$=6;class G${constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??q$,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K${constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yb(this),this.idTokenSubscription=new yb(this),this.beforeStateQueue=new W$(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=LR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ws(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Xa.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Lf(this,{idToken:e}),r=await ur._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(on(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ff(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=A$()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(on(this.app))return Promise.reject(xs(this));const n=e?zt(e):null;return n&&ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return on(this.app)?Promise.reject(xs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return on(this.app)?Promise.reject(xs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ws(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await H$(this),n=new G$(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new pd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await $$(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ws(e)||this._popupRedirectResolver;ae(n,this,"argument-error"),this.redirectPersistenceManager=await Xa.create(this,[ws(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ae(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ZR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(on(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&E$(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function ro(t){return zt(t)}class yb{constructor(e){this.auth=e,this.observer=null,this.addObserver=u9(n=>this.observer=n)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Q$(t){tm=t}function JR(t){return tm.loadJS(t)}function Y$(){return tm.recaptchaEnterpriseScript}function X$(){return tm.gapiScript}function Z$(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class J${constructor(){this.enterprise=new eB}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class eB{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const tB="recaptcha-enterprise",ek="NO_RECAPTCHA";class nB{constructor(e){this.type=tB,this.auth=ro(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{D$(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new N$(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;hb(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(ek)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new J$().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&hb(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Y$();l.length!==0&&(l+=a),JR(l).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function vb(t,e,n,r=!1,s=!1){const i=new nB(t);let o;if(s)o=ek;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function _v(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await vb(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await vb(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rB(t,e){const n=gd(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Qo(i,e??{}))return s;Gn(s,"already-initialized")}return n.initialize({options:e})}function sB(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ws);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function iB(t,e,n){const r=ro(t);ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=tk(e),{host:o,port:a}=oB(e),l=a===null?"":`:${a}`,c={url:`${i}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ae(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ae(Qo(c,r.config.emulator)&&Qo(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,to(o)?(Zp(`${i}//${o}${l}`),Jp("Auth",!0)):aB()}function tk(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function oB(t){const e=tk(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:wb(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:wb(o)}}}function wb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function aB(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return vs("not implemented")}_getIdTokenResponse(e){return vs("not implemented")}_linkToIdToken(e,n){return vs("not implemented")}_getReauthenticationResolver(e){return vs("not implemented")}}async function lB(t,e){return Ls(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cB(t,e){return vd(t,"POST","/v1/accounts:signInWithPassword",no(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uB(t,e){return vd(t,"POST","/v1/accounts:signInWithEmailLink",no(t,e))}async function dB(t,e){return vd(t,"POST","/v1/accounts:signInWithEmailLink",no(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du extends L0{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Du(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Du(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _v(e,n,"signInWithPassword",cB);case"emailLink":return uB(e,{email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _v(e,r,"signUpPassword",lB);case"emailLink":return dB(e,{idToken:n,email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Za(t,e){return vd(t,"POST","/v1/accounts:signInWithIdp",no(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hB="http://localhost";class Yo extends L0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Yo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Gn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Yo(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Za(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Za(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Za(e,n)}buildRequest(){const e={requestUri:hB,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=md(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fB(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function pB(t){const e=Rc(kc(t)).link,n=e?Rc(kc(e)).deep_link_id:null,r=Rc(kc(t)).deep_link_id;return(r?Rc(kc(r)).link:null)||r||n||e||t}class F0{constructor(e){const n=Rc(kc(e)),r=n.apiKey??null,s=n.oobCode??null,i=fB(n.mode??null);ae(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=pB(e);try{return new F0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(){this.providerId=Wl.PROVIDER_ID}static credential(e,n){return Du._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=F0.parseLink(n);return ae(r,"argument-error"),Du._fromEmailAndCode(e,r.code,r.tenantId)}}Wl.PROVIDER_ID="password";Wl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Wl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd extends U0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai extends wd{constructor(){super("facebook.com")}static credential(e){return Yo._fromParams({providerId:ai.PROVIDER_ID,signInMethod:ai.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ai.credentialFromTaggedObject(e)}static credentialFromError(e){return ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ai.credential(e.oauthAccessToken)}catch{return null}}}ai.FACEBOOK_SIGN_IN_METHOD="facebook.com";ai.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends wd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Yo._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ps.credential(n,r)}catch{return null}}}ps.GOOGLE_SIGN_IN_METHOD="google.com";ps.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li extends wd{constructor(){super("github.com")}static credential(e){return Yo._fromParams({providerId:li.PROVIDER_ID,signInMethod:li.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return li.credentialFromTaggedObject(e)}static credentialFromError(e){return li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return li.credential(e.oauthAccessToken)}catch{return null}}}li.GITHUB_SIGN_IN_METHOD="github.com";li.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends wd{constructor(){super("twitter.com")}static credential(e,n){return Yo._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ci.credential(n,r)}catch{return null}}}ci.TWITTER_SIGN_IN_METHOD="twitter.com";ci.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mB(t,e){return vd(t,"POST","/v1/accounts:signUp",no(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await ur._fromIdTokenResponse(e,r,s),o=_b(r);return new Xo({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=_b(r);return new Xo({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function _b(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf extends ns{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Uf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Uf(e,n,r,s)}}function nk(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Uf._fromErrorAndOperation(t,i,e,r):i})}async function gB(t,e,n=!1){const r=await El(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Xo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yB(t,e,n=!1){const{auth:r}=t;if(on(r.app))return Promise.reject(xs(r));const s="reauthenticate";try{const i=await El(t,nk(r,s,e,t),n);ae(i.idToken,r,"internal-error");const o=j0(i.idToken);ae(o,r,"internal-error");const{sub:a}=o;return ae(t.uid===a,r,"user-mismatch"),Xo._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Gn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rk(t,e,n=!1){if(on(t.app))return Promise.reject(xs(t));const r="signIn",s=await nk(t,r,e),i=await Xo._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function vB(t,e){return rk(ro(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sk(t){const e=ro(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function wB(t,e,n){if(on(t.app))return Promise.reject(xs(t));const r=ro(t),o=await _v(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",mB).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&sk(t),l}),a=await Xo._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function _B(t,e,n){return on(t.app)?Promise.reject(xs(t)):vB(zt(t),Wl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&sk(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xB(t,e){return Ls(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EB(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=zt(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await El(r,xB(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function TB(t,e,n,r){return zt(t).onIdTokenChanged(e,n,r)}function bB(t,e,n){return zt(t).beforeAuthStateChanged(e,n)}function SB(t,e,n,r){return zt(t).onAuthStateChanged(e,n,r)}function AB(t){return zt(t).signOut()}const $f="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem($f,"1"),this.storage.removeItem($f),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CB=1e3,IB=10;class ok extends ik{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=XR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);z$()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,IB):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},CB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ok.type="LOCAL";const PB=ok;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak extends ik{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ak.type="SESSION";const lk=ak;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RB(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new nm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await RB(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kB{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=$0("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(){return window}function NB(t){Br().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ck(){return typeof Br().WorkerGlobalScope<"u"&&typeof Br().importScripts=="function"}async function DB(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function OB(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function MB(){return ck()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk="firebaseLocalStorageDb",jB=1,Bf="firebaseLocalStorage",dk="fbase_key";class _d{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function rm(t,e){return t.transaction([Bf],e?"readwrite":"readonly").objectStore(Bf)}function VB(){const t=indexedDB.deleteDatabase(uk);return new _d(t).toPromise()}function xv(){const t=indexedDB.open(uk,jB);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Bf,{keyPath:dk})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Bf)?e(r):(r.close(),await VB(),e(await xv()))})})}async function xb(t,e,n){const r=rm(t,!0).put({[dk]:e,value:n});return new _d(r).toPromise()}async function LB(t,e){const n=rm(t,!1).get(e),r=await new _d(n).toPromise();return r===void 0?null:r.value}function Eb(t,e){const n=rm(t,!0).delete(e);return new _d(n).toPromise()}const FB=800,UB=3;class hk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>UB)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ck()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nm._getInstance(MB()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await DB(),!this.activeServiceWorker)return;this.sender=new kB(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||OB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await xv();return await xb(e,$f,"1"),await Eb(e,$f),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>xb(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>LB(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Eb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=rm(s,!1).getAll();return new _d(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),FB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}hk.type="LOCAL";const $B=hk;new yd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fk(t,e){return e?ws(e):(ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0 extends L0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Za(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Za(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Za(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function BB(t){return rk(t.auth,new B0(t),t.bypassAuthState)}function zB(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),yB(n,new B0(t),t.bypassAuthState)}async function WB(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),gB(n,new B0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return BB;case"linkViaPopup":case"linkViaRedirect":return WB;case"reauthViaPopup":case"reauthViaRedirect":return zB;default:Gn(this.auth,"internal-error")}}resolve(e){Ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HB=new yd(2e3,1e4);async function qB(t,e,n){if(on(t.app))return Promise.reject(mr(t,"operation-not-supported-in-this-environment"));const r=ro(t);T$(t,e,U0);const s=fk(r,n);return new Ao(r,"signInViaPopup",e,s).executeNotNull()}class Ao extends pk{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Ao.currentPopupAction&&Ao.currentPopupAction.cancel(),Ao.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ae(e,this.auth,"internal-error"),e}async onExecution(){Ns(this.filter.length===1,"Popup operations only handle one event");const e=$0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(mr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(mr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ao.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(mr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,HB.get())};e()}}Ao.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GB="pendingRedirect",Wh=new Map;class KB extends pk{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Wh.get(this.auth._key());if(!e){try{const r=await QB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Wh.set(this.auth._key(),e)}return this.bypassAuthState||Wh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function QB(t,e){const n=ZB(e),r=XB(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function YB(t,e){Wh.set(t._key(),e)}function XB(t){return ws(t._redirectPersistence)}function ZB(t){return zh(GB,t.config.apiKey,t.name)}async function JB(t,e,n=!1){if(on(t.app))return Promise.reject(xs(t));const r=ro(t),s=fk(r,e),o=await new KB(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ez=10*60*1e3;class tz{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!nz(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!mk(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(mr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ez&&this.cachedEventUids.clear(),this.cachedEventUids.has(Tb(e))}saveEventToCache(e){this.cachedEventUids.add(Tb(e)),this.lastProcessedEventTime=Date.now()}}function Tb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function mk({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function nz(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rz(t,e={}){return Ls(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,iz=/^https?/;async function oz(t){if(t.config.emulator)return;const{authorizedDomains:e}=await rz(t);for(const n of e)try{if(az(n))return}catch{}Gn(t,"unauthorized-domain")}function az(t){const e=vv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!iz.test(n))return!1;if(sz.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lz=new yd(3e4,6e4);function bb(){const t=Br().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function cz(t){return new Promise((e,n)=>{var s,i,o;function r(){bb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{bb(),n(mr(t,"network-request-failed"))},timeout:lz.get()})}if((i=(s=Br().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=Br().gapi)!=null&&o.load)r();else{const a=Z$("iframefcb");return Br()[a]=()=>{gapi.load?r():n(mr(t,"network-request-failed"))},JR(`${X$()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Hh=null,e})}let Hh=null;function uz(t){return Hh=Hh||cz(t),Hh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dz=new yd(5e3,15e3),hz="__/auth/iframe",fz="emulator/auth/iframe",pz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gz(t){const e=t.config;ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?M0(e,fz):`https://${t.config.authDomain}/${hz}`,r={apiKey:e.apiKey,appName:t.name,v:oa},s=mz.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${md(r).slice(1)}`}async function yz(t){const e=await uz(t),n=Br().gapi;return ae(n,t,"internal-error"),e.open({where:document.body,url:gz(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pz,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=mr(t,"network-request-failed"),a=Br().setTimeout(()=>{i(o)},dz.get());function l(){Br().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wz=500,_z=600,xz="_blank",Ez="http://localhost";class Sb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Tz(t,e,n,r=wz,s=_z){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...vz,width:r.toString(),height:s.toString(),top:i,left:o},c=en().toLowerCase();n&&(a=qR(c)?xz:n),WR(c)&&(e=e||Ez,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[m,b])=>`${p}${m}=${b},`,"");if(B$(c)&&a!=="_self")return bz(e||"",a),new Sb(null);const f=window.open(e||"",a,d);ae(f,t,"popup-blocked");try{f.focus()}catch{}return new Sb(f)}function bz(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sz="__/auth/handler",Az="emulator/auth/handler",Cz=encodeURIComponent("fac");async function Ab(t,e,n,r,s,i){ae(t.config.authDomain,t,"auth-domain-config-required"),ae(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:oa,eventId:s};if(e instanceof U0){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",c9(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof wd){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${Cz}=${encodeURIComponent(l)}`:"";return`${Iz(t)}?${md(a).slice(1)}${c}`}function Iz({config:t}){return t.emulator?M0(t,Az):`https://${t.authDomain}/${Sz}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg="webStorageSupport";class Pz{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lk,this._completeRedirectFn=JB,this._overrideRedirectResult=YB}async _openPopup(e,n,r,s){var o;Ns((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await Ab(e,n,r,vv(),s);return Tz(e,i,$0())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await Ab(e,n,r,vv(),s);return NB(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Ns(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await yz(e),r=new tz(e);return n.register("authEvent",s=>(ae(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Cg,{type:Cg},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[Cg];i!==void 0&&n(!!i),Gn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=oz(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return XR()||HR()||V0()}}const Rz=Pz;var Cb="@firebase/auth",Ib="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kz{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nz(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Dz(t){Fi(new Rs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ae(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ZR(t)},c=new K$(r,s,i,l);return sB(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Fi(new Rs("auth-internal",e=>{const n=ro(e.getProvider("auth").getImmediate());return(r=>new kz(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),zn(Cb,Ib,Nz(t)),zn(Cb,Ib,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oz=5*60,Mz=RR("authIdTokenMaxAge")||Oz;let Pb=null;const jz=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Mz)return;const s=n==null?void 0:n.token;Pb!==s&&(Pb=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Vz(t=em()){const e=gd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=rB(t,{popupRedirectResolver:Rz,persistence:[$B,PB,lk]}),r=RR("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=jz(i.toString());bB(n,o,()=>o(n.currentUser)),TB(n,a=>o(a))}}const s=IR("auth");return s&&iB(n,`http://${s}`),n}function Lz(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}Q$({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=mr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",Lz().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Dz("Browser");var Rb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ki,gk;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,S){function P(){}P.prototype=S.prototype,A.F=S.prototype,A.prototype=new P,A.prototype.constructor=A,A.D=function(N,R,O){for(var D=Array(arguments.length-2),W=2;W<arguments.length;W++)D[W-2]=arguments[W];return S.prototype[R].apply(N,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(A,S,P){P||(P=0);const N=Array(16);if(typeof S=="string")for(var R=0;R<16;++R)N[R]=S.charCodeAt(P++)|S.charCodeAt(P++)<<8|S.charCodeAt(P++)<<16|S.charCodeAt(P++)<<24;else for(R=0;R<16;++R)N[R]=S[P++]|S[P++]<<8|S[P++]<<16|S[P++]<<24;S=A.g[0],P=A.g[1],R=A.g[2];let O=A.g[3],D;D=S+(O^P&(R^O))+N[0]+3614090360&4294967295,S=P+(D<<7&4294967295|D>>>25),D=O+(R^S&(P^R))+N[1]+3905402710&4294967295,O=S+(D<<12&4294967295|D>>>20),D=R+(P^O&(S^P))+N[2]+606105819&4294967295,R=O+(D<<17&4294967295|D>>>15),D=P+(S^R&(O^S))+N[3]+3250441966&4294967295,P=R+(D<<22&4294967295|D>>>10),D=S+(O^P&(R^O))+N[4]+4118548399&4294967295,S=P+(D<<7&4294967295|D>>>25),D=O+(R^S&(P^R))+N[5]+1200080426&4294967295,O=S+(D<<12&4294967295|D>>>20),D=R+(P^O&(S^P))+N[6]+2821735955&4294967295,R=O+(D<<17&4294967295|D>>>15),D=P+(S^R&(O^S))+N[7]+4249261313&4294967295,P=R+(D<<22&4294967295|D>>>10),D=S+(O^P&(R^O))+N[8]+1770035416&4294967295,S=P+(D<<7&4294967295|D>>>25),D=O+(R^S&(P^R))+N[9]+2336552879&4294967295,O=S+(D<<12&4294967295|D>>>20),D=R+(P^O&(S^P))+N[10]+4294925233&4294967295,R=O+(D<<17&4294967295|D>>>15),D=P+(S^R&(O^S))+N[11]+2304563134&4294967295,P=R+(D<<22&4294967295|D>>>10),D=S+(O^P&(R^O))+N[12]+1804603682&4294967295,S=P+(D<<7&4294967295|D>>>25),D=O+(R^S&(P^R))+N[13]+4254626195&4294967295,O=S+(D<<12&4294967295|D>>>20),D=R+(P^O&(S^P))+N[14]+2792965006&4294967295,R=O+(D<<17&4294967295|D>>>15),D=P+(S^R&(O^S))+N[15]+1236535329&4294967295,P=R+(D<<22&4294967295|D>>>10),D=S+(R^O&(P^R))+N[1]+4129170786&4294967295,S=P+(D<<5&4294967295|D>>>27),D=O+(P^R&(S^P))+N[6]+3225465664&4294967295,O=S+(D<<9&4294967295|D>>>23),D=R+(S^P&(O^S))+N[11]+643717713&4294967295,R=O+(D<<14&4294967295|D>>>18),D=P+(O^S&(R^O))+N[0]+3921069994&4294967295,P=R+(D<<20&4294967295|D>>>12),D=S+(R^O&(P^R))+N[5]+3593408605&4294967295,S=P+(D<<5&4294967295|D>>>27),D=O+(P^R&(S^P))+N[10]+38016083&4294967295,O=S+(D<<9&4294967295|D>>>23),D=R+(S^P&(O^S))+N[15]+3634488961&4294967295,R=O+(D<<14&4294967295|D>>>18),D=P+(O^S&(R^O))+N[4]+3889429448&4294967295,P=R+(D<<20&4294967295|D>>>12),D=S+(R^O&(P^R))+N[9]+568446438&4294967295,S=P+(D<<5&4294967295|D>>>27),D=O+(P^R&(S^P))+N[14]+3275163606&4294967295,O=S+(D<<9&4294967295|D>>>23),D=R+(S^P&(O^S))+N[3]+4107603335&4294967295,R=O+(D<<14&4294967295|D>>>18),D=P+(O^S&(R^O))+N[8]+1163531501&4294967295,P=R+(D<<20&4294967295|D>>>12),D=S+(R^O&(P^R))+N[13]+2850285829&4294967295,S=P+(D<<5&4294967295|D>>>27),D=O+(P^R&(S^P))+N[2]+4243563512&4294967295,O=S+(D<<9&4294967295|D>>>23),D=R+(S^P&(O^S))+N[7]+1735328473&4294967295,R=O+(D<<14&4294967295|D>>>18),D=P+(O^S&(R^O))+N[12]+2368359562&4294967295,P=R+(D<<20&4294967295|D>>>12),D=S+(P^R^O)+N[5]+4294588738&4294967295,S=P+(D<<4&4294967295|D>>>28),D=O+(S^P^R)+N[8]+2272392833&4294967295,O=S+(D<<11&4294967295|D>>>21),D=R+(O^S^P)+N[11]+1839030562&4294967295,R=O+(D<<16&4294967295|D>>>16),D=P+(R^O^S)+N[14]+4259657740&4294967295,P=R+(D<<23&4294967295|D>>>9),D=S+(P^R^O)+N[1]+2763975236&4294967295,S=P+(D<<4&4294967295|D>>>28),D=O+(S^P^R)+N[4]+1272893353&4294967295,O=S+(D<<11&4294967295|D>>>21),D=R+(O^S^P)+N[7]+4139469664&4294967295,R=O+(D<<16&4294967295|D>>>16),D=P+(R^O^S)+N[10]+3200236656&4294967295,P=R+(D<<23&4294967295|D>>>9),D=S+(P^R^O)+N[13]+681279174&4294967295,S=P+(D<<4&4294967295|D>>>28),D=O+(S^P^R)+N[0]+3936430074&4294967295,O=S+(D<<11&4294967295|D>>>21),D=R+(O^S^P)+N[3]+3572445317&4294967295,R=O+(D<<16&4294967295|D>>>16),D=P+(R^O^S)+N[6]+76029189&4294967295,P=R+(D<<23&4294967295|D>>>9),D=S+(P^R^O)+N[9]+3654602809&4294967295,S=P+(D<<4&4294967295|D>>>28),D=O+(S^P^R)+N[12]+3873151461&4294967295,O=S+(D<<11&4294967295|D>>>21),D=R+(O^S^P)+N[15]+530742520&4294967295,R=O+(D<<16&4294967295|D>>>16),D=P+(R^O^S)+N[2]+3299628645&4294967295,P=R+(D<<23&4294967295|D>>>9),D=S+(R^(P|~O))+N[0]+4096336452&4294967295,S=P+(D<<6&4294967295|D>>>26),D=O+(P^(S|~R))+N[7]+1126891415&4294967295,O=S+(D<<10&4294967295|D>>>22),D=R+(S^(O|~P))+N[14]+2878612391&4294967295,R=O+(D<<15&4294967295|D>>>17),D=P+(O^(R|~S))+N[5]+4237533241&4294967295,P=R+(D<<21&4294967295|D>>>11),D=S+(R^(P|~O))+N[12]+1700485571&4294967295,S=P+(D<<6&4294967295|D>>>26),D=O+(P^(S|~R))+N[3]+2399980690&4294967295,O=S+(D<<10&4294967295|D>>>22),D=R+(S^(O|~P))+N[10]+4293915773&4294967295,R=O+(D<<15&4294967295|D>>>17),D=P+(O^(R|~S))+N[1]+2240044497&4294967295,P=R+(D<<21&4294967295|D>>>11),D=S+(R^(P|~O))+N[8]+1873313359&4294967295,S=P+(D<<6&4294967295|D>>>26),D=O+(P^(S|~R))+N[15]+4264355552&4294967295,O=S+(D<<10&4294967295|D>>>22),D=R+(S^(O|~P))+N[6]+2734768916&4294967295,R=O+(D<<15&4294967295|D>>>17),D=P+(O^(R|~S))+N[13]+1309151649&4294967295,P=R+(D<<21&4294967295|D>>>11),D=S+(R^(P|~O))+N[4]+4149444226&4294967295,S=P+(D<<6&4294967295|D>>>26),D=O+(P^(S|~R))+N[11]+3174756917&4294967295,O=S+(D<<10&4294967295|D>>>22),D=R+(S^(O|~P))+N[2]+718787259&4294967295,R=O+(D<<15&4294967295|D>>>17),D=P+(O^(R|~S))+N[9]+3951481745&4294967295,A.g[0]=A.g[0]+S&4294967295,A.g[1]=A.g[1]+(R+(D<<21&4294967295|D>>>11))&4294967295,A.g[2]=A.g[2]+R&4294967295,A.g[3]=A.g[3]+O&4294967295}r.prototype.v=function(A,S){S===void 0&&(S=A.length);const P=S-this.blockSize,N=this.C;let R=this.h,O=0;for(;O<S;){if(R==0)for(;O<=P;)s(this,A,O),O+=this.blockSize;if(typeof A=="string"){for(;O<S;)if(N[R++]=A.charCodeAt(O++),R==this.blockSize){s(this,N),R=0;break}}else for(;O<S;)if(N[R++]=A[O++],R==this.blockSize){s(this,N),R=0;break}}this.h=R,this.o+=S},r.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var S=1;S<A.length-8;++S)A[S]=0;S=this.o*8;for(var P=A.length-8;P<A.length;++P)A[P]=S&255,S/=256;for(this.v(A),A=Array(16),S=0,P=0;P<4;++P)for(let N=0;N<32;N+=8)A[S++]=this.g[P]>>>N&255;return A};function i(A,S){var P=a;return Object.prototype.hasOwnProperty.call(P,A)?P[A]:P[A]=S(A)}function o(A,S){this.h=S;const P=[];let N=!0;for(let R=A.length-1;R>=0;R--){const O=A[R]|0;N&&O==S||(P[R]=O,N=!1)}this.g=P}var a={};function l(A){return-128<=A&&A<128?i(A,function(S){return new o([S|0],S<0?-1:0)}):new o([A|0],A<0?-1:0)}function c(A){if(isNaN(A)||!isFinite(A))return f;if(A<0)return x(c(-A));const S=[];let P=1;for(let N=0;A>=P;N++)S[N]=A/P|0,P*=4294967296;return new o(S,0)}function d(A,S){if(A.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(A.charAt(0)=="-")return x(d(A.substring(1),S));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=c(Math.pow(S,8));let N=f;for(let O=0;O<A.length;O+=8){var R=Math.min(8,A.length-O);const D=parseInt(A.substring(O,O+R),S);R<8?(R=c(Math.pow(S,R)),N=N.j(R).add(c(D))):(N=N.j(P),N=N.add(c(D)))}return N}var f=l(0),p=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(v(this))return-x(this).m();let A=0,S=1;for(let P=0;P<this.g.length;P++){const N=this.i(P);A+=(N>=0?N:4294967296+N)*S,S*=4294967296}return A},t.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(b(this))return"0";if(v(this))return"-"+x(this).toString(A);const S=c(Math.pow(A,6));var P=this;let N="";for(;;){const R=I(P,S).g;P=w(P,R.j(S));let O=((P.g.length>0?P.g[0]:P.h)>>>0).toString(A);if(P=R,b(P))return O+N;for(;O.length<6;)O="0"+O;N=O+N}},t.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function b(A){if(A.h!=0)return!1;for(let S=0;S<A.g.length;S++)if(A.g[S]!=0)return!1;return!0}function v(A){return A.h==-1}t.l=function(A){return A=w(this,A),v(A)?-1:b(A)?0:1};function x(A){const S=A.g.length,P=[];for(let N=0;N<S;N++)P[N]=~A.g[N];return new o(P,~A.h).add(p)}t.abs=function(){return v(this)?x(this):this},t.add=function(A){const S=Math.max(this.g.length,A.g.length),P=[];let N=0;for(let R=0;R<=S;R++){let O=N+(this.i(R)&65535)+(A.i(R)&65535),D=(O>>>16)+(this.i(R)>>>16)+(A.i(R)>>>16);N=D>>>16,O&=65535,D&=65535,P[R]=D<<16|O}return new o(P,P[P.length-1]&-2147483648?-1:0)};function w(A,S){return A.add(x(S))}t.j=function(A){if(b(this)||b(A))return f;if(v(this))return v(A)?x(this).j(x(A)):x(x(this).j(A));if(v(A))return x(this.j(x(A)));if(this.l(m)<0&&A.l(m)<0)return c(this.m()*A.m());const S=this.g.length+A.g.length,P=[];for(var N=0;N<2*S;N++)P[N]=0;for(N=0;N<this.g.length;N++)for(let R=0;R<A.g.length;R++){const O=this.i(N)>>>16,D=this.i(N)&65535,W=A.i(R)>>>16,ie=A.i(R)&65535;P[2*N+2*R]+=D*ie,E(P,2*N+2*R),P[2*N+2*R+1]+=O*ie,E(P,2*N+2*R+1),P[2*N+2*R+1]+=D*W,E(P,2*N+2*R+1),P[2*N+2*R+2]+=O*W,E(P,2*N+2*R+2)}for(A=0;A<S;A++)P[A]=P[2*A+1]<<16|P[2*A];for(A=S;A<2*S;A++)P[A]=0;return new o(P,0)};function E(A,S){for(;(A[S]&65535)!=A[S];)A[S+1]+=A[S]>>>16,A[S]&=65535,S++}function T(A,S){this.g=A,this.h=S}function I(A,S){if(b(S))throw Error("division by zero");if(b(A))return new T(f,f);if(v(A))return S=I(x(A),S),new T(x(S.g),x(S.h));if(v(S))return S=I(A,x(S)),new T(x(S.g),S.h);if(A.g.length>30){if(v(A)||v(S))throw Error("slowDivide_ only works with positive integers.");for(var P=p,N=S;N.l(A)<=0;)P=C(P),N=C(N);var R=M(P,1),O=M(N,1);for(N=M(N,2),P=M(P,2);!b(N);){var D=O.add(N);D.l(A)<=0&&(R=R.add(P),O=D),N=M(N,1),P=M(P,1)}return S=w(A,R.j(S)),new T(R,S)}for(R=f;A.l(S)>=0;){for(P=Math.max(1,Math.floor(A.m()/S.m())),N=Math.ceil(Math.log(P)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),O=c(P),D=O.j(S);v(D)||D.l(A)>0;)P-=N,O=c(P),D=O.j(S);b(O)&&(O=p),R=R.add(O),A=w(A,D)}return new T(R,A)}t.B=function(A){return I(this,A).h},t.and=function(A){const S=Math.max(this.g.length,A.g.length),P=[];for(let N=0;N<S;N++)P[N]=this.i(N)&A.i(N);return new o(P,this.h&A.h)},t.or=function(A){const S=Math.max(this.g.length,A.g.length),P=[];for(let N=0;N<S;N++)P[N]=this.i(N)|A.i(N);return new o(P,this.h|A.h)},t.xor=function(A){const S=Math.max(this.g.length,A.g.length),P=[];for(let N=0;N<S;N++)P[N]=this.i(N)^A.i(N);return new o(P,this.h^A.h)};function C(A){const S=A.g.length+1,P=[];for(let N=0;N<S;N++)P[N]=A.i(N)<<1|A.i(N-1)>>>31;return new o(P,A.h)}function M(A,S){const P=S>>5;S%=32;const N=A.g.length-P,R=[];for(let O=0;O<N;O++)R[O]=S>0?A.i(O+P)>>>S|A.i(O+P+1)<<32-S:A.i(O+P);return new o(R,A.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,gk=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,ki=o}).apply(typeof Rb<"u"?Rb:typeof self<"u"?self:typeof window<"u"?window:{});var ph=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yk,Nc,vk,qh,Ev,wk,_k,xk;(function(){var t,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ph=="object"&&ph];for(var g=0;g<u.length;++g){var _=u[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function s(u,g){if(g)e:{var _=r;u=u.split(".");for(var k=0;k<u.length-1;k++){var j=u[k];if(!(j in _))break e;_=_[j]}u=u[u.length-1],k=_[u],g=g(k),g!=k&&g!=null&&e(_,u,{configurable:!0,writable:!0,value:g})}}s("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(u){return u||function(g){var _=[],k;for(k in g)Object.prototype.hasOwnProperty.call(g,k)&&_.push([k,g[k]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function a(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function l(u,g,_){return u.call.apply(u.bind,arguments)}function c(u,g,_){return c=l,c.apply(null,arguments)}function d(u,g){var _=Array.prototype.slice.call(arguments,1);return function(){var k=_.slice();return k.push.apply(k,arguments),u.apply(this,k)}}function f(u,g){function _(){}_.prototype=g.prototype,u.Z=g.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(k,j,V){for(var G=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)G[_e-2]=arguments[_e];return g.prototype[j].apply(k,G)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function m(u){const g=u.length;if(g>0){const _=Array(g);for(let k=0;k<g;k++)_[k]=u[k];return _}return[]}function b(u,g){for(let k=1;k<arguments.length;k++){const j=arguments[k];var _=typeof j;if(_=_!="object"?_:j?Array.isArray(j)?"array":_:"null",_=="array"||_=="object"&&typeof j.length=="number"){_=u.length||0;const V=j.length||0;u.length=_+V;for(let G=0;G<V;G++)u[_+G]=j[G]}else u.push(j)}}class v{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function x(u){o.setTimeout(()=>{throw u},0)}function w(){var u=A;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class E{constructor(){this.h=this.g=null}add(g,_){const k=T.get();k.set(g,_),this.h?this.h.next=k:this.g=k,this.h=k}}var T=new v(()=>new I,u=>u.reset());class I{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let C,M=!1,A=new E,S=()=>{const u=Promise.resolve(void 0);C=()=>{u.then(P)}};function P(){for(var u;u=w();){try{u.h.call(u.g)}catch(_){x(_)}var g=T;g.j(u),g.h<100&&(g.h++,u.next=g.g,g.g=u)}M=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};o.addEventListener("test",_,g),o.removeEventListener("test",_,g)}catch{}return u}();function D(u){return/^[\s\xa0]*$/.test(u)}function W(u,g){R.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,g)}f(W,R),W.prototype.init=function(u,g){const _=this.type=u.type,k=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget,g||(_=="mouseover"?g=u.fromElement:_=="mouseout"&&(g=u.toElement)),this.relatedTarget=g,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&W.Z.h.call(this)},W.prototype.h=function(){W.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ie="closure_listenable_"+(Math.random()*1e6|0),ne=0;function Z(u,g,_,k,j){this.listener=u,this.proxy=null,this.src=g,this.type=_,this.capture=!!k,this.ha=j,this.key=++ne,this.da=this.fa=!1}function L(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function U(u,g,_){for(const k in u)g.call(_,u[k],k,u)}function K(u,g){for(const _ in u)g.call(void 0,u[_],_,u)}function ue(u){const g={};for(const _ in u)g[_]=u[_];return g}const re="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function we(u,g){let _,k;for(let j=1;j<arguments.length;j++){k=arguments[j];for(_ in k)u[_]=k[_];for(let V=0;V<re.length;V++)_=re[V],Object.prototype.hasOwnProperty.call(k,_)&&(u[_]=k[_])}}function ye(u){this.src=u,this.g={},this.h=0}ye.prototype.add=function(u,g,_,k,j){const V=u.toString();u=this.g[V],u||(u=this.g[V]=[],this.h++);const G=dt(u,g,k,j);return G>-1?(g=u[G],_||(g.fa=!1)):(g=new Z(g,this.src,V,!!k,j),g.fa=_,u.push(g)),g};function Ke(u,g){const _=g.type;if(_ in u.g){var k=u.g[_],j=Array.prototype.indexOf.call(k,g,void 0),V;(V=j>=0)&&Array.prototype.splice.call(k,j,1),V&&(L(g),u.g[_].length==0&&(delete u.g[_],u.h--))}}function dt(u,g,_,k){for(let j=0;j<u.length;++j){const V=u[j];if(!V.da&&V.listener==g&&V.capture==!!_&&V.ha==k)return j}return-1}var Ie="closure_lm_"+(Math.random()*1e6|0),xr={};function Yn(u,g,_,k,j){if(Array.isArray(g)){for(let V=0;V<g.length;V++)Yn(u,g[V],_,k,j);return null}return _=$s(_),u&&u[ie]?u.J(g,_,a(k)?!!k.capture:!1,j):ss(u,g,_,!1,k,j)}function ss(u,g,_,k,j,V){if(!g)throw Error("Invalid event type");const G=a(j)?!!j.capture:!!j;let _e=Us(u);if(_e||(u[Ie]=_e=new ye(u)),_=_e.add(g,_,k,G,V),_.proxy)return _;if(k=Er(),_.proxy=k,k.src=u,k.listener=_,u.addEventListener)O||(j=G),j===void 0&&(j=!1),u.addEventListener(g.toString(),k,j);else if(u.attachEvent)u.attachEvent(io(g.toString()),k);else if(u.addListener&&u.removeListener)u.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Er(){function u(_){return g.call(u.src,u.listener,_)}const g=Jl;return u}function is(u,g,_,k,j){if(Array.isArray(g))for(var V=0;V<g.length;V++)is(u,g[V],_,k,j);else k=a(k)?!!k.capture:!!k,_=$s(_),u&&u[ie]?(u=u.i,V=String(g).toString(),V in u.g&&(g=u.g[V],_=dt(g,_,k,j),_>-1&&(L(g[_]),Array.prototype.splice.call(g,_,1),g.length==0&&(delete u.g[V],u.h--)))):u&&(u=Us(u))&&(g=u.g[g.toString()],u=-1,g&&(u=dt(g,_,k,j)),(_=u>-1?g[u]:null)&&Nn(_))}function Nn(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[ie])Ke(g.i,u);else{var _=u.type,k=u.proxy;g.removeEventListener?g.removeEventListener(_,k,u.capture):g.detachEvent?g.detachEvent(io(_),k):g.addListener&&g.removeListener&&g.removeListener(k),(_=Us(g))?(Ke(_,u),_.h==0&&(_.src=null,g[Ie]=null)):L(u)}}}function io(u){return u in xr?xr[u]:xr[u]="on"+u}function Jl(u,g){if(u.da)u=!0;else{g=new W(g,this);const _=u.listener,k=u.ha||u.src;u.fa&&Nn(u),u=_.call(k,g)}return u}function Us(u){return u=u[Ie],u instanceof ye?u:null}var oo="__closure_events_fn_"+(Math.random()*1e9>>>0);function $s(u){return typeof u=="function"?u:(u[oo]||(u[oo]=function(g){return u.handleEvent(g)}),u[oo])}function Xe(){N.call(this),this.i=new ye(this),this.M=this,this.G=null}f(Xe,N),Xe.prototype[ie]=!0,Xe.prototype.removeEventListener=function(u,g,_,k){is(this,u,g,_,k)};function Ct(u,g){var _,k=u.G;if(k)for(_=[];k;k=k.G)_.push(k);if(u=u.M,k=g.type||g,typeof g=="string")g=new R(g,u);else if(g instanceof R)g.target=g.target||u;else{var j=g;g=new R(k,u),we(g,j)}j=!0;let V,G;if(_)for(G=_.length-1;G>=0;G--)V=g.g=_[G],j=Tr(V,k,!0,g)&&j;if(V=g.g=u,j=Tr(V,k,!0,g)&&j,j=Tr(V,k,!1,g)&&j,_)for(G=0;G<_.length;G++)V=g.g=_[G],j=Tr(V,k,!1,g)&&j}Xe.prototype.N=function(){if(Xe.Z.N.call(this),this.i){var u=this.i;for(const g in u.g){const _=u.g[g];for(let k=0;k<_.length;k++)L(_[k]);delete u.g[g],u.h--}}this.G=null},Xe.prototype.J=function(u,g,_,k){return this.i.add(String(u),g,!1,_,k)},Xe.prototype.K=function(u,g,_,k){return this.i.add(String(u),g,!0,_,k)};function Tr(u,g,_,k){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();let j=!0;for(let V=0;V<g.length;++V){const G=g[V];if(G&&!G.da&&G.capture==_){const _e=G.listener,xt=G.ha||G.src;G.fa&&Ke(u.i,G),j=_e.call(xt,k)!==!1&&j}}return j&&!k.defaultPrevented}function kd(u,g){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=c(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:o.setTimeout(u,g||0)}function br(u){u.g=kd(()=>{u.g=null,u.i&&(u.i=!1,br(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class Sm extends N{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:br(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ao(u){N.call(this),this.h=u,this.g={}}f(ao,N);var tn=[];function os(u){U(u.g,function(g,_){this.g.hasOwnProperty(_)&&Nn(g)},u),u.g={}}ao.prototype.N=function(){ao.Z.N.call(this),os(this)},ao.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ec=o.JSON.stringify,Am=o.JSON.parse,da=class{stringify(u){return o.JSON.stringify(u,void 0)}parse(u){return o.JSON.parse(u,void 0)}};function Nd(){}function tc(){}var as={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Sr(){R.call(this,"d")}f(Sr,R);function ha(){R.call(this,"c")}f(ha,R);var dn={},Dd=null;function fa(){return Dd=Dd||new Xe}dn.Ia="serverreachability";function nc(u){R.call(this,dn.Ia,u)}f(nc,R);function Bs(u){const g=fa();Ct(g,new nc(g))}dn.STAT_EVENT="statevent";function Od(u,g){R.call(this,dn.STAT_EVENT,u),this.stat=g}f(Od,R);function _t(u){const g=fa();Ct(g,new Od(g,u))}dn.Ja="timingevent";function Xn(u,g){R.call(this,dn.Ja,u),this.size=g}f(Xn,R);function lo(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){u()},g)}function oe(){this.g=!0}oe.prototype.ua=function(){this.g=!1};function De(u,g,_,k,j,V){u.info(function(){if(u.g)if(V){var G="",_e=V.split("&");for(let Le=0;Le<_e.length;Le++){var xt=_e[Le].split("=");if(xt.length>1){const Pt=xt[0];xt=xt[1];const Ir=Pt.split("_");G=Ir.length>=2&&Ir[1]=="type"?G+(Pt+"="+xt+"&"):G+(Pt+"=redacted&")}}}else G=null;else G=V;return"XMLHTTP REQ ("+k+") [attempt "+j+"]: "+g+`
`+_+`
`+G})}function $e(u,g,_,k,j,V,G){u.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+j+"]: "+g+`
`+_+`
`+V+" "+G})}function It(u,g,_,k){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+Ar(u,_)+(k?" "+k:"")})}function xn(u,g){u.info(function(){return"TIMEOUT: "+g})}oe.prototype.info=function(){};function Ar(u,g){if(!u.g)return g;if(!g)return null;try{const V=JSON.parse(g);if(V){for(u=0;u<V.length;u++)if(Array.isArray(V[u])){var _=V[u];if(!(_.length<2)){var k=_[1];if(Array.isArray(k)&&!(k.length<1)){var j=k[0];if(j!="noop"&&j!="stop"&&j!="close")for(let G=1;G<k.length;G++)k[G]=""}}}}return ec(V)}catch{return g}}var Dn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},hn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Zn;function Cm(){}f(Cm,Nd),Cm.prototype.g=function(){return new XMLHttpRequest},Zn=new Cm;function rc(u){return encodeURIComponent(String(u))}function MM(u){var g=1;u=u.split(":");const _=[];for(;g>0&&u.length;)_.push(u.shift()),g--;return u.length&&_.push(u.join(":")),_}function zs(u,g,_,k){this.j=u,this.i=g,this.l=_,this.S=k||1,this.V=new ao(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new yx}function yx(){this.i=null,this.g="",this.h=!1}var vx={},Im={};function Pm(u,g,_){u.M=1,u.A=jd(Cr(g)),u.u=_,u.R=!0,wx(u,null)}function wx(u,g){u.F=Date.now(),Md(u),u.B=Cr(u.A);var _=u.B,k=u.S;Array.isArray(k)||(k=[String(k)]),Nx(_.i,"t",k),u.C=0,_=u.j.L,u.h=new yx,u.g=Yx(u.j,_?g:null,!u.u),u.P>0&&(u.O=new Sm(c(u.Y,u,u.g),u.P)),g=u.V,_=u.g,k=u.ba;var j="readystatechange";Array.isArray(j)||(j&&(tn[0]=j.toString()),j=tn);for(let V=0;V<j.length;V++){const G=Yn(_,j[V],k||g.handleEvent,!1,g.h||g);if(!G)break;g.g[G.key]=G}g=u.J?ue(u.J):{},u.u?(u.v||(u.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,g)):(u.v="GET",u.g.ea(u.B,u.v,null,g)),Bs(),De(u.i,u.v,u.B,u.l,u.S,u.u)}zs.prototype.ba=function(u){u=u.target;const g=this.O;g&&qs(u)==3?g.j():this.Y(u)},zs.prototype.Y=function(u){try{if(u==this.g)e:{const _e=qs(this.g),xt=this.g.ya(),Le=this.g.ca();if(!(_e<3)&&(_e!=3||this.g&&(this.h.h||this.g.la()||Fx(this.g)))){this.K||_e!=4||xt==7||(xt==8||Le<=0?Bs(3):Bs(2)),Rm(this);var g=this.g.ca();this.X=g;var _=jM(this);if(this.o=g==200,$e(this.i,this.v,this.B,this.l,this.S,_e,g),this.o){if(this.U&&!this.L){t:{if(this.g){var k,j=this.g;if((k=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(k)){var V=k;break t}}V=null}if(u=V)It(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,km(this,u);else{this.o=!1,this.m=3,_t(12),co(this),sc(this);break e}}if(this.R){u=!0;let Pt;for(;!this.K&&this.C<_.length;)if(Pt=VM(this,_),Pt==Im){_e==4&&(this.m=4,_t(14),u=!1),It(this.i,this.l,null,"[Incomplete Response]");break}else if(Pt==vx){this.m=4,_t(15),It(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else It(this.i,this.l,Pt,null),km(this,Pt);if(_x(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_e!=4||_.length!=0||this.h.h||(this.m=1,_t(16),u=!1),this.o=this.o&&u,!u)It(this.i,this.l,_,"[Invalid Chunked Response]"),co(this),sc(this);else if(_.length>0&&!this.W){this.W=!0;var G=this.j;G.g==this&&G.aa&&!G.P&&(G.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Fm(G),G.P=!0,_t(11))}}else It(this.i,this.l,_,null),km(this,_);_e==4&&co(this),this.o&&!this.K&&(_e==4?qx(this.j,this):(this.o=!1,Md(this)))}else XM(this.g),g==400&&_.indexOf("Unknown SID")>0?(this.m=3,_t(12)):(this.m=0,_t(13)),co(this),sc(this)}}}catch{}finally{}};function jM(u){if(!_x(u))return u.g.la();const g=Fx(u.g);if(g==="")return"";let _="";const k=g.length,j=qs(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return co(u),sc(u),"";u.h.i=new o.TextDecoder}for(let V=0;V<k;V++)u.h.h=!0,_+=u.h.i.decode(g[V],{stream:!(j&&V==k-1)});return g.length=0,u.h.g+=_,u.C=0,u.h.g}function _x(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function VM(u,g){var _=u.C,k=g.indexOf(`
`,_);return k==-1?Im:(_=Number(g.substring(_,k)),isNaN(_)?vx:(k+=1,k+_>g.length?Im:(g=g.slice(k,k+_),u.C=k+_,g)))}zs.prototype.cancel=function(){this.K=!0,co(this)};function Md(u){u.T=Date.now()+u.H,xx(u,u.H)}function xx(u,g){if(u.D!=null)throw Error("WatchDog timer not null");u.D=lo(c(u.aa,u),g)}function Rm(u){u.D&&(o.clearTimeout(u.D),u.D=null)}zs.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(xn(this.i,this.B),this.M!=2&&(Bs(),_t(17)),co(this),this.m=2,sc(this)):xx(this,this.T-u)};function sc(u){u.j.I==0||u.K||qx(u.j,u)}function co(u){Rm(u);var g=u.O;g&&typeof g.dispose=="function"&&g.dispose(),u.O=null,os(u.V),u.g&&(g=u.g,u.g=null,g.abort(),g.dispose())}function km(u,g){try{var _=u.j;if(_.I!=0&&(_.g==u||Nm(_.h,u))){if(!u.L&&Nm(_.h,u)&&_.I==3){try{var k=_.Ba.g.parse(g)}catch{k=null}if(Array.isArray(k)&&k.length==3){var j=k;if(j[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)$d(_),Fd(_);else break e;Lm(_),_t(18)}}else _.xa=j[1],0<_.xa-_.K&&j[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=lo(c(_.Va,_),6e3));bx(_.h)<=1&&_.ta&&(_.ta=void 0)}else ho(_,11)}else if((u.L||_.g==u)&&$d(_),!D(g))for(j=_.Ba.g.parse(g),g=0;g<j.length;g++){let Le=j[g];const Pt=Le[0];if(!(Pt<=_.K))if(_.K=Pt,Le=Le[1],_.I==2)if(Le[0]=="c"){_.M=Le[1],_.ba=Le[2];const Ir=Le[3];Ir!=null&&(_.ka=Ir,_.j.info("VER="+_.ka));const fo=Le[4];fo!=null&&(_.za=fo,_.j.info("SVER="+_.za));const Gs=Le[5];Gs!=null&&typeof Gs=="number"&&Gs>0&&(k=1.5*Gs,_.O=k,_.j.info("backChannelRequestTimeoutMs_="+k)),k=_;const Ks=u.g;if(Ks){const zd=Ks.g?Ks.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zd){var V=k.h;V.g||zd.indexOf("spdy")==-1&&zd.indexOf("quic")==-1&&zd.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Dm(V,V.h),V.h=null))}if(k.G){const Um=Ks.g?Ks.g.getResponseHeader("X-HTTP-Session-Id"):null;Um&&(k.wa=Um,ze(k.J,k.G,Um))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),k=_;var G=u;if(k.na=Qx(k,k.L?k.ba:null,k.W),G.L){Sx(k.h,G);var _e=G,xt=k.O;xt&&(_e.H=xt),_e.D&&(Rm(_e),Md(_e)),k.g=G}else Wx(k);_.i.length>0&&Ud(_)}else Le[0]!="stop"&&Le[0]!="close"||ho(_,7);else _.I==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?ho(_,7):Vm(_):Le[0]!="noop"&&_.l&&_.l.qa(Le),_.A=0)}}Bs(4)}catch{}}var LM=class{constructor(u,g){this.g=u,this.map=g}};function Ex(u){this.l=u||10,o.PerformanceNavigationTiming?(u=o.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Tx(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function bx(u){return u.h?1:u.g?u.g.size:0}function Nm(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function Dm(u,g){u.g?u.g.add(g):u.h=g}function Sx(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}Ex.prototype.cancel=function(){if(this.i=Ax(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ax(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const _ of u.g.values())g=g.concat(_.G);return g}return m(u.i)}var Cx=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function FM(u,g){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const k=u[_].indexOf("=");let j,V=null;k>=0?(j=u[_].substring(0,k),V=u[_].substring(k+1)):j=u[_],g(j,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Ws(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;u instanceof Ws?(this.l=u.l,ic(this,u.j),this.o=u.o,this.g=u.g,oc(this,u.u),this.h=u.h,Om(this,Dx(u.i)),this.m=u.m):u&&(g=String(u).match(Cx))?(this.l=!1,ic(this,g[1]||"",!0),this.o=ac(g[2]||""),this.g=ac(g[3]||"",!0),oc(this,g[4]),this.h=ac(g[5]||"",!0),Om(this,g[6]||"",!0),this.m=ac(g[7]||"")):(this.l=!1,this.i=new cc(null,this.l))}Ws.prototype.toString=function(){const u=[];var g=this.j;g&&u.push(lc(g,Ix,!0),":");var _=this.g;return(_||g=="file")&&(u.push("//"),(g=this.o)&&u.push(lc(g,Ix,!0),"@"),u.push(rc(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(lc(_,_.charAt(0)=="/"?BM:$M,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",lc(_,WM)),u.join("")},Ws.prototype.resolve=function(u){const g=Cr(this);let _=!!u.j;_?ic(g,u.j):_=!!u.o,_?g.o=u.o:_=!!u.g,_?g.g=u.g:_=u.u!=null;var k=u.h;if(_)oc(g,u.u);else if(_=!!u.h){if(k.charAt(0)!="/")if(this.g&&!this.h)k="/"+k;else{var j=g.h.lastIndexOf("/");j!=-1&&(k=g.h.slice(0,j+1)+k)}if(j=k,j==".."||j==".")k="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){k=j.lastIndexOf("/",0)==0,j=j.split("/");const V=[];for(let G=0;G<j.length;){const _e=j[G++];_e=="."?k&&G==j.length&&V.push(""):_e==".."?((V.length>1||V.length==1&&V[0]!="")&&V.pop(),k&&G==j.length&&V.push("")):(V.push(_e),k=!0)}k=V.join("/")}else k=j}return _?g.h=k:_=u.i.toString()!=="",_?Om(g,Dx(u.i)):_=!!u.m,_&&(g.m=u.m),g};function Cr(u){return new Ws(u)}function ic(u,g,_){u.j=_?ac(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function oc(u,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);u.u=g}else u.u=null}function Om(u,g,_){g instanceof cc?(u.i=g,HM(u.i,u.l)):(_||(g=lc(g,zM)),u.i=new cc(g,u.l))}function ze(u,g,_){u.i.set(g,_)}function jd(u){return ze(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ac(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function lc(u,g,_){return typeof u=="string"?(u=encodeURI(u).replace(g,UM),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function UM(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ix=/[#\/\?@]/g,$M=/[#\?:]/g,BM=/[#\?]/g,zM=/[#\?@]/g,WM=/#/g;function cc(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function uo(u){u.g||(u.g=new Map,u.h=0,u.i&&FM(u.i,function(g,_){u.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}t=cc.prototype,t.add=function(u,g){uo(this),this.i=null,u=pa(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(g),this.h+=1,this};function Px(u,g){uo(u),g=pa(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function Rx(u,g){return uo(u),g=pa(u,g),u.g.has(g)}t.forEach=function(u,g){uo(this),this.g.forEach(function(_,k){_.forEach(function(j){u.call(g,j,k,this)},this)},this)};function kx(u,g){uo(u);let _=[];if(typeof g=="string")Rx(u,g)&&(_=_.concat(u.g.get(pa(u,g))));else for(u=Array.from(u.g.values()),g=0;g<u.length;g++)_=_.concat(u[g]);return _}t.set=function(u,g){return uo(this),this.i=null,u=pa(this,u),Rx(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},t.get=function(u,g){return u?(u=kx(this,u),u.length>0?String(u[0]):g):g};function Nx(u,g,_){Px(u,g),_.length>0&&(u.i=null,u.g.set(pa(u,g),m(_)),u.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(let k=0;k<g.length;k++){var _=g[k];const j=rc(_);_=kx(this,_);for(let V=0;V<_.length;V++){let G=j;_[V]!==""&&(G+="="+rc(_[V])),u.push(G)}}return this.i=u.join("&")};function Dx(u){const g=new cc;return g.i=u.i,u.g&&(g.g=new Map(u.g),g.h=u.h),g}function pa(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function HM(u,g){g&&!u.j&&(uo(u),u.i=null,u.g.forEach(function(_,k){const j=k.toLowerCase();k!=j&&(Px(this,k),Nx(this,j,_))},u)),u.j=g}function qM(u,g){const _=new oe;if(o.Image){const k=new Image;k.onload=d(Hs,_,"TestLoadImage: loaded",!0,g,k),k.onerror=d(Hs,_,"TestLoadImage: error",!1,g,k),k.onabort=d(Hs,_,"TestLoadImage: abort",!1,g,k),k.ontimeout=d(Hs,_,"TestLoadImage: timeout",!1,g,k),o.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=u}else g(!1)}function GM(u,g){const _=new oe,k=new AbortController,j=setTimeout(()=>{k.abort(),Hs(_,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:k.signal}).then(V=>{clearTimeout(j),V.ok?Hs(_,"TestPingServer: ok",!0,g):Hs(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(j),Hs(_,"TestPingServer: error",!1,g)})}function Hs(u,g,_,k,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),k(_)}catch{}}function KM(){this.g=new da}function Mm(u){this.i=u.Sb||null,this.h=u.ab||!1}f(Mm,Nd),Mm.prototype.g=function(){return new Vd(this.i,this.h)};function Vd(u,g){Xe.call(this),this.H=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(Vd,Xe),t=Vd.prototype,t.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=g,this.readyState=1,dc(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(g.body=u),(this.H||o).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,uc(this)),this.readyState=0},t.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,dc(this)),this.g&&(this.readyState=3,dc(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ox(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ox(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}t.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?uc(this):dc(this),this.readyState==3&&Ox(this)}},t.Oa=function(u){this.g&&(this.response=this.responseText=u,uc(this))},t.Na=function(u){this.g&&(this.response=u,uc(this))},t.ga=function(){this.g&&uc(this)};function uc(u){u.readyState=4,u.l=null,u.j=null,u.B=null,dc(u)}t.setRequestHeader=function(u,g){this.A.append(u,g)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=g.next();return u.join(`\r
`)};function dc(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Vd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Mx(u){let g="";return U(u,function(_,k){g+=k,g+=":",g+=_,g+=`\r
`}),g}function jm(u,g,_){e:{for(k in _){var k=!1;break e}k=!0}k||(_=Mx(_),typeof u=="string"?_!=null&&rc(_):ze(u,g,_))}function st(u){Xe.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(st,Xe);var QM=/^https?$/i,YM=["POST","PUT"];t=st.prototype,t.Fa=function(u){this.H=u},t.ea=function(u,g,_,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Zn.g(),this.g.onreadystatechange=p(c(this.Ca,this));try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(V){jx(this,V);return}if(u=_||"",_=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var j in k)_.set(j,k[j]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const V of k.keys())_.set(V,k.get(V));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(_.keys()).find(V=>V.toLowerCase()=="content-type"),j=o.FormData&&u instanceof o.FormData,!(Array.prototype.indexOf.call(YM,g,void 0)>=0)||k||j||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,G]of _)this.g.setRequestHeader(V,G);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(V){jx(this,V)}};function jx(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.o=5,Vx(u),Ld(u)}function Vx(u){u.A||(u.A=!0,Ct(u,"complete"),Ct(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ct(this,"complete"),Ct(this,"abort"),Ld(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ld(this,!0)),st.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Lx(this):this.Xa())},t.Xa=function(){Lx(this)};function Lx(u){if(u.h&&typeof i<"u"){if(u.v&&qs(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ct(u,"readystatechange"),qs(u)==4){u.h=!1;try{const V=u.ca();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var k;if(k=V===0){let G=String(u.D).match(Cx)[1]||null;!G&&o.self&&o.self.location&&(G=o.self.location.protocol.slice(0,-1)),k=!QM.test(G?G.toLowerCase():"")}_=k}if(_)Ct(u,"complete"),Ct(u,"success");else{u.o=6;try{var j=qs(u)>2?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.ca()+"]",Vx(u)}}finally{Ld(u)}}}}function Ld(u,g){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,g||Ct(u,"ready");try{_.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function qs(u){return u.g?u.g.readyState:0}t.ca=function(){try{return qs(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),Am(g)}};function Fx(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function XM(u){const g={};u=(u.g&&qs(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<u.length;k++){if(D(u[k]))continue;var _=MM(u[k]);const j=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const V=g[j]||[];g[j]=V,V.push(_)}K(g,function(k){return k.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function hc(u,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||g}function Ux(u){this.za=0,this.i=[],this.j=new oe,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=hc("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=hc("baseRetryDelayMs",5e3,u),this.Za=hc("retryDelaySeedMs",1e4,u),this.Ta=hc("forwardChannelMaxRetries",2,u),this.va=hc("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Ex(u&&u.concurrentRequestLimit),this.Ba=new KM,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ux.prototype,t.ka=8,t.I=1,t.connect=function(u,g,_,k){_t(0),this.W=u,this.H=g||{},_&&k!==void 0&&(this.H.OSID=_,this.H.OAID=k),this.F=this.X,this.J=Qx(this,null,this.W),Ud(this)};function Vm(u){if($x(u),u.I==3){var g=u.V++,_=Cr(u.J);if(ze(_,"SID",u.M),ze(_,"RID",g),ze(_,"TYPE","terminate"),fc(u,_),g=new zs(u,u.j,g),g.M=2,g.A=jd(Cr(_)),_=!1,o.navigator&&o.navigator.sendBeacon)try{_=o.navigator.sendBeacon(g.A.toString(),"")}catch{}!_&&o.Image&&(new Image().src=g.A,_=!0),_||(g.g=Yx(g.j,null),g.g.ea(g.A)),g.F=Date.now(),Md(g)}Kx(u)}function Fd(u){u.g&&(Fm(u),u.g.cancel(),u.g=null)}function $x(u){Fd(u),u.v&&(o.clearTimeout(u.v),u.v=null),$d(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&o.clearTimeout(u.m),u.m=null)}function Ud(u){if(!Tx(u.h)&&!u.m){u.m=!0;var g=u.Ea;C||S(),M||(C(),M=!0),A.add(g,u),u.D=0}}function ZM(u,g){return bx(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=g.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=lo(c(u.Ea,u,g),Gx(u,u.D)),u.D++,!0)}t.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const j=new zs(this,this.j,u);let V=this.o;if(this.U&&(V?(V=ue(V),we(V,this.U)):V=this.U),this.u!==null||this.R||(j.J=V,V=null),this.S)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var k=this.i[_];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(g+=k,g>4096){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=zx(this,j,g),_=Cr(this.J),ze(_,"RID",u),ze(_,"CVER",22),this.G&&ze(_,"X-HTTP-Session-Id",this.G),fc(this,_),V&&(this.R?g="headers="+rc(Mx(V))+"&"+g:this.u&&jm(_,this.u,V)),Dm(this.h,j),this.Ra&&ze(_,"TYPE","init"),this.S?(ze(_,"$req",g),ze(_,"SID","null"),j.U=!0,Pm(j,_,null)):Pm(j,_,g),this.I=2}}else this.I==3&&(u?Bx(this,u):this.i.length==0||Tx(this.h)||Bx(this))};function Bx(u,g){var _;g?_=g.l:_=u.V++;const k=Cr(u.J);ze(k,"SID",u.M),ze(k,"RID",_),ze(k,"AID",u.K),fc(u,k),u.u&&u.o&&jm(k,u.u,u.o),_=new zs(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),g&&(u.i=g.G.concat(u.i)),g=zx(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Dm(u.h,_),Pm(_,k,g)}function fc(u,g){u.H&&U(u.H,function(_,k){ze(g,k,_)}),u.l&&U({},function(_,k){ze(g,k,_)})}function zx(u,g,_){_=Math.min(u.i.length,_);const k=u.l?c(u.l.Ka,u.l,u):null;e:{var j=u.i;let _e=-1;for(;;){const xt=["count="+_];_e==-1?_>0?(_e=j[0].g,xt.push("ofs="+_e)):_e=0:xt.push("ofs="+_e);let Le=!0;for(let Pt=0;Pt<_;Pt++){var V=j[Pt].g;const Ir=j[Pt].map;if(V-=_e,V<0)_e=Math.max(0,j[Pt].g-100),Le=!1;else try{V="req"+V+"_"||"";try{var G=Ir instanceof Map?Ir:Object.entries(Ir);for(const[fo,Gs]of G){let Ks=Gs;a(Gs)&&(Ks=ec(Gs)),xt.push(V+fo+"="+encodeURIComponent(Ks))}}catch(fo){throw xt.push(V+"type="+encodeURIComponent("_badmap")),fo}}catch{k&&k(Ir)}}if(Le){G=xt.join("&");break e}}G=void 0}return u=u.i.splice(0,_),g.G=u,G}function Wx(u){if(!u.g&&!u.v){u.Y=1;var g=u.Da;C||S(),M||(C(),M=!0),A.add(g,u),u.A=0}}function Lm(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=lo(c(u.Da,u),Gx(u,u.A)),u.A++,!0)}t.Da=function(){if(this.v=null,Hx(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=lo(c(this.Wa,this),u)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_t(10),Fd(this),Hx(this))};function Fm(u){u.B!=null&&(o.clearTimeout(u.B),u.B=null)}function Hx(u){u.g=new zs(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var g=Cr(u.na);ze(g,"RID","rpc"),ze(g,"SID",u.M),ze(g,"AID",u.K),ze(g,"CI",u.F?"0":"1"),!u.F&&u.ia&&ze(g,"TO",u.ia),ze(g,"TYPE","xmlhttp"),fc(u,g),u.u&&u.o&&jm(g,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=jd(Cr(g)),_.u=null,_.R=!0,wx(_,u)}t.Va=function(){this.C!=null&&(this.C=null,Fd(this),Lm(this),_t(19))};function $d(u){u.C!=null&&(o.clearTimeout(u.C),u.C=null)}function qx(u,g){var _=null;if(u.g==g){$d(u),Fm(u),u.g=null;var k=2}else if(Nm(u.h,g))_=g.G,Sx(u.h,g),k=1;else return;if(u.I!=0){if(g.o)if(k==1){_=g.u?g.u.length:0,g=Date.now()-g.F;var j=u.D;k=fa(),Ct(k,new Xn(k,_)),Ud(u)}else Wx(u);else if(j=g.m,j==3||j==0&&g.X>0||!(k==1&&ZM(u,g)||k==2&&Lm(u)))switch(_&&_.length>0&&(g=u.h,g.i=g.i.concat(_)),j){case 1:ho(u,5);break;case 4:ho(u,10);break;case 3:ho(u,6);break;default:ho(u,2)}}}function Gx(u,g){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*g}function ho(u,g){if(u.j.info("Error code "+g),g==2){var _=c(u.bb,u),k=u.Ua;const j=!k;k=new Ws(k||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||ic(k,"https"),jd(k),j?qM(k.toString(),_):GM(k.toString(),_)}else _t(2);u.I=0,u.l&&u.l.pa(g),Kx(u),$x(u)}t.bb=function(u){u?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function Kx(u){if(u.I=0,u.ja=[],u.l){const g=Ax(u.h);(g.length!=0||u.i.length!=0)&&(b(u.ja,g),b(u.ja,u.i),u.h.i.length=0,m(u.i),u.i.length=0),u.l.oa()}}function Qx(u,g,_){var k=_ instanceof Ws?Cr(_):new Ws(_);if(k.g!="")g&&(k.g=g+"."+k.g),oc(k,k.u);else{var j=o.location;k=j.protocol,g=g?g+"."+j.hostname:j.hostname,j=+j.port;const V=new Ws(null);k&&ic(V,k),g&&(V.g=g),j&&oc(V,j),_&&(V.h=_),k=V}return _=u.G,g=u.wa,_&&g&&ze(k,_,g),ze(k,"VER",u.ka),fc(u,k),k}function Yx(u,g,_){if(g&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Aa&&!u.ma?new st(new Mm({ab:_})):new st(u.ma),g.Fa(u.L),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xx(){}t=Xx.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Bd(){}Bd.prototype.g=function(u,g){return new En(u,g)};function En(u,g){Xe.call(this),this.g=new Ux(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(u?u["X-WebChannel-Client-Profile"]=g.sa:u={"X-WebChannel-Client-Profile":g.sa}),this.g.U=u,(u=g&&g.Qb)&&!D(u)&&(this.g.u=u),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!D(g)&&(this.g.G=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new ma(this)}f(En,Xe),En.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){Vm(this.g)},En.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=ec(u),u=_);g.i.push(new LM(g.Ya++,u)),g.I==3&&Ud(g)},En.prototype.N=function(){this.g.l=null,delete this.j,Vm(this.g),delete this.g,En.Z.N.call(this)};function Zx(u){Sr.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const _ in g){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}f(Zx,Sr);function Jx(){ha.call(this),this.status=1}f(Jx,ha);function ma(u){this.g=u}f(ma,Xx),ma.prototype.ra=function(){Ct(this.g,"a")},ma.prototype.qa=function(u){Ct(this.g,new Zx(u))},ma.prototype.pa=function(u){Ct(this.g,new Jx)},ma.prototype.oa=function(){Ct(this.g,"b")},Bd.prototype.createWebChannel=Bd.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,xk=function(){return new Bd},_k=function(){return fa()},wk=dn,Ev={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Dn.NO_ERROR=0,Dn.TIMEOUT=8,Dn.HTTP_ERROR=6,qh=Dn,hn.COMPLETE="complete",vk=hn,tc.EventType=as,as.OPEN="a",as.CLOSE="b",as.ERROR="c",as.MESSAGE="d",Xe.prototype.listen=Xe.prototype.J,Nc=tc,st.prototype.listenOnce=st.prototype.K,st.prototype.getLastError=st.prototype.Ha,st.prototype.getLastErrorCode=st.prototype.ya,st.prototype.getStatus=st.prototype.ca,st.prototype.getResponseJson=st.prototype.La,st.prototype.getResponseText=st.prototype.la,st.prototype.send=st.prototype.ea,st.prototype.setWithCredentials=st.prototype.Fa,yk=st}).apply(typeof ph<"u"?ph:typeof self<"u"?self:typeof window<"u"?window:{});const kb="@firebase/firestore",Nb="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qt.UNAUTHENTICATED=new Qt(null),Qt.GOOGLE_CREDENTIALS=new Qt("google-credentials-uid"),Qt.FIRST_PARTY=new Qt("first-party-uid"),Qt.MOCK_USER=new Qt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo=new k0("@firebase/firestore");function _a(){return Zo.logLevel}function Y(t,...e){if(Zo.logLevel<=be.DEBUG){const n=e.map(z0);Zo.debug(`Firestore (${Hl}): ${t}`,...n)}}function Ds(t,...e){if(Zo.logLevel<=be.ERROR){const n=e.map(z0);Zo.error(`Firestore (${Hl}): ${t}`,...n)}}function Tl(t,...e){if(Zo.logLevel<=be.WARN){const n=e.map(z0);Zo.warn(`Firestore (${Hl}): ${t}`,...n)}}function z0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function le(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Ek(t,r,n)}function Ek(t,e,n){let r=`FIRESTORE (${Hl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ds(r),new Error(r)}function Me(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||Ek(e,s,r)}function ge(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends ns{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Fz{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Qt.UNAUTHENTICATED))}shutdown(){}}class Uz{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class $z{constructor(e){this.t=e,this.currentUser=Qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Me(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Ni;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ni,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ni)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Me(typeof r.accessToken=="string",31837,{l:r}),new Tk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Me(e===null||typeof e=="string",2055,{h:e}),new Qt(e)}}class Bz{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Qt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class zz{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Bz(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Db{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Wz{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,on(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Me(this.o===void 0,3512);const r=i=>{i.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,Y("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Db(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Me(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Db(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hz(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=Hz(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Se(t,e){return t<e?-1:t>e?1:0}function Tv(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return Ig(s)===Ig(i)?Se(s,i):Ig(s)?1:-1}return Se(t.length,e.length)}const qz=55296,Gz=57343;function Ig(t){const e=t.charCodeAt(0);return e>=qz&&e<=Gz}function bl(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob="__name__";class kr{constructor(e,n,r){n===void 0?n=0:n>e.length&&le(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&le(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return kr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof kr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=kr.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Se(e.length,n.length)}static compareSegments(e,n){const r=kr.isNumericId(e),s=kr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?kr.extractNumericId(e).compare(kr.extractNumericId(n)):Tv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ki.fromString(e.substring(4,e.length-2))}}class Je extends kr{construct(e,n,r){return new Je(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new te(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Je(n)}static emptyPath(){return new Je([])}}const Kz=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ut extends kr{construct(e,n,r){return new Ut(e,n,r)}static isValidIdentifier(e){return Kz.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ut.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ob}static keyField(){return new Ut([Ob])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new te(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new te(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new te(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new te(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ut(n)}static emptyPath(){return new Ut([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.path=e}static fromPath(e){return new se(Je.fromString(e))}static fromName(e){return new se(Je.fromString(e).popFirst(5))}static empty(){return new se(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new se(new Je(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qz(t,e,n){if(!n)throw new te(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Yz(t,e,n,r){if(e===!0&&r===!0)throw new te(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Mb(t){if(!se.isDocumentKey(t))throw new te(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function bk(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function H0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":le(12329,{type:typeof t})}function Ou(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new te(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=H0(t);throw new te(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(t,e){const n={typeString:t};return e&&(n.value=e),n}function xd(t,e){if(!bk(t))throw new te(B.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new te(B.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb=-62135596800,Vb=1e6;class qe{static now(){return qe.fromMillis(Date.now())}static fromDate(e){return qe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Vb);return new qe(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new te(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new te(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<jb)throw new te(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Vb}_compareTo(e){return this.seconds===e.seconds?Se(this.nanoseconds,e.nanoseconds):Se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:qe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(xd(e,qe._jsonSchema))return new qe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-jb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}qe._jsonSchemaVersion="firestore/timestamp/1.0",qe._jsonSchema={type:vt("string",qe._jsonSchemaVersion),seconds:vt("number"),nanoseconds:vt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{static fromTimestamp(e){return new fe(e)}static min(){return new fe(new qe(0,0))}static max(){return new fe(new qe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mu=-1;function Xz(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=fe.fromTimestamp(r===1e9?new qe(n+1,0):new qe(n,r));return new Ui(s,se.empty(),e)}function Zz(t){return new Ui(t.readTime,t.key,Mu)}class Ui{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ui(fe.min(),se.empty(),Mu)}static max(){return new Ui(fe.max(),se.empty(),Mu)}}function Jz(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=se.comparator(t.documentKey,e.documentKey),n!==0?n:Se(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class t8{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ql(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==e8)throw t;Y("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&le(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(s=>s?$.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new $((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new $((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function n8(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Gl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}sm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0=-1;function im(t){return t==null}function zf(t){return t===0&&1/t==-1/0}function r8(t){return typeof t=="number"&&Number.isInteger(t)&&!zf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk="";function s8(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Lb(e)),e=i8(t.get(n),e);return Lb(e)}function i8(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case Sk:n+="";break;default:n+=i}}return n}function Lb(t){return t+Sk+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function aa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Ak(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e,n){this.comparator=e,this.root=n||Lt.EMPTY}insert(e,n){return new rt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Lt.BLACK,null,null))}remove(e){return new rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mh(this.root,e,this.comparator,!1)}getReverseIterator(){return new mh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mh(this.root,e,this.comparator,!0)}}class mh{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Lt.RED,this.left=s??Lt.EMPTY,this.right=i??Lt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Lt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Lt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Lt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw le(43730,{key:this.key,value:this.value});if(this.right.isRed())throw le(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw le(27949);return e+(this.isRed()?0:1)}}Lt.EMPTY=null,Lt.RED=!0,Lt.BLACK=!1;Lt.EMPTY=new class{constructor(){this.size=0}get key(){throw le(57766)}get value(){throw le(16141)}get color(){throw le(16727)}get left(){throw le(29726)}get right(){throw le(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Lt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.comparator=e,this.data=new rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ub(this.data.getIterator())}getIteratorFrom(e){return new Ub(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof At)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new At(this.comparator);return n.data=e,n}}class Ub{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e){this.fields=e,e.sort(Ut.comparator)}static empty(){return new dr([])}unionWith(e){let n=new At(Ut.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new dr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return bl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Ck("Invalid base64 string: "+i):i}}(e);return new Wt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Wt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wt.EMPTY_BYTE_STRING=new Wt("");const o8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $i(t){if(Me(!!t,39018),typeof t=="string"){let e=0;const n=o8.exec(t);if(Me(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:lt(t.seconds),nanos:lt(t.nanos)}}function lt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Bi(t){return typeof t=="string"?Wt.fromBase64String(t):Wt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik="server_timestamp",Pk="__type__",Rk="__previous_value__",kk="__local_write_time__";function G0(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Pk])==null?void 0:r.stringValue)===Ik}function om(t){const e=t.mapValue.fields[Rk];return G0(e)?om(e):e}function ju(t){const e=$i(t.mapValue.fields[kk].timestampValue);return new qe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a8{constructor(e,n,r,s,i,o,a,l,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=d}}const Wf="(default)";class Vu{constructor(e,n){this.projectId=e,this.database=n||Wf}static empty(){return new Vu("","")}get isDefaultDatabase(){return this.database===Wf}isEqual(e){return e instanceof Vu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nk="__type__",l8="__max__",gh={mapValue:{}},Dk="__vector__",Hf="value";function zi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?G0(t)?4:u8(t)?9007199254740991:c8(t)?10:11:le(28295,{value:t})}function Xr(t,e){if(t===e)return!0;const n=zi(t);if(n!==zi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ju(t).isEqual(ju(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=$i(s.timestampValue),a=$i(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Bi(s.bytesValue).isEqual(Bi(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return lt(s.geoPointValue.latitude)===lt(i.geoPointValue.latitude)&&lt(s.geoPointValue.longitude)===lt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return lt(s.integerValue)===lt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=lt(s.doubleValue),a=lt(i.doubleValue);return o===a?zf(o)===zf(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return bl(t.arrayValue.values||[],e.arrayValue.values||[],Xr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(Fb(o)!==Fb(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Xr(o[l],a[l])))return!1;return!0}(t,e);default:return le(52216,{left:t})}}function Lu(t,e){return(t.values||[]).find(n=>Xr(n,e))!==void 0}function Sl(t,e){if(t===e)return 0;const n=zi(t),r=zi(e);if(n!==r)return Se(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Se(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=lt(i.integerValue||i.doubleValue),l=lt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return $b(t.timestampValue,e.timestampValue);case 4:return $b(ju(t),ju(e));case 5:return Tv(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Bi(i),l=Bi(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=Se(a[c],l[c]);if(d!==0)return d}return Se(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Se(lt(i.latitude),lt(o.latitude));return a!==0?a:Se(lt(i.longitude),lt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Bb(t.arrayValue,e.arrayValue);case 10:return function(i,o){var p,m,b,v;const a=i.fields||{},l=o.fields||{},c=(p=a[Hf])==null?void 0:p.arrayValue,d=(m=l[Hf])==null?void 0:m.arrayValue,f=Se(((b=c==null?void 0:c.values)==null?void 0:b.length)||0,((v=d==null?void 0:d.values)==null?void 0:v.length)||0);return f!==0?f:Bb(c,d)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===gh.mapValue&&o===gh.mapValue)return 0;if(i===gh.mapValue)return 1;if(o===gh.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const p=Tv(l[f],d[f]);if(p!==0)return p;const m=Sl(a[l[f]],c[d[f]]);if(m!==0)return m}return Se(l.length,d.length)}(t.mapValue,e.mapValue);default:throw le(23264,{he:n})}}function $b(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Se(t,e);const n=$i(t),r=$i(e),s=Se(n.seconds,r.seconds);return s!==0?s:Se(n.nanos,r.nanos)}function Bb(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Sl(n[s],r[s]);if(i)return i}return Se(n.length,r.length)}function Al(t){return bv(t)}function bv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=$i(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Bi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return se.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=bv(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${bv(n.fields[o])}`;return s+"}"}(t.mapValue):le(61005,{value:t})}function Gh(t){switch(zi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=om(t);return e?16+Gh(e):16;case 5:return 2*t.stringValue.length;case 6:return Bi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Gh(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return aa(r.fields,(i,o)=>{s+=i.length+Gh(o)}),s}(t.mapValue);default:throw le(13486,{value:t})}}function Sv(t){return!!t&&"integerValue"in t}function K0(t){return!!t&&"arrayValue"in t}function zb(t){return!!t&&"nullValue"in t}function Wb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Kh(t){return!!t&&"mapValue"in t}function c8(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Nk])==null?void 0:r.stringValue)===Dk}function Zc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return aa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Zc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Zc(t.arrayValue.values[n]);return e}return{...t}}function u8(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===l8}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.value=e}static empty(){return new Ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Kh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zc(n)}setAll(e){let n=Ut.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Zc(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Kh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Kh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){aa(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Ln(Zc(this.value))}}function Ok(t){const e=[];return aa(t.fields,(n,r)=>{const s=new Ut([n]);if(Kh(r)){const i=Ok(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new dr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Xt(e,0,fe.min(),fe.min(),fe.min(),Ln.empty(),0)}static newFoundDocument(e,n,r,s){return new Xt(e,1,n,fe.min(),r,s,0)}static newNoDocument(e,n){return new Xt(e,2,n,fe.min(),fe.min(),Ln.empty(),0)}static newUnknownDocument(e,n){return new Xt(e,3,n,fe.min(),fe.min(),Ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e,n){this.position=e,this.inclusive=n}}function Hb(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=se.comparator(se.fromName(o.referenceValue),n.key):r=Sl(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function qb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Xr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,n="asc"){this.field=e,this.dir=n}}function d8(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{}class bt extends Mk{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new f8(e,n,r):n==="array-contains"?new g8(e,r):n==="in"?new y8(e,r):n==="not-in"?new v8(e,r):n==="array-contains-any"?new w8(e,r):new bt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new p8(e,r):new m8(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Sl(n,this.value)):n!==null&&zi(this.value)===zi(n)&&this.matchesComparison(Sl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return le(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zr extends Mk{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Zr(e,n)}matches(e){return jk(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function jk(t){return t.op==="and"}function Vk(t){return h8(t)&&jk(t)}function h8(t){for(const e of t.filters)if(e instanceof Zr)return!1;return!0}function Av(t){if(t instanceof bt)return t.field.canonicalString()+t.op.toString()+Al(t.value);if(Vk(t))return t.filters.map(e=>Av(e)).join(",");{const e=t.filters.map(n=>Av(n)).join(",");return`${t.op}(${e})`}}function Lk(t,e){return t instanceof bt?function(r,s){return s instanceof bt&&r.op===s.op&&r.field.isEqual(s.field)&&Xr(r.value,s.value)}(t,e):t instanceof Zr?function(r,s){return s instanceof Zr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&Lk(o,s.filters[a]),!0):!1}(t,e):void le(19439)}function Fk(t){return t instanceof bt?function(n){return`${n.field.canonicalString()} ${n.op} ${Al(n.value)}`}(t):t instanceof Zr?function(n){return n.op.toString()+" {"+n.getFilters().map(Fk).join(" ,")+"}"}(t):"Filter"}class f8 extends bt{constructor(e,n,r){super(e,n,r),this.key=se.fromName(r.referenceValue)}matches(e){const n=se.comparator(e.key,this.key);return this.matchesComparison(n)}}class p8 extends bt{constructor(e,n){super(e,"in",n),this.keys=Uk("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class m8 extends bt{constructor(e,n){super(e,"not-in",n),this.keys=Uk("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Uk(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>se.fromName(r.referenceValue))}class g8 extends bt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return K0(n)&&Lu(n.arrayValue,this.value)}}class y8 extends bt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Lu(this.value.arrayValue,n)}}class v8 extends bt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Lu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Lu(this.value.arrayValue,n)}}class w8 extends bt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!K0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Lu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _8{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function Gb(t,e=null,n=[],r=[],s=null,i=null,o=null){return new _8(t,e,n,r,s,i,o)}function Q0(t){const e=ge(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Av(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),im(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Al(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Al(r)).join(",")),e.Te=n}return e.Te}function Y0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!d8(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Lk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!qb(t.startAt,e.startAt)&&qb(t.endAt,e.endAt)}function Cv(t){return se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function x8(t,e,n,r,s,i,o,a){return new am(t,e,n,r,s,i,o,a)}function X0(t){return new am(t)}function Kb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function E8(t){return t.collectionGroup!==null}function Jc(t){const e=ge(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new At(Ut.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Gf(i,r))}),n.has(Ut.keyField().canonicalString())||e.Ie.push(new Gf(Ut.keyField(),r))}return e.Ie}function zr(t){const e=ge(t);return e.Ee||(e.Ee=T8(e,Jc(t))),e.Ee}function T8(t,e){if(t.limitType==="F")return Gb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Gf(s.field,i)});const n=t.endAt?new qf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new qf(t.startAt.position,t.startAt.inclusive):null;return Gb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Iv(t,e,n){return new am(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function lm(t,e){return Y0(zr(t),zr(e))&&t.limitType===e.limitType}function $k(t){return`${Q0(zr(t))}|lt:${t.limitType}`}function xa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>Fk(s)).join(", ")}]`),im(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Al(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Al(s)).join(",")),`Target(${r})`}(zr(t))}; limitType=${t.limitType})`}function cm(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):se.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Jc(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=Hb(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Jc(r),s)||r.endAt&&!function(o,a,l){const c=Hb(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Jc(r),s))}(t,e)}function b8(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Bk(t){return(e,n)=>{let r=!1;for(const s of Jc(t)){const i=S8(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function S8(t,e,n){const r=t.field.isKeyField()?se.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?Sl(l,c):le(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return le(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){aa(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return Ak(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A8=new rt(se.comparator);function Os(){return A8}const zk=new rt(se.comparator);function Dc(...t){let e=zk;for(const n of t)e=e.insert(n.key,n);return e}function Wk(t){let e=zk;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Co(){return eu()}function Hk(){return eu()}function eu(){return new la(t=>t.toString(),(t,e)=>t.isEqual(e))}const C8=new rt(se.comparator),I8=new At(se.comparator);function Ae(...t){let e=I8;for(const n of t)e=e.add(n);return e}const P8=new At(Se);function R8(){return P8}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zf(e)?"-0":e}}function qk(t){return{integerValue:""+t}}function k8(t,e){return r8(e)?qk(e):Z0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(){this._=void 0}}function N8(t,e,n){return t instanceof Fu?function(s,i){const o={fields:{[Pk]:{stringValue:Ik},[kk]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&G0(i)&&(i=om(i)),i&&(o.fields[Rk]=i),{mapValue:o}}(n,e):t instanceof Uu?Kk(t,e):t instanceof $u?Qk(t,e):function(s,i){const o=Gk(s,i),a=Qb(o)+Qb(s.Ae);return Sv(o)&&Sv(s.Ae)?qk(a):Z0(s.serializer,a)}(t,e)}function D8(t,e,n){return t instanceof Uu?Kk(t,e):t instanceof $u?Qk(t,e):n}function Gk(t,e){return t instanceof Kf?function(r){return Sv(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Fu extends um{}class Uu extends um{constructor(e){super(),this.elements=e}}function Kk(t,e){const n=Yk(e);for(const r of t.elements)n.some(s=>Xr(s,r))||n.push(r);return{arrayValue:{values:n}}}class $u extends um{constructor(e){super(),this.elements=e}}function Qk(t,e){let n=Yk(e);for(const r of t.elements)n=n.filter(s=>!Xr(s,r));return{arrayValue:{values:n}}}class Kf extends um{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Qb(t){return lt(t.integerValue||t.doubleValue)}function Yk(t){return K0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O8{constructor(e,n){this.field=e,this.transform=n}}function M8(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Uu&&s instanceof Uu||r instanceof $u&&s instanceof $u?bl(r.elements,s.elements,Xr):r instanceof Kf&&s instanceof Kf?Xr(r.Ae,s.Ae):r instanceof Fu&&s instanceof Fu}(t.transform,e.transform)}class j8{constructor(e,n){this.version=e,this.transformResults=n}}class Es{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Es}static exists(e){return new Es(void 0,e)}static updateTime(e){return new Es(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class dm{}function Xk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Jk(t.key,Es.none()):new Ed(t.key,t.data,Es.none());{const n=t.data,r=Ln.empty();let s=new At(Ut.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new ca(t.key,r,new dr(s.toArray()),Es.none())}}function V8(t,e,n){t instanceof Ed?function(s,i,o){const a=s.value.clone(),l=Xb(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ca?function(s,i,o){if(!Qh(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=Xb(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(Zk(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function tu(t,e,n,r){return t instanceof Ed?function(i,o,a,l){if(!Qh(i.precondition,o))return a;const c=i.value.clone(),d=Zb(i.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof ca?function(i,o,a,l){if(!Qh(i.precondition,o))return a;const c=Zb(i.fieldTransforms,l,o),d=o.data;return d.setAll(Zk(i)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return Qh(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function L8(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=Gk(r.transform,s||null);i!=null&&(n===null&&(n=Ln.empty()),n.set(r.field,i))}return n||null}function Yb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&bl(r,s,(i,o)=>M8(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ed extends dm{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ca extends dm{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Zk(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Xb(t,e,n){const r=new Map;Me(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,D8(o,a,n[s]))}return r}function Zb(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,N8(i,o,e))}return r}class Jk extends dm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class F8 extends dm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U8{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&V8(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=tu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=tu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Hk();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=Xk(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(fe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ae())}isEqual(e){return this.batchId===e.batchId&&bl(this.mutations,e.mutations,(n,r)=>Yb(n,r))&&bl(this.baseMutations,e.baseMutations,(n,r)=>Yb(n,r))}}class J0{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Me(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return C8}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new J0(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $8=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B8{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ht,Pe;function z8(t){switch(t){case B.OK:return le(64938);case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0;default:return le(15467,{code:t})}}function eN(t){if(t===void 0)return Ds("GRPC error has no .code"),B.UNKNOWN;switch(t){case ht.OK:return B.OK;case ht.CANCELLED:return B.CANCELLED;case ht.UNKNOWN:return B.UNKNOWN;case ht.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case ht.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case ht.INTERNAL:return B.INTERNAL;case ht.UNAVAILABLE:return B.UNAVAILABLE;case ht.UNAUTHENTICATED:return B.UNAUTHENTICATED;case ht.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case ht.NOT_FOUND:return B.NOT_FOUND;case ht.ALREADY_EXISTS:return B.ALREADY_EXISTS;case ht.PERMISSION_DENIED:return B.PERMISSION_DENIED;case ht.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case ht.ABORTED:return B.ABORTED;case ht.OUT_OF_RANGE:return B.OUT_OF_RANGE;case ht.UNIMPLEMENTED:return B.UNIMPLEMENTED;case ht.DATA_LOSS:return B.DATA_LOSS;default:return le(39323,{code:t})}}(Pe=ht||(ht={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W8(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H8=new ki([4294967295,4294967295],0);function Jb(t){const e=W8().encode(t),n=new gk;return n.update(e),new Uint8Array(n.digest())}function e1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new ki([n,r],0),new ki([s,i],0)]}class e_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Oc(`Invalid padding: ${n}`);if(r<0)throw new Oc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Oc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Oc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ki.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(ki.fromNumber(r)));return s.compare(H8)===1&&(s=new ki([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Jb(e),[r,s]=e1(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new e_(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=Jb(e),[r,s]=e1(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Oc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Td.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new hm(fe.min(),s,new rt(Se),Os(),Ae())}}class Td{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Td(r,n,Ae(),Ae(),Ae())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class tN{constructor(e,n){this.targetId=e,this.Ce=n}}class nN{constructor(e,n,r=Wt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class t1{constructor(){this.ve=0,this.Fe=n1(),this.Me=Wt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ae(),n=Ae(),r=Ae();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:le(38017,{changeType:i})}}),new Td(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=n1()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Me(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class q8{constructor(e){this.Ge=e,this.ze=new Map,this.je=Os(),this.Je=yh(),this.He=yh(),this.Ye=new rt(Se)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:le(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Cv(i))if(r===0){const o=new se(i.path);this.et(n,o,Xt.newNoDocument(o,fe.min()))}else Me(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Bi(r).toUint8Array()}catch(l){if(l instanceof Ck)return Tl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new e_(o,s,i)}catch(l){return Tl(l instanceof Oc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&Cv(a.target)){const l=new se(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Xt.newNoDocument(l,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=Ae();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new hm(e,n,this.Ye,this.je,r);return this.je=Os(),this.Je=yh(),this.He=yh(),this.Ye=new rt(Se),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new t1,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new At(Se),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new At(Se),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Y("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new t1),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function yh(){return new rt(se.comparator)}function n1(){return new rt(se.comparator)}const G8={asc:"ASCENDING",desc:"DESCENDING"},K8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Q8={and:"AND",or:"OR"};class Y8{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Pv(t,e){return t.useProto3Json||im(e)?e:{value:e}}function Qf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function X8(t,e){return Qf(t,e.toTimestamp())}function Wr(t){return Me(!!t,49232),fe.fromTimestamp(function(n){const r=$i(n);return new qe(r.seconds,r.nanos)}(t))}function t_(t,e){return Rv(t,e).canonicalString()}function Rv(t,e){const n=function(s){return new Je(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function sN(t){const e=Je.fromString(t);return Me(cN(e),10190,{key:e.toString()}),e}function kv(t,e){return t_(t.databaseId,e.path)}function Pg(t,e){const n=sN(e);if(n.get(1)!==t.databaseId.projectId)throw new te(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new te(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new se(oN(n))}function iN(t,e){return t_(t.databaseId,e)}function Z8(t){const e=sN(t);return e.length===4?Je.emptyPath():oN(e)}function Nv(t){return new Je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function oN(t){return Me(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function r1(t,e,n){return{name:kv(t,e),fields:n.value.mapValue.fields}}function J8(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:le(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,d){return c.useProto3Json?(Me(d===void 0||typeof d=="string",58123),Wt.fromBase64String(d||"")):(Me(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Wt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?B.UNKNOWN:eN(c.code);return new te(d,c.message||"")}(o);n=new nN(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Pg(t,r.document.name),i=Wr(r.document.updateTime),o=r.document.createTime?Wr(r.document.createTime):fe.min(),a=new Ln({mapValue:{fields:r.document.fields}}),l=Xt.newFoundDocument(s,i,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new Yh(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Pg(t,r.document),i=r.readTime?Wr(r.readTime):fe.min(),o=Xt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Yh([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Pg(t,r.document),i=r.removedTargetIds||[];n=new Yh([],i,s,null)}else{if(!("filter"in e))return le(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new B8(s,i),a=r.targetId;n=new tN(a,o)}}return n}function e7(t,e){let n;if(e instanceof Ed)n={update:r1(t,e.key,e.value)};else if(e instanceof Jk)n={delete:kv(t,e.key)};else if(e instanceof ca)n={update:r1(t,e.key,e.data),updateMask:c7(e.fieldMask)};else{if(!(e instanceof F8))return le(16599,{Vt:e.type});n={verify:kv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Fu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Uu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof $u)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Kf)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw le(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:X8(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:le(27497)}(t,e.precondition)),n}function t7(t,e){return t&&t.length>0?(Me(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?Wr(s.updateTime):Wr(i);return o.isEqual(fe.min())&&(o=Wr(i)),new j8(o,s.transformResults||[])}(n,e))):[]}function n7(t,e){return{documents:[iN(t,e.path)]}}function r7(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=iN(t,s);const i=function(c){if(c.length!==0)return lN(Zr.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(d=>function(p){return{field:Ea(p.field),direction:o7(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Pv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:s}}function s7(t){let e=Z8(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Me(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(f){const p=aN(f);return p instanceof Zr&&Vk(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(b){return new Gf(Ta(b.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,im(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(f){const p=!!f.before,m=f.values||[];return new qf(m,p)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const p=!f.before,m=f.values||[];return new qf(m,p)}(n.endAt)),x8(e,s,o,i,a,"F",l,c)}function i7(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return le(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function aN(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ta(n.unaryFilter.field);return bt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ta(n.unaryFilter.field);return bt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ta(n.unaryFilter.field);return bt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ta(n.unaryFilter.field);return bt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return le(61313);default:return le(60726)}}(t):t.fieldFilter!==void 0?function(n){return bt.create(Ta(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return le(58110);default:return le(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Zr.create(n.compositeFilter.filters.map(r=>aN(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return le(1026)}}(n.compositeFilter.op))}(t):le(30097,{filter:t})}function o7(t){return G8[t]}function a7(t){return K8[t]}function l7(t){return Q8[t]}function Ea(t){return{fieldPath:t.canonicalString()}}function Ta(t){return Ut.fromServerFormat(t.fieldPath)}function lN(t){return t instanceof bt?function(n){if(n.op==="=="){if(Wb(n.value))return{unaryFilter:{field:Ea(n.field),op:"IS_NAN"}};if(zb(n.value))return{unaryFilter:{field:Ea(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Wb(n.value))return{unaryFilter:{field:Ea(n.field),op:"IS_NOT_NAN"}};if(zb(n.value))return{unaryFilter:{field:Ea(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ea(n.field),op:a7(n.op),value:n.value}}}(t):t instanceof Zr?function(n){const r=n.getFilters().map(s=>lN(s));return r.length===1?r[0]:{compositeFilter:{op:l7(n.op),filters:r}}}(t):le(54877,{filter:t})}function c7(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function cN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e,n,r,s,i=fe.min(),o=fe.min(),a=Wt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new wi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new wi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u7{constructor(e){this.yt=e}}function d7(t){const e=s7({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Iv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h7{constructor(){this.Cn=new f7}addToCollectionParentIndex(e,n){return this.Cn.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(Ui.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(Ui.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class f7{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new At(Je.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new At(Je.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},uN=41943040;class pn{static withCacheSize(e){return new pn(e,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(uN,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Cl(0)}static cr(){return new Cl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1="LruGarbageCollector",p7=1048576;function o1([t,e],[n,r]){const s=Se(t,n);return s===0?Se(e,r):s}class m7{constructor(e){this.Ir=e,this.buffer=new At(o1),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();o1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class g7{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Y(i1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Gl(n)?Y(i1,"Ignoring IndexedDB error during garbage collection: ",n):await ql(n)}await this.Vr(3e5)})}}class y7{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return $.resolve(sm.ce);const r=new m7(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Y("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(s1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Y("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),s1):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Y("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),_a()<=be.DEBUG&&Y("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function v7(t,e){return new y7(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w7{constructor(){this.changes=new la(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Xt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _7{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x7{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&tu(r.mutation,s,dr.empty(),qe.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ae()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ae()){const s=Co();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Dc();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Co();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ae()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Os();const o=eu(),a=function(){return eu()}();return n.forEach((l,c)=>{const d=r.get(c.key);s.has(c.key)&&(d===void 0||d.mutation instanceof ca)?i=i.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),tu(d.mutation,c,d.mutation.getFieldMask(),qe.now())):o.set(c.key,dr.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>a.set(c,new _7(d,o.get(c)??null))),a))}recalculateAndSaveOverlays(e,n){const r=eu();let s=new rt((o,a)=>o-a),i=Ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||dr.empty();d=a.applyToLocalView(c,d),r.set(l,d);const f=(s.get(a.batchId)||Ae()).add(l);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,f=Hk();d.forEach(p=>{if(!i.has(p)){const m=Xk(n.get(p),r.get(p));m!==null&&f.set(p,m),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return $.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return se.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):E8(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):$.resolve(Co());let a=Mu,l=i;return o.next(c=>$.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(d)?$.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,Ae())).next(d=>({batchId:a,changes:Wk(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new se(n)).next(r=>{let s=Dc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Dc();return this.indexManager.getCollectionParents(e,i).next(a=>$.forEach(a,l=>{const c=function(f,p){return new am(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(d=>{d.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,Xt.newInvalidDocument(d)))});let a=Dc();return o.forEach((l,c)=>{const d=i.get(l);d!==void 0&&tu(d.mutation,c,dr.empty(),qe.now()),cm(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E7{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return $.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Wr(s.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:d7(s.bundledQuery),readTime:Wr(s.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T7{constructor(){this.overlays=new rt(se.comparator),this.qr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Co();return $.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const s=Co(),i=n.length+1,o=new se(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return $.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new rt((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=i.get(c.largestBatchId);d===null&&(d=Co(),i=i.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Co(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=s)););return $.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new $8(n,r));let i=this.qr.get(n);i===void 0&&(i=Ae(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b7{constructor(){this.sessionToken=Wt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(){this.Qr=new At(kt.$r),this.Ur=new At(kt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new kt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new kt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new se(new Je([])),r=new kt(n,e),s=new kt(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new se(new Je([])),r=new kt(n,e),s=new kt(n,e+1);let i=Ae();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new kt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class kt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return se.comparator(e.key,n.key)||Se(e.Yr,n.Yr)}static Kr(e,n){return Se(e.Yr,n.Yr)||se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S7{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new At(kt.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new U8(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new kt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,n){return $.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return $.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?q0:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new kt(n,0),s=new kt(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const a=this.Xr(o.Yr);i.push(a)}),$.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new At(Se);return n.forEach(s=>{const i=new kt(s,0),o=new kt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),$.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;se.isDocumentKey(i)||(i=i.child(""));const o=new kt(new se(i),0);let a=new At(Se);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.Yr)),!0)},o),$.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Me(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return $.forEach(n.mutations,s=>{const i=new kt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new kt(n,0),s=this.Zr.firstAfterOrEqual(r);return $.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A7{constructor(e){this.ri=e,this.docs=function(){return new rt(se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():Xt.newInvalidDocument(n))}getEntries(e,n){let r=Os();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Xt.newInvalidDocument(s))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Os();const o=n.path,a=new se(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||Jz(Zz(d),r)<=0||(s.has(d.key)||cm(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return $.resolve(i)}getAllFromCollectionGroup(e,n,r,s){le(9500)}ii(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new C7(this)}getSize(e){return $.resolve(this.size)}}class C7 extends w7{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I7{constructor(e){this.persistence=e,this.si=new la(n=>Q0(n),Y0),this.lastRemoteSnapshotVersion=fe.min(),this.highestTargetId=0,this.oi=0,this._i=new n_,this.targetCount=0,this.ai=Cl.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),$.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Cl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Pr(n),$.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),$.waitFor(i).next(()=>s)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),$.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),$.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e,n){this.ui={},this.overlays={},this.ci=new sm(0),this.li=!1,this.li=!0,this.hi=new b7,this.referenceDelegate=e(this),this.Pi=new I7(this),this.indexManager=new h7,this.remoteDocumentCache=function(s){return new A7(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new u7(n),this.Ii=new E7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new T7,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new S7(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Y("MemoryPersistence","Starting transaction:",e);const s=new P7(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return $.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class P7 extends t8{constructor(e){super(),this.currentSequenceNumber=e}}class r_{constructor(e){this.persistence=e,this.Ri=new n_,this.Vi=null}static mi(e){return new r_(e)}get fi(){if(this.Vi)return this.Vi;throw le(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),$.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,r=>{const s=se.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,fe.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return $.or([()=>$.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Yf{constructor(e,n){this.persistence=e,this.pi=new la(r=>s8(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=v7(this,n)}static mi(e,n){return new Yf(e,n)}Ei(){}di(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return $.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?$.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,fe.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Gh(e.data.value)),n}br(e,n,r){return $.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return $.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=Ae(),s=Ae();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new s_(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k7{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return r9()?8:n8(en())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new R7;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(_a()<=be.DEBUG&&Y("QueryEngine","SDK will not create cache indexes for query:",xa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(_a()<=be.DEBUG&&Y("QueryEngine","Query:",xa(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(_a()<=be.DEBUG&&Y("QueryEngine","The SDK decides to create cache indexes for query:",xa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zr(n))):$.resolve())}ys(e,n){if(Kb(n))return $.resolve(null);let r=zr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Iv(n,null,"F"),r=zr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Ae(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Ds(n,a);return this.Cs(n,c,o,l.readTime)?this.ys(e,Iv(n,null,"F")):this.vs(e,c,n,l)}))})))}ws(e,n,r,s){return Kb(n)||s.isEqual(fe.min())?$.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?$.resolve(null):(_a()<=be.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),xa(n)),this.vs(e,o,n,Xz(s,Mu)).next(a=>a))})}Ds(e,n){let r=new At(Bk(e));return n.forEach((s,i)=>{cm(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return _a()<=be.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",xa(n)),this.ps.getDocumentsMatchingQuery(e,n,Ui.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_="LocalStore",N7=3e8;class D7{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new rt(Se),this.xs=new la(i=>Q0(i),Y0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new x7(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function O7(t,e,n,r){return new D7(t,e,n,r)}async function hN(t,e){const n=ge(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Ae();for(const c of s){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of i){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ls:c,removedBatchIds:o,addedBatchIds:a}))})})}function M7(t,e){const n=ge(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const f=c.batch,p=f.keys();let m=$.resolve();return p.forEach(b=>{m=m.next(()=>d.getEntry(l,b)).next(v=>{const x=c.docVersions.get(b);Me(x!==null,48541),v.version.compareTo(x)<0&&(f.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),d.addEntry(v)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ae();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function fN(t){const e=ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function j7(t,e){const n=ge(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((d,f)=>{const p=s.get(f);if(!p)return;a.push(n.Pi.removeMatchingKeys(i,d.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(i,d.addedDocuments,f)));let m=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(Wt.EMPTY_BYTE_STRING,fe.min()).withLastLimboFreeSnapshotVersion(fe.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),s=s.insert(f,m),function(v,x,w){return v.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=N7?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(p,m,d)&&a.push(n.Pi.updateTargetData(i,m))});let l=Os(),c=Ae();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(V7(i,o,e.documentUpdates).next(d=>{l=d.ks,c=d.qs})),!r.isEqual(fe.min())){const d=n.Pi.getLastRemoteSnapshotVersion(i).next(f=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return $.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.Ms=s,i))}function V7(t,e,n){let r=Ae(),s=Ae();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Os();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(fe.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Y(i_,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{ks:o,qs:s}})}function L7(t,e){const n=ge(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=q0),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function F7(t,e){const n=ge(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,$.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new wi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Dv(t,e,n){const r=ge(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Gl(o))throw o;Y(i_,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function a1(t,e,n){const r=ge(t);let s=fe.min(),i=Ae();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const f=ge(l),p=f.xs.get(d);return p!==void 0?$.resolve(f.Ms.get(p)):f.Pi.getTargetData(c,d)}(r,o,zr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:fe.min(),n?i:Ae())).next(a=>(U7(r,b8(e),a),{documents:a,Qs:i})))}function U7(t,e,n){let r=t.Os.get(e)||fe.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class l1{constructor(){this.activeTargetIds=R8()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $7{constructor(){this.Mo=new l1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new l1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B7{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1="ConnectivityMonitor";class u1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Y(c1,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Y(c1,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vh=null;function Ov(){return vh===null?vh=function(){return 268435456+Math.round(2147483648*Math.random())}():vh++,"0x"+vh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rg="RestConnection",z7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class W7{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Wf?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=Ov(),a=this.zo(e,n.toUriEncodedString());Y(Rg,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,s,i);const{host:c}=new URL(a),d=to(c);return this.Jo(e,a,l,r,d).then(f=>(Y(Rg,`Received RPC '${e}' ${o}: `,f),f),f=>{throw Tl(Rg,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Hl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=z7[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H7{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kt="WebChannelConnection";class q7 extends W7{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=Ov();return new Promise((a,l)=>{const c=new yk;c.setWithCredentials(!0),c.listenOnce(vk.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case qh.NO_ERROR:const f=c.getResponseJson();Y(Kt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case qh.TIMEOUT:Y(Kt,`RPC '${e}' ${o} timed out`),l(new te(B.DEADLINE_EXCEEDED,"Request time out"));break;case qh.HTTP_ERROR:const p=c.getStatus();if(Y(Kt,`RPC '${e}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);const b=m==null?void 0:m.error;if(b&&b.status&&b.message){const v=function(w){const E=w.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(E)>=0?E:B.UNKNOWN}(b.status);l(new te(v,b.message))}else l(new te(B.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new te(B.UNAVAILABLE,"Connection failed."));break;default:le(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{Y(Kt,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);Y(Kt,`RPC '${e}' ${o} sending request:`,s),c.send(n,"POST",d,r,15)})}T_(e,n,r){const s=Ov(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=xk(),a=_k(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=i.join("");Y(Kt,`Creating RPC '${e}' stream ${s}: ${d}`,l);const f=o.createWebChannel(d,l);this.I_(f);let p=!1,m=!1;const b=new H7({Yo:x=>{m?Y(Kt,`Not sending because RPC '${e}' stream ${s} is closed:`,x):(p||(Y(Kt,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),Y(Kt,`RPC '${e}' stream ${s} sending:`,x),f.send(x))},Zo:()=>f.close()}),v=(x,w,E)=>{x.listen(w,T=>{try{E(T)}catch(I){setTimeout(()=>{throw I},0)}})};return v(f,Nc.EventType.OPEN,()=>{m||(Y(Kt,`RPC '${e}' stream ${s} transport opened.`),b.o_())}),v(f,Nc.EventType.CLOSE,()=>{m||(m=!0,Y(Kt,`RPC '${e}' stream ${s} transport closed`),b.a_(),this.E_(f))}),v(f,Nc.EventType.ERROR,x=>{m||(m=!0,Tl(Kt,`RPC '${e}' stream ${s} transport errored. Name:`,x.name,"Message:",x.message),b.a_(new te(B.UNAVAILABLE,"The operation could not be completed")))}),v(f,Nc.EventType.MESSAGE,x=>{var w;if(!m){const E=x.data[0];Me(!!E,16349);const T=E,I=(T==null?void 0:T.error)||((w=T[0])==null?void 0:w.error);if(I){Y(Kt,`RPC '${e}' stream ${s} received error:`,I);const C=I.status;let M=function(P){const N=ht[P];if(N!==void 0)return eN(N)}(C),A=I.message;M===void 0&&(M=B.INTERNAL,A="Unknown error status: "+C+" with message "+I.message),m=!0,b.a_(new te(M,A)),f.close()}else Y(Kt,`RPC '${e}' stream ${s} received:`,E),b.u_(E)}}),v(a,wk.STAT_EVENT,x=>{x.stat===Ev.PROXY?Y(Kt,`RPC '${e}' stream ${s} detected buffering proxy`):x.stat===Ev.NOPROXY&&Y(Kt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{b.__()},0),b}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function kg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fm(t){return new Y8(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&Y("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1="PersistentStream";class mN{constructor(e,n,r,s,i,o,a,l){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new pN(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(Ds(n.toString()),Ds("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new te(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Y(d1,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(Y(d1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class G7 extends mN{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=J8(this.serializer,e),r=function(i){if(!("targetChange"in i))return fe.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?fe.min():o.readTime?Wr(o.readTime):fe.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Nv(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=Cv(l)?{documents:n7(i,l)}:{query:r7(i,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=rN(i,o.resumeToken);const c=Pv(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(fe.min())>0){a.readTime=Qf(i,o.snapshotVersion.toTimestamp());const c=Pv(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=i7(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Nv(this.serializer),n.removeTarget=e,this.q_(n)}}class K7 extends mN{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Me(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Me(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Me(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=t7(e.writeResults,e.commitTime),r=Wr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Nv(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>e7(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q7{}class Y7 extends Q7{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new te(B.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,Rv(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new te(B.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,Rv(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new te(B.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class X7{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ds(n),this.aa=!1):Y("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo="RemoteStore";class Z7{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{ua(this)&&(Y(Jo,"Restarting streams for network reachability change."),await async function(l){const c=ge(l);c.Ea.add(4),await bd(c),c.Ra.set("Unknown"),c.Ea.delete(4),await pm(c)}(this))})}),this.Ra=new X7(r,s)}}async function pm(t){if(ua(t))for(const e of t.da)await e(!0)}async function bd(t){for(const e of t.da)await e(!1)}function gN(t,e){const n=ge(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),c_(n)?l_(n):Kl(n).O_()&&a_(n,e))}function o_(t,e){const n=ge(t),r=Kl(n);n.Ia.delete(e),r.O_()&&yN(n,e),n.Ia.size===0&&(r.O_()?r.L_():ua(n)&&n.Ra.set("Unknown"))}function a_(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(fe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Kl(t).Y_(e)}function yN(t,e){t.Va.Ue(e),Kl(t).Z_(e)}function l_(t){t.Va=new q8({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Kl(t).start(),t.Ra.ua()}function c_(t){return ua(t)&&!Kl(t).x_()&&t.Ia.size>0}function ua(t){return ge(t).Ea.size===0}function vN(t){t.Va=void 0}async function J7(t){t.Ra.set("Online")}async function eW(t){t.Ia.forEach((e,n)=>{a_(t,e)})}async function tW(t,e){vN(t),c_(t)?(t.Ra.ha(e),l_(t)):t.Ra.set("Unknown")}async function nW(t,e,n){if(t.Ra.set("Online"),e instanceof nN&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){Y(Jo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Xf(t,r)}else if(e instanceof Yh?t.Va.Ze(e):e instanceof tN?t.Va.st(e):t.Va.tt(e),!n.isEqual(fe.min()))try{const r=await fN(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.Ia.get(c);d&&i.Ia.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=i.Ia.get(l);if(!d)return;i.Ia.set(l,d.withResumeToken(Wt.EMPTY_BYTE_STRING,d.snapshotVersion)),yN(i,l);const f=new wi(d.target,l,c,d.sequenceNumber);a_(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Y(Jo,"Failed to raise snapshot:",r),await Xf(t,r)}}async function Xf(t,e,n){if(!Gl(e))throw e;t.Ea.add(1),await bd(t),t.Ra.set("Offline"),n||(n=()=>fN(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Y(Jo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await pm(t)})}function wN(t,e){return e().catch(n=>Xf(t,n,e))}async function mm(t){const e=ge(t),n=Wi(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:q0;for(;rW(e);)try{const s=await L7(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,sW(e,s)}catch(s){await Xf(e,s)}_N(e)&&xN(e)}function rW(t){return ua(t)&&t.Ta.length<10}function sW(t,e){t.Ta.push(e);const n=Wi(t);n.O_()&&n.X_&&n.ea(e.mutations)}function _N(t){return ua(t)&&!Wi(t).x_()&&t.Ta.length>0}function xN(t){Wi(t).start()}async function iW(t){Wi(t).ra()}async function oW(t){const e=Wi(t);for(const n of t.Ta)e.ea(n.mutations)}async function aW(t,e,n){const r=t.Ta.shift(),s=J0.from(r,e,n);await wN(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await mm(t)}async function lW(t,e){e&&Wi(t).X_&&await async function(r,s){if(function(o){return z8(o)&&o!==B.ABORTED}(s.code)){const i=r.Ta.shift();Wi(r).B_(),await wN(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await mm(r)}}(t,e),_N(t)&&xN(t)}async function h1(t,e){const n=ge(t);n.asyncQueue.verifyOperationInProgress(),Y(Jo,"RemoteStore received new credentials");const r=ua(n);n.Ea.add(3),await bd(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await pm(n)}async function cW(t,e){const n=ge(t);e?(n.Ea.delete(2),await pm(n)):e||(n.Ea.add(2),await bd(n),n.Ra.set("Unknown"))}function Kl(t){return t.ma||(t.ma=function(n,r,s){const i=ge(n);return i.sa(),new G7(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:J7.bind(null,t),t_:eW.bind(null,t),r_:tW.bind(null,t),H_:nW.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),c_(t)?l_(t):t.Ra.set("Unknown")):(await t.ma.stop(),vN(t))})),t.ma}function Wi(t){return t.fa||(t.fa=function(n,r,s){const i=ge(n);return i.sa(),new K7(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:iW.bind(null,t),r_:lW.bind(null,t),ta:oW.bind(null,t),na:aW.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await mm(t)):(await t.fa.stop(),t.Ta.length>0&&(Y(Jo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new u_(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function d_(t,e){if(Ds("AsyncQueue",`${e}: ${t}`),Gl(t))return new te(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{static emptySet(e){return new Ja(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||se.comparator(n.key,r.key):(n,r)=>se.comparator(n.key,r.key),this.keyedMap=Dc(),this.sortedSet=new rt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ja)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ja;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(){this.ga=new rt(se.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):le(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Il{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Il(e,n,Ja.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uW{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class dW{constructor(){this.queries=p1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=ge(n),i=s.queries;s.queries=p1(),i.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new te(B.ABORTED,"Firestore shutting down"))}}function p1(){return new la(t=>$k(t),lm)}async function hW(t,e){const n=ge(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new uW,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=d_(o,`Initialization of query '${xa(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&h_(n)}async function fW(t,e){const n=ge(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function pW(t,e){const n=ge(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&h_(n)}function mW(t,e,n){const r=ge(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function h_(t){t.Ca.forEach(e=>{e.next()})}var Mv,m1;(m1=Mv||(Mv={})).Ma="default",m1.Cache="cache";class gW{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Il(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Il.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Mv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e){this.key=e}}class TN{constructor(e){this.key=e}}class yW{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ae(),this.mutatedKeys=Ae(),this.eu=Bk(e),this.tu=new Ja(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new f1,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,f)=>{const p=s.get(d),m=cm(this.query,f)?f:null,b=!!p&&this.mutatedKeys.has(p.key),v=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let x=!1;p&&m?p.data.isEqual(m.data)?b!==v&&(r.track({type:3,doc:m}),x=!0):this.su(p,m)||(r.track({type:2,doc:m}),x=!0,(l&&this.eu(m,l)>0||c&&this.eu(m,c)<0)&&(a=!0)):!p&&m?(r.track({type:0,doc:m}),x=!0):p&&!m&&(r.track({type:1,doc:p}),x=!0,(l||c)&&(a=!0)),x&&(m?(o=o.add(m),i=v?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((d,f)=>function(m,b){const v=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return le(20277,{Rt:x})}};return v(m)-v(b)}(d.type,f.type)||this.eu(d.doc,f.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],l=this.Xa.size===0&&this.current&&!s?1:0,c=l!==this.Za;return this.Za=l,o.length!==0||c?{snapshot:new Il(this.query,e.tu,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new f1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ae(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new TN(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new EN(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ae();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Il.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const f_="SyncEngine";class vW{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class wW{constructor(e){this.key=e,this.hu=!1}}class _W{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new la(a=>$k(a),lm),this.Iu=new Map,this.Eu=new Set,this.du=new rt(se.comparator),this.Au=new Map,this.Ru=new n_,this.Vu={},this.mu=new Map,this.fu=Cl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function xW(t,e,n=!0){const r=PN(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await bN(r,e,n,!0),s}async function EW(t,e){const n=PN(t);await bN(n,e,!0,!1)}async function bN(t,e,n,r){const s=await F7(t.localStore,zr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await TW(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&gN(t.remoteStore,s),a}async function TW(t,e,n,r,s){t.pu=(f,p,m)=>async function(v,x,w,E){let T=x.view.ru(w);T.Cs&&(T=await a1(v.localStore,x.query,!1).then(({documents:A})=>x.view.ru(A,T)));const I=E&&E.targetChanges.get(x.targetId),C=E&&E.targetMismatches.get(x.targetId)!=null,M=x.view.applyChanges(T,v.isPrimaryClient,I,C);return y1(v,x.targetId,M.au),M.snapshot}(t,f,p,m);const i=await a1(t.localStore,e,!0),o=new yW(e,i.Qs),a=o.ru(i.documents),l=Td.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);y1(t,n,c.au);const d=new vW(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function bW(t,e,n){const r=ge(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!lm(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Dv(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&o_(r.remoteStore,s.targetId),jv(r,s.targetId)}).catch(ql)):(jv(r,s.targetId),await Dv(r.localStore,s.targetId,!0))}async function SW(t,e){const n=ge(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),o_(n.remoteStore,r.targetId))}async function AW(t,e,n){const r=DW(t);try{const s=await function(o,a){const l=ge(o),c=qe.now(),d=a.reduce((m,b)=>m.add(b.key),Ae());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let b=Os(),v=Ae();return l.Ns.getEntries(m,d).next(x=>{b=x,b.forEach((w,E)=>{E.isValidDocument()||(v=v.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,b)).next(x=>{f=x;const w=[];for(const E of a){const T=L8(E,f.get(E.key).overlayedDocument);T!=null&&w.push(new ca(E.key,T,Ok(T.value.mapValue),Es.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,w,a)}).next(x=>{p=x;const w=x.applyToLocalDocumentSet(f,v);return l.documentOverlayCache.saveOverlays(m,x.batchId,w)})}).then(()=>({batchId:p.batchId,changes:Wk(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Vu[o.currentUser.toKey()];c||(c=new rt(Se)),c=c.insert(a,l),o.Vu[o.currentUser.toKey()]=c}(r,s.batchId,n),await Sd(r,s.changes),await mm(r.remoteStore)}catch(s){const i=d_(s,"Failed to persist write");n.reject(i)}}async function SN(t,e){const n=ge(t);try{const r=await j7(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(Me(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Me(o.hu,14607):s.removedDocuments.size>0&&(Me(o.hu,42227),o.hu=!1))}),await Sd(n,r,e)}catch(r){await ql(r)}}function g1(t,e,n){const r=ge(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=ge(o);l.onlineState=a;let c=!1;l.queries.forEach((d,f)=>{for(const p of f.Sa)p.va(a)&&(c=!0)}),c&&h_(l)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function CW(t,e,n){const r=ge(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new rt(se.comparator);o=o.insert(i,Xt.newNoDocument(i,fe.min()));const a=Ae().add(i),l=new hm(fe.min(),new Map,new rt(Se),o,a);await SN(r,l),r.du=r.du.remove(i),r.Au.delete(e),p_(r)}else await Dv(r.localStore,e,!1).then(()=>jv(r,e,n)).catch(ql)}async function IW(t,e){const n=ge(t),r=e.batch.batchId;try{const s=await M7(n.localStore,e);CN(n,r,null),AN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Sd(n,s)}catch(s){await ql(s)}}async function PW(t,e,n){const r=ge(t);try{const s=await function(o,a){const l=ge(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(Me(f!==null,37113),d=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);CN(r,e,n),AN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Sd(r,s)}catch(s){await ql(s)}}function AN(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function CN(t,e,n){const r=ge(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function jv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||IN(t,r)})}function IN(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(o_(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),p_(t))}function y1(t,e,n){for(const r of n)r instanceof EN?(t.Ru.addReference(r.key,e),RW(t,r)):r instanceof TN?(Y(f_,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||IN(t,r.key)):le(19791,{wu:r})}function RW(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Y(f_,"New document in limbo: "+n),t.Eu.add(r),p_(t))}function p_(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new se(Je.fromString(e)),r=t.fu.next();t.Au.set(r,new wW(n)),t.du=t.du.insert(n,r),gN(t.remoteStore,new wi(zr(X0(n.path)),r,"TargetPurposeLimboResolution",sm.ce))}}async function Sd(t,e,n){const r=ge(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){s.push(c);const f=s_.As(l.targetId,c);i.push(f)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(l,c){const d=ge(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>$.forEach(c,p=>$.forEach(p.Es,m=>d.persistence.referenceDelegate.addReference(f,p.targetId,m)).next(()=>$.forEach(p.ds,m=>d.persistence.referenceDelegate.removeReference(f,p.targetId,m)))))}catch(f){if(!Gl(f))throw f;Y(i_,"Failed to update sequence numbers: "+f)}for(const f of c){const p=f.targetId;if(!f.fromCache){const m=d.Ms.get(p),b=m.snapshotVersion,v=m.withLastLimboFreeSnapshotVersion(b);d.Ms=d.Ms.insert(p,v)}}}(r.localStore,i))}async function kW(t,e){const n=ge(t);if(!n.currentUser.isEqual(e)){Y(f_,"User change. New user:",e.toKey());const r=await hN(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(l=>{l.reject(new te(B.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Sd(n,r.Ls)}}function NW(t,e){const n=ge(t),r=n.Au.get(e);if(r&&r.hu)return Ae().add(r.key);{let s=Ae();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function PN(t){const e=ge(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=SN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=NW.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=CW.bind(null,e),e.Pu.H_=pW.bind(null,e.eventManager),e.Pu.yu=mW.bind(null,e.eventManager),e}function DW(t){const e=ge(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=IW.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=PW.bind(null,e),e}class Zf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=fm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return O7(this.persistence,new k7,e.initialUser,this.serializer)}Cu(e){return new dN(r_.mi,this.serializer)}Du(e){return new $7}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zf.provider={build:()=>new Zf};class OW extends Zf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Me(this.persistence.referenceDelegate instanceof Yf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new g7(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new dN(r=>Yf.mi(r,n),this.serializer)}}class Vv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>g1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=kW.bind(null,this.syncEngine),await cW(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new dW}()}createDatastore(e){const n=fm(e.databaseInfo.databaseId),r=function(i){return new q7(i)}(e.databaseInfo);return function(i,o,a,l){return new Y7(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new Z7(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>g1(this.syncEngine,n,0),function(){return u1.v()?new u1:new B7}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,d){const f=new _W(s,i,o,a,l,c);return d&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ge(s);Y(Jo,"RemoteStore shutting down."),i.Ea.add(5),await bd(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Vv.provider={build:()=>new Vv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MW{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ds("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi="FirestoreClient";class jW{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Qt.UNAUTHENTICATED,this.clientId=W0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{Y(Hi,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Y(Hi,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=d_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ng(t,e){t.asyncQueue.verifyOperationInProgress(),Y(Hi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await hN(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function v1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await VW(t);Y(Hi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>h1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>h1(e.remoteStore,s)),t._onlineComponents=e}async function VW(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Y(Hi,"Using user provided OfflineComponentProvider");try{await Ng(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===B.FAILED_PRECONDITION||s.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Tl("Error using user provided cache. Falling back to memory cache: "+n),await Ng(t,new Zf)}}else Y(Hi,"Using default OfflineComponentProvider"),await Ng(t,new OW(void 0));return t._offlineComponents}async function RN(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Y(Hi,"Using user provided OnlineComponentProvider"),await v1(t,t._uninitializedComponentsProvider._online)):(Y(Hi,"Using default OnlineComponentProvider"),await v1(t,new Vv))),t._onlineComponents}function LW(t){return RN(t).then(e=>e.syncEngine)}async function FW(t){const e=await RN(t),n=e.eventManager;return n.onListen=xW.bind(null,e.syncEngine),n.onUnlisten=bW.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=EW.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=SW.bind(null,e.syncEngine),n}function UW(t,e,n={}){const r=new Ni;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const d=new MW({next:p=>{d.Nu(),o.enqueueAndForget(()=>fW(i,f));const m=p.docs.has(a);!m&&p.fromCache?c.reject(new te(B.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&l&&l.source==="server"?c.reject(new te(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new gW(X0(a.path),d,{includeMetadataChanges:!0,qa:!0});return hW(i,f)}(await FW(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN="firestore.googleapis.com",_1=!0;class x1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new te(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=NN,this.ssl=_1}else this.host=e.host,this.ssl=e.ssl??_1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=uN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<p7)throw new te(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Yz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kN(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new te(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new te(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new te(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class m_{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new x1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new te(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new te(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new x1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Fz;switch(r.type){case"firstParty":return new zz(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new te(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=w1.get(n);r&&(Y("ComponentProvider","Removing Datastore"),w1.delete(n),r.terminate())}(this),Promise.resolve()}}function $W(t,e,n,r={}){var c;t=Ou(t,m_);const s=to(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(Zp(`https://${a}`),Jp("Firestore",!0)),i.host!==NN&&i.host!==a&&Tl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:a,ssl:s,emulatorOptions:r};if(!Qo(l,o)&&(t._setSettings(l),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=Qt.MOCK_USER;else{d=kR(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new te(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Qt(p)}t._authCredentials=new Uz(new Tk(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new g_(this.firestore,e,this._query)}}class Ot{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ot(this.firestore,e,this._key)}toJSON(){return{type:Ot._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(xd(n,Ot._jsonSchema))return new Ot(e,r||null,new se(Je.fromString(n.referencePath)))}}Ot._jsonSchemaVersion="firestore/documentReference/1.0",Ot._jsonSchema={type:vt("string",Ot._jsonSchemaVersion),referencePath:vt("string")};class Bu extends g_{constructor(e,n,r){super(e,n,X0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ot(this.firestore,null,new se(e))}withConverter(e){return new Bu(this.firestore,e,this._path)}}function y_(t,e,...n){if(t=zt(t),arguments.length===1&&(e=W0.newId()),Qz("doc","path",e),t instanceof m_){const r=Je.fromString(e,...n);return Mb(r),new Ot(t,null,new se(r))}{if(!(t instanceof Ot||t instanceof Bu))throw new te(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Je.fromString(e,...n));return Mb(r),new Ot(t.firestore,t instanceof Bu?t.converter:null,new se(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1="AsyncQueue";class T1{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new pN(this,"async_queue_retry"),this._c=()=>{const r=kg();r&&Y(E1,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=kg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=kg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Ni;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Gl(e))throw e;Y(E1,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Ds("INTERNAL UNHANDLED ERROR: ",b1(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=u_.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&le(47125,{Pc:b1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function b1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class v_ extends m_{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new T1,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new T1(e),this._firestoreClient=void 0,await e}}}function BW(t,e){const n=typeof t=="object"?t:em(),r=typeof t=="string"?t:Wf,s=gd(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=R0("firestore");i&&$W(s,...i)}return s}function DN(t){if(t._terminated)throw new te(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||zW(t),t._firestoreClient}function zW(t){var r,s,i;const e=t._freezeSettings(),n=function(a,l,c,d){return new a8(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,kN(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new jW(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fn(Wt.fromBase64String(e))}catch(n){throw new te(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Fn(Wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Fn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(xd(e,Fn._jsonSchema))return Fn.fromBase64String(e.bytes)}}Fn._jsonSchemaVersion="firestore/bytes/1.0",Fn._jsonSchema={type:vt("string",Fn._jsonSchemaVersion),bytes:vt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new te(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new te(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new te(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Se(this._lat,e._lat)||Se(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Hr._jsonSchemaVersion}}static fromJSON(e){if(xd(e,Hr._jsonSchema))return new Hr(e.latitude,e.longitude)}}Hr._jsonSchemaVersion="firestore/geoPoint/1.0",Hr._jsonSchema={type:vt("string",Hr._jsonSchemaVersion),latitude:vt("number"),longitude:vt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:qr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(xd(e,qr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new qr(e.vectorValues);throw new te(B.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}qr._jsonSchemaVersion="firestore/vectorValue/1.0",qr._jsonSchema={type:vt("string",qr._jsonSchemaVersion),vectorValues:vt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WW=/^__.*__$/;class HW{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ca(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ed(e,this.data,n,this.fieldTransforms)}}function ON(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw le(40011,{Ac:t})}}class x_{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new x_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Jf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(ON(this.Ac)&&WW.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class qW{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||fm(e)}Cc(e,n,r,s=!1){return new x_({Ac:e,methodName:n,Dc:r,path:Ut.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function GW(t){const e=t._freezeSettings(),n=fm(t._databaseId);return new qW(t._databaseId,!!e.ignoreUndefinedProperties,n)}function KW(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);LN("Data must be an object, but it was:",o,r);const a=jN(r,o);let l,c;if(i.merge)l=new dr(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const f of i.mergeFields){const p=QW(e,f,n);if(!o.contains(p))throw new te(B.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);XW(d,p)||d.push(p)}l=new dr(d),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new HW(new Ln(a),l,c)}class E_ extends __{_toFieldTransform(e){return new O8(e.path,new Fu)}isEqual(e){return e instanceof E_}}function MN(t,e){if(VN(t=zt(t)))return LN("Unsupported field value:",e,t),jN(t,e);if(t instanceof __)return function(r,s){if(!ON(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=MN(a,s.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=zt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return k8(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=qe.fromDate(r);return{timestampValue:Qf(s.serializer,i)}}if(r instanceof qe){const i=new qe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Qf(s.serializer,i)}}if(r instanceof Hr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Fn)return{bytesValue:rN(s.serializer,r._byteString)};if(r instanceof Ot){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:t_(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof qr)return function(o,a){return{mapValue:{fields:{[Nk]:{stringValue:Dk},[Hf]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Sc("VectorValues must only contain numeric values.");return Z0(a.serializer,c)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${H0(r)}`)}(t,e)}function jN(t,e){const n={};return Ak(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):aa(t,(r,s)=>{const i=MN(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function VN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof qe||t instanceof Hr||t instanceof Fn||t instanceof Ot||t instanceof __||t instanceof qr)}function LN(t,e,n){if(!VN(n)||!bk(n)){const r=H0(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function QW(t,e,n){if((e=zt(e))instanceof w_)return e._internalPath;if(typeof e=="string")return FN(t,e);throw Jf("Field path arguments must be of type string or ",t,!1,void 0,n)}const YW=new RegExp("[~\\*/\\[\\]]");function FN(t,e,n){if(e.search(YW)>=0)throw Jf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new w_(...e.split("."))._internalPath}catch{throw Jf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Jf(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new te(B.INVALID_ARGUMENT,a+t+l)}function XW(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ZW(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field($N("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ZW extends UN{data(){return super.data()}}function $N(t,e){return typeof e=="string"?FN(t,e):e instanceof w_?e._internalPath:e._delegate._internalPath}class JW{convertValue(e,n="none"){switch(zi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Bi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw le(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return aa(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[Hf].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>lt(o.doubleValue));return new qr(n)}convertGeoPoint(e){return new Hr(lt(e.latitude),lt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=om(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ju(e));default:return null}}convertTimestamp(e){const n=$i(e);return new qe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Je.fromString(e);Me(cN(r),9688,{name:e});const s=new Vu(r.get(1),r.get(3)),i=new se(r.popFirst(5));return s.isEqual(n)||Ds(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eH(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Mc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Fo extends UN{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Xh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field($N("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new te(B.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Fo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Fo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Fo._jsonSchema={type:vt("string",Fo._jsonSchemaVersion),bundleSource:vt("string","DocumentSnapshot"),bundleName:vt("string"),bundle:vt("string")};class Xh extends Fo{data(e={}){return super.data(e)}}class nu{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Mc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Xh(this._firestore,this._userDataWriter,r.key,r,new Mc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new te(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Xh(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Mc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Xh(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Mc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:tH(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new te(B.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=nu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=W0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function tH(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return le(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BN(t){t=Ou(t,Ot);const e=Ou(t.firestore,v_);return UW(DN(e),t._key).then(n=>sH(e,t,n))}nu._jsonSchemaVersion="firestore/querySnapshot/1.0",nu._jsonSchema={type:vt("string",nu._jsonSchemaVersion),bundleSource:vt("string","QuerySnapshot"),bundleName:vt("string"),bundle:vt("string")};class nH extends JW{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,n)}}function zN(t,e,n){t=Ou(t,Ot);const r=Ou(t.firestore,v_),s=eH(t.converter,e);return rH(r,[KW(GW(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Es.none())])}function rH(t,e){return function(r,s){const i=new Ni;return r.asyncQueue.enqueueAndForget(async()=>AW(await LW(r),s,i)),i.promise}(DN(t),e)}function sH(t,e,n){const r=n.docs.get(e._key),s=new nH(t);return new Fo(t,s,e._key,r,new Mc(n.hasPendingWrites,n.fromCache),e.converter)}function ep(){return new E_("serverTimestamp")}(function(e,n=!0){(function(s){Hl=s})(oa),Fi(new Rs("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new v_(new $z(r.getProvider("auth-internal")),new Wz(o,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new te(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vu(c.options.projectId,d)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),zn(kb,Nb,e),zn(kb,Nb,"esm2020")})();var iH="firebase",oH="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zn(iH,oH,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN="firebasestorage.googleapis.com",aH="storageBucket",lH=2*60*1e3,cH=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends ns{constructor(e,n,r=0){super(Dg(e),`Firebase Storage: ${n} (${Dg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,rs.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Dg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Jr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Jr||(Jr={}));function Dg(t){return"storage/"+t}function uH(){const t="An unknown error occurred, please check the error payload for server response.";return new rs(Jr.UNKNOWN,t)}function dH(){return new rs(Jr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function hH(){return new rs(Jr.CANCELED,"User canceled the upload/download.")}function fH(t){return new rs(Jr.INVALID_URL,"Invalid URL '"+t+"'.")}function pH(t){return new rs(Jr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function S1(t){return new rs(Jr.INVALID_ARGUMENT,t)}function HN(){return new rs(Jr.APP_DELETED,"The Firebase app was deleted.")}function mH(t){return new rs(Jr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=hr.makeFromUrl(e,n)}catch{return new hr(e,"")}if(r.path==="")return r;throw pH(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(I){I.path.charAt(I.path.length-1)==="/"&&(I.path_=I.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function c(I){I.path_=decodeURIComponent(I.path)}const d="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",m=new RegExp(`^https?://${f}/${d}/b/${s}/o${p}`,"i"),b={bucket:1,path:3},v=n===WN?"(?:storage.googleapis.com|storage.cloud.google.com)":n,x="([^?#]*)",w=new RegExp(`^https?://${v}/${s}/${x}`,"i"),T=[{regex:a,indices:l,postModify:i},{regex:m,indices:b,postModify:c},{regex:w,indices:{bucket:1,path:2},postModify:c}];for(let I=0;I<T.length;I++){const C=T[I],M=C.regex.exec(e);if(M){const A=M[C.indices.bucket];let S=M[C.indices.path];S||(S=""),r=new hr(A,S),C.postModify(r);break}}if(r==null)throw fH(e);return r}}class gH{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yH(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let c=!1;function d(...x){c||(c=!0,e.apply(null,x))}function f(x){s=setTimeout(()=>{s=null,t(m,l())},x)}function p(){i&&clearTimeout(i)}function m(x,...w){if(c){p();return}if(x){p(),d.call(null,x,...w);return}if(l()||o){p(),d.call(null,x,...w);return}r<64&&(r*=2);let T;a===1?(a=2,T=0):T=(r+Math.random())*1e3,f(T)}let b=!1;function v(x){b||(b=!0,p(),!c&&(s!==null?(x||(a=2),clearTimeout(s),f(0)):x||(a=1)))}return f(0),i=setTimeout(()=>{o=!0,v(!0)},n),v}function vH(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wH(t){return t!==void 0}function A1(t,e,n,r){if(r<e)throw S1(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw S1(`Invalid value for '${t}'. Expected ${n} or less.`)}function _H(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var tp;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(tp||(tp={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xH(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EH{constructor(e,n,r,s,i,o,a,l,c,d,f,p=!0,m=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=f,this.retry=p,this.isUsingEmulator=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,v)=>{this.resolve_=b,this.reject_=v,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new wh(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===tp.NO_ERROR,l=i.getStatus();if(!a||xH(l,this.additionalRetryCodes_)&&this.retry){const d=i.getErrorCode()===tp.ABORT;r(!1,new wh(!1,null,d));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new wh(c,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());wH(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=uH();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?HN():hH();o(l)}else{const l=dH();o(l)}};this.canceled_?n(!1,new wh(!1,null,!0)):this.backoffId_=yH(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&vH(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class wh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function TH(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function bH(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function SH(t,e){e&&(t["X-Firebase-GMPID"]=e)}function AH(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function CH(t,e,n,r,s,i,o=!0,a=!1){const l=_H(t.urlParams),c=t.url+l,d=Object.assign({},t.headers);return SH(d,e),TH(d,n),bH(d,i),AH(d,r),new EH(c,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IH(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function PH(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e,n){this._service=e,n instanceof hr?this._location=n:this._location=hr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new np(e,n)}get root(){const e=new hr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return PH(this._location.path)}get storage(){return this._service}get parent(){const e=IH(this._location.path);if(e===null)return null;const n=new hr(this._location.bucket,e);return new np(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw mH(e)}}function C1(t,e){const n=e==null?void 0:e[aH];return n==null?null:hr.makeFromBucketSpec(n,t)}function RH(t,e,n,r={}){t.host=`${e}:${n}`;const s=to(e);s&&(Zp(`https://${t.host}/b`),Jp("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:kR(i,t.app.options.projectId))}class kH{constructor(e,n,r,s,i,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=WN,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=lH,this._maxUploadRetryTime=cH,this._requests=new Set,s!=null?this._bucket=hr.makeFromBucketSpec(s,this._host):this._bucket=C1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=hr.makeFromBucketSpec(this._url,e):this._bucket=C1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){A1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){A1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(on(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new np(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new gH(HN());{const o=CH(e,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const I1="@firebase/storage",P1="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN="storage";function NH(t=em(),e){t=zt(t);const r=gd(t,qN).getImmediate({identifier:e}),s=R0("storage");return s&&DH(r,...s),r}function DH(t,e,n,r={}){RH(t,e,n,r)}function OH(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new kH(n,r,s,e,oa)}function MH(){Fi(new Rs(qN,OH,"PUBLIC").setMultipleInstances(!0)),zn(I1,P1,""),zn(I1,P1,"esm2020")}MH();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jH{constructor(e,n,r,s){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,on(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||n.get().then(i=>this.auth=i,()=>{}),this.messaging||r.get().then(i=>this.messaging=i,()=>{}),this.appCheck||s==null||s.get().then(i=>this.appCheck=i,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),s=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:s}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv="us-central1";class VH{constructor(e,n,r,s,i=Lv,o=(...a)=>fetch(...a)){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new jH(e,n,r,s),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(i);this.customDomain=a.origin+(a.pathname==="/"?"":a.pathname),this.region=Lv}catch{this.customDomain=null,this.region=i}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function LH(t,e,n){const r=to(e);t.emulatorOrigin=`http${r?"s":""}://${e}:${n}`,r&&(Zp(t.emulatorOrigin+"/backends"),Jp("Functions",!0))}const R1="@firebase/functions",k1="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FH="auth-internal",UH="app-check-internal",$H="messaging-internal";function BH(t){const e=(n,{instanceIdentifier:r})=>{const s=n.getProvider("app").getImmediate(),i=n.getProvider(FH),o=n.getProvider($H),a=n.getProvider(UH);return new VH(s,i,o,a,r)};Fi(new Rs(GN,e,"PUBLIC").setMultipleInstances(!0)),zn(R1,k1,t),zn(R1,k1,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zH(t=em(),e=Lv){const r=gd(zt(t),GN).getImmediate({identifier:e}),s=R0("functions");return s&&WH(r,...s),r}function WH(t,e,n){LH(zt(t),e,n)}BH();const HH={apiKey:"AIzaSyA1GR-3rRgKpXOIiZMpF6usbCZgX42jX7s",authDomain:"datingprofileanalyzer-fc531.firebaseapp.com",projectId:"datingprofileanalyzer-fc531",storageBucket:"datingprofileanalyzer-fc531.firebasestorage.app",messagingSenderId:"78408850070",appId:"1:78408850070:web:9ed4b242dd5356a7be00b7"},gm=OR(HH),xo=Vz(gm),T_=BW(gm);NH(gm);zH(gm);const KN=y.createContext(void 0),qH=({children:t})=>{const[e,n]=y.useState(null),[r,s]=y.useState(!0),i=ia(),{toast:o}=sa();y.useEffect(()=>{const p=SB(xo,async m=>{n(m),m&&await a(m),s(!1)});return()=>p()},[]);const a=async p=>{const m=y_(T_,"profiles",p.uid);(await BN(m)).exists()||await zN(m,{user_id:p.uid,email:p.email,full_name:p.displayName||null,created_at:ep(),updated_at:ep()})},l=async(p,m,b)=>{try{const v=await wB(xo,p,m);return b&&await EB(v.user,{displayName:b}),{error:null}}catch(v){return{error:v}}},c=async(p,m)=>{try{return await _B(xo,p,m),o({title:"Success",description:"Signed in successfully"}),{error:null}}catch(b){return{error:b}}},d=async()=>{try{const p=new ps;return await qB(xo,p),o({title:"Success",description:"Signed in successfully with Google"}),{error:null}}catch(p){return{error:p}}},f=async()=>{try{await AB(xo),n(null),o({title:"Success",description:"Signed out successfully"}),i("/",{replace:!0})}catch(p){console.error("Error signing out:",p),o({title:"Error",description:"There was a problem signing out, but you have been logged out",variant:"destructive"}),n(null),i("/",{replace:!0})}};return h.jsx(KN.Provider,{value:{user:e,signUp:l,signIn:c,signInWithGoogle:d,signOut:f,loading:r},children:t})},Ql=()=>{const t=y.useContext(KN);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},Og=({children:t})=>{const{user:e,loading:n}=Ql();return n?h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):e?h.jsx(h.Fragment,{children:t}):h.jsx(O6,{to:"/auth",replace:!0})},b_=ud("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Oe=y.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?NL:"button";return h.jsx(o,{className:he(b_({variant:e,size:n,className:t})),ref:i,...s})});Oe.displayName="Button";const Fe=y.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:he("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Fe.displayName="Card";const mt=y.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:he("flex flex-col space-y-1.5 p-6",t),...e}));mt.displayName="CardHeader";const gt=y.forwardRef(({className:t,...e},n)=>h.jsx("h3",{ref:n,className:he("text-2xl font-semibold leading-none tracking-tight",t),...e}));gt.displayName="CardTitle";const Dt=y.forwardRef(({className:t,...e},n)=>h.jsx("p",{ref:n,className:he("text-sm text-muted-foreground",t),...e}));Dt.displayName="CardDescription";const Ft=y.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:he("p-6 pt-0",t),...e}));Ft.displayName="CardContent";const GH=y.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:he("flex items-center p-6 pt-0",t),...e}));GH.displayName="CardFooter";const QN=y.createContext({});function KH(t){const e=y.useRef(null);return e.current===null&&(e.current=t()),e.current}const S_=typeof window<"u",QH=S_?y.useLayoutEffect:y.useEffect,A_=y.createContext(null);function C_(t,e){t.indexOf(e)===-1&&t.push(e)}function I_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ms=(t,e,n)=>n>e?e:n<t?t:n;let P_=()=>{};const js={},YN=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function XN(t){return typeof t=="object"&&t!==null}const ZN=t=>/^0[^.\s]+$/u.test(t);function R_(t){let e;return()=>(e===void 0&&(e=t()),e)}const Wn=t=>t,YH=(t,e)=>n=>e(t(n)),Ad=(...t)=>t.reduce(YH),zu=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class k_{constructor(){this.subscriptions=[]}add(e){return C_(this.subscriptions,e),()=>I_(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Gr=t=>t*1e3,$n=t=>t/1e3;function JN(t,e){return e?t*(1e3/e):0}const e2=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,XH=1e-7,ZH=12;function JH(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=e2(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>XH&&++a<ZH);return o}function Cd(t,e,n,r){if(t===e&&n===r)return Wn;const s=i=>JH(i,0,1,t,n);return i=>i===0||i===1?i:e2(s(i),e,r)}const t2=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,n2=t=>e=>1-t(1-e),r2=Cd(.33,1.53,.69,.99),N_=n2(r2),s2=t2(N_),i2=t=>(t*=2)<1?.5*N_(t):.5*(2-Math.pow(2,-10*(t-1))),D_=t=>1-Math.sin(Math.acos(t)),o2=n2(D_),a2=t2(D_),eq=Cd(.42,0,1,1),tq=Cd(0,0,.58,1),l2=Cd(.42,0,.58,1),nq=t=>Array.isArray(t)&&typeof t[0]!="number",c2=t=>Array.isArray(t)&&typeof t[0]=="number",rq={linear:Wn,easeIn:eq,easeInOut:l2,easeOut:tq,circIn:D_,circInOut:a2,circOut:o2,backIn:N_,backInOut:s2,backOut:r2,anticipate:i2},sq=t=>typeof t=="string",N1=t=>{if(c2(t)){P_(t.length===4);const[e,n,r,s]=t;return Cd(e,n,r,s)}else if(sq(t))return rq[t];return t},_h=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function iq(t,e){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(d){o.has(d)&&(c.schedule(d),t()),d(a)}const c={schedule:(d,f=!1,p=!1)=>{const b=p&&s?n:r;return f&&o.add(d),b.has(d)||b.add(d),d},cancel:d=>{r.delete(d),o.delete(d)},process:d=>{if(a=d,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(l),n.clear(),s=!1,i&&(i=!1,c.process(d))}};return c}const oq=40;function u2(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=_h.reduce((T,I)=>(T[I]=iq(i),T),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:d,update:f,preRender:p,render:m,postRender:b}=o,v=()=>{const T=js.useManualTiming?s.timestamp:performance.now();n=!1,js.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(T-s.timestamp,oq),1)),s.timestamp=T,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),d.process(s),f.process(s),p.process(s),m.process(s),b.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(v))},x=()=>{n=!0,r=!0,s.isProcessing||t(v)};return{schedule:_h.reduce((T,I)=>{const C=o[I];return T[I]=(M,A=!1,S=!1)=>(n||x(),C.schedule(M,A,S)),T},{}),cancel:T=>{for(let I=0;I<_h.length;I++)o[_h[I]].cancel(T)},state:s,steps:o}}const{schedule:Ye,cancel:qi,state:Vt,steps:Mg}=u2(typeof requestAnimationFrame<"u"?requestAnimationFrame:Wn,!0);let Zh;function aq(){Zh=void 0}const yn={now:()=>(Zh===void 0&&yn.set(Vt.isProcessing||js.useManualTiming?Vt.timestamp:performance.now()),Zh),set:t=>{Zh=t,queueMicrotask(aq)}},d2=t=>e=>typeof e=="string"&&e.startsWith(t),O_=d2("--"),lq=d2("var(--"),M_=t=>lq(t)?cq.test(t.split("/*")[0].trim()):!1,cq=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Yl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Wu={...Yl,transform:t=>Ms(0,1,t)},xh={...Yl,default:1},ru=t=>Math.round(t*1e5)/1e5,j_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function uq(t){return t==null}const dq=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,V_=(t,e)=>n=>!!(typeof n=="string"&&dq.test(n)&&n.startsWith(t)||e&&!uq(n)&&Object.prototype.hasOwnProperty.call(n,e)),h2=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(j_);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},hq=t=>Ms(0,255,t),jg={...Yl,transform:t=>Math.round(hq(t))},Io={test:V_("rgb","red"),parse:h2("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+jg.transform(t)+", "+jg.transform(e)+", "+jg.transform(n)+", "+ru(Wu.transform(r))+")"};function fq(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Fv={test:V_("#"),parse:fq,transform:Io.transform},Id=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ei=Id("deg"),Kr=Id("%"),ce=Id("px"),pq=Id("vh"),mq=Id("vw"),D1={...Kr,parse:t=>Kr.parse(t)/100,transform:t=>Kr.transform(t*100)},Va={test:V_("hsl","hue"),parse:h2("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Kr.transform(ru(e))+", "+Kr.transform(ru(n))+", "+ru(Wu.transform(r))+")"},ft={test:t=>Io.test(t)||Fv.test(t)||Va.test(t),parse:t=>Io.test(t)?Io.parse(t):Va.test(t)?Va.parse(t):Fv.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Io.transform(t):Va.transform(t),getAnimatableNone:t=>{const e=ft.parse(t);return e.alpha=0,ft.transform(e)}},gq=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function yq(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(j_))==null?void 0:e.length)||0)+(((n=t.match(gq))==null?void 0:n.length)||0)>0}const f2="number",p2="color",vq="var",wq="var(",O1="${}",_q=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Hu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(_q,l=>(ft.test(l)?(r.color.push(i),s.push(p2),n.push(ft.parse(l))):l.startsWith(wq)?(r.var.push(i),s.push(vq),n.push(l)):(r.number.push(i),s.push(f2),n.push(parseFloat(l))),++i,O1)).split(O1);return{values:n,split:a,indexes:r,types:s}}function m2(t){return Hu(t).values}function g2(t){const{split:e,types:n}=Hu(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const a=n[o];a===f2?i+=ru(s[o]):a===p2?i+=ft.transform(s[o]):i+=s[o]}return i}}const xq=t=>typeof t=="number"?0:ft.test(t)?ft.getAnimatableNone(t):t;function Eq(t){const e=m2(t);return g2(t)(e.map(xq))}const Gi={test:yq,parse:m2,createTransformer:g2,getAnimatableNone:Eq};function Vg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Tq({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=Vg(l,a,t+1/3),i=Vg(l,a,t),o=Vg(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function rp(t,e){return n=>n>0?e:t}const et=(t,e,n)=>t+(e-t)*n,Lg=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},bq=[Fv,Io,Va],Sq=t=>bq.find(e=>e.test(t));function M1(t){const e=Sq(t);if(!e)return!1;let n=e.parse(t);return e===Va&&(n=Tq(n)),n}const j1=(t,e)=>{const n=M1(t),r=M1(e);if(!n||!r)return rp(t,e);const s={...n};return i=>(s.red=Lg(n.red,r.red,i),s.green=Lg(n.green,r.green,i),s.blue=Lg(n.blue,r.blue,i),s.alpha=et(n.alpha,r.alpha,i),Io.transform(s))},Uv=new Set(["none","hidden"]);function Aq(t,e){return Uv.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Cq(t,e){return n=>et(t,e,n)}function L_(t){return typeof t=="number"?Cq:typeof t=="string"?M_(t)?rp:ft.test(t)?j1:Rq:Array.isArray(t)?y2:typeof t=="object"?ft.test(t)?j1:Iq:rp}function y2(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>L_(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function Iq(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=L_(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function Pq(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],o=t.indexes[i][r[i]],a=t.values[o]??0;n[s]=a,r[i]++}return n}const Rq=(t,e)=>{const n=Gi.createTransformer(e),r=Hu(t),s=Hu(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Uv.has(t)&&!s.values.length||Uv.has(e)&&!r.values.length?Aq(t,e):Ad(y2(Pq(r,s),s.values),n):rp(t,e)};function v2(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?et(t,e,n):L_(t)(t,e)}const kq=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Ye.update(e,n),stop:()=>qi(e),now:()=>Vt.isProcessing?Vt.timestamp:yn.now()}},w2=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},sp=2e4;function F_(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<sp;)e+=n,r=t.next(e);return e>=sp?1/0:e}function Nq(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(F_(r),sp);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:$n(s)}}const Dq=5;function _2(t,e,n){const r=Math.max(e-Dq,0);return JN(n-t(r),e-r)}const ot={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Fg=.001;function Oq({duration:t=ot.duration,bounce:e=ot.bounce,velocity:n=ot.velocity,mass:r=ot.mass}){let s,i,o=1-e;o=Ms(ot.minDamping,ot.maxDamping,o),t=Ms(ot.minDuration,ot.maxDuration,$n(t)),o<1?(s=c=>{const d=c*o,f=d*t,p=d-n,m=$v(c,o),b=Math.exp(-f);return Fg-p/m*b},i=c=>{const f=c*o*t,p=f*n+n,m=Math.pow(o,2)*Math.pow(c,2)*t,b=Math.exp(-f),v=$v(Math.pow(c,2),o);return(-s(c)+Fg>0?-1:1)*((p-m)*b)/v}):(s=c=>{const d=Math.exp(-c*t),f=(c-n)*t+1;return-Fg+d*f},i=c=>{const d=Math.exp(-c*t),f=(n-c)*(t*t);return d*f});const a=5/t,l=jq(s,i,a);if(t=Gr(t),isNaN(l))return{stiffness:ot.stiffness,damping:ot.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const Mq=12;function jq(t,e,n){let r=n;for(let s=1;s<Mq;s++)r=r-t(r)/e(r);return r}function $v(t,e){return t*Math.sqrt(1-e*e)}const Vq=["duration","bounce"],Lq=["stiffness","damping","mass"];function V1(t,e){return e.some(n=>t[n]!==void 0)}function Fq(t){let e={velocity:ot.velocity,stiffness:ot.stiffness,damping:ot.damping,mass:ot.mass,isResolvedFromDuration:!1,...t};if(!V1(t,Lq)&&V1(t,Vq))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Ms(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:ot.mass,stiffness:s,damping:i}}else{const n=Oq(t);e={...e,...n,mass:ot.mass},e.isResolvedFromDuration=!0}return e}function ip(t=ot.visualDuration,e=ot.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:c,mass:d,duration:f,velocity:p,isResolvedFromDuration:m}=Fq({...n,velocity:-$n(n.velocity||0)}),b=p||0,v=c/(2*Math.sqrt(l*d)),x=o-i,w=$n(Math.sqrt(l/d)),E=Math.abs(x)<5;r||(r=E?ot.restSpeed.granular:ot.restSpeed.default),s||(s=E?ot.restDelta.granular:ot.restDelta.default);let T;if(v<1){const C=$v(w,v);T=M=>{const A=Math.exp(-v*w*M);return o-A*((b+v*w*x)/C*Math.sin(C*M)+x*Math.cos(C*M))}}else if(v===1)T=C=>o-Math.exp(-w*C)*(x+(b+w*x)*C);else{const C=w*Math.sqrt(v*v-1);T=M=>{const A=Math.exp(-v*w*M),S=Math.min(C*M,300);return o-A*((b+v*w*x)*Math.sinh(S)+C*x*Math.cosh(S))/C}}const I={calculatedDuration:m&&f||null,next:C=>{const M=T(C);if(m)a.done=C>=f;else{let A=C===0?b:0;v<1&&(A=C===0?Gr(b):_2(T,C,M));const S=Math.abs(A)<=r,P=Math.abs(o-M)<=s;a.done=S&&P}return a.value=a.done?o:M,a},toString:()=>{const C=Math.min(F_(I),sp),M=w2(A=>I.next(C*A).value,C,30);return C+"ms "+M},toTransition:()=>{}};return I}ip.applyToOptions=t=>{const e=Nq(t,100,ip);return t.ease=e.ease,t.duration=Gr(e.duration),t.type="keyframes",t};function Bv({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const f=t[0],p={done:!1,value:f},m=S=>a!==void 0&&S<a||l!==void 0&&S>l,b=S=>a===void 0?l:l===void 0||Math.abs(a-S)<Math.abs(l-S)?a:l;let v=n*e;const x=f+v,w=o===void 0?x:o(x);w!==x&&(v=w-f);const E=S=>-v*Math.exp(-S/r),T=S=>w+E(S),I=S=>{const P=E(S),N=T(S);p.done=Math.abs(P)<=c,p.value=p.done?w:N};let C,M;const A=S=>{m(p.value)&&(C=S,M=ip({keyframes:[p.value,b(p.value)],velocity:_2(T,S,p.value),damping:s,stiffness:i,restDelta:c,restSpeed:d}))};return A(0),{calculatedDuration:null,next:S=>{let P=!1;return!M&&C===void 0&&(P=!0,I(S),A(S)),C!==void 0&&S>=C?M.next(S-C):(!P&&I(S),p)}}}function Uq(t,e,n){const r=[],s=n||js.mix||v2,i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Wn:e;a=Ad(l,a)}r.push(a)}return r}function $q(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(P_(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=Uq(e,r,s),l=a.length,c=d=>{if(o&&d<t[0])return e[0];let f=0;if(l>1)for(;f<t.length-2&&!(d<t[f+1]);f++);const p=zu(t[f],t[f+1],d);return a[f](p)};return n?d=>c(Ms(t[0],t[i-1],d)):c}function Bq(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=zu(0,e,r);t.push(et(n,1,s))}}function zq(t){const e=[0];return Bq(e,t.length-1),e}function Wq(t,e){return t.map(n=>n*e)}function Hq(t,e){return t.map(()=>e||l2).splice(0,t.length-1)}function su({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=nq(r)?r.map(N1):N1(r),i={done:!1,value:e[0]},o=Wq(n&&n.length===e.length?n:zq(e),t),a=$q(o,e,{ease:Array.isArray(s)?s:Hq(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}const qq=t=>t!==null;function U_(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(qq),a=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const Gq={decay:Bv,inertia:Bv,tween:su,keyframes:su,spring:ip};function x2(t){typeof t.type=="string"&&(t.type=Gq[t.type])}class $_{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const Kq=t=>t/100;class B_ extends $_{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==yn.now()&&this.tick(yn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;x2(e);const{type:n=su,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=e;let{keyframes:a}=e;const l=n||su;l!==su&&typeof a[0]!="number"&&(this.mixKeyframes=Ad(Kq,v2(a[0],a[1])),a=[0,100]);const c=l({...e,keyframes:a});i==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=F_(c));const{calculatedDuration:d}=c;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=c}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:d,repeat:f,repeatType:p,repeatDelay:m,type:b,onUpdate:v,finalKeyframe:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const w=this.currentTime-c*(this.playbackSpeed>=0?1:-1),E=this.playbackSpeed>=0?w<0:w>s;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let T=this.currentTime,I=r;if(f){const S=Math.min(this.currentTime,s)/a;let P=Math.floor(S),N=S%1;!N&&S>=1&&(N=1),N===1&&P--,P=Math.min(P,f+1),!!(P%2)&&(p==="reverse"?(N=1-N,m&&(N-=m/a)):p==="mirror"&&(I=o)),T=Ms(0,1,N)*a}const C=E?{done:!1,value:d[0]}:I.next(T);i&&(C.value=i(C.value));let{done:M}=C;!E&&l!==null&&(M=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return A&&b!==Bv&&(C.value=U_(d,this.options,x,this.speed)),v&&v(C.value),A&&this.finish(),C}then(e,n){return this.finished.then(e,n)}get duration(){return $n(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+$n(e)}get time(){return $n(this.currentTime)}set time(e){var n;e=Gr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(yn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=$n(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:e=kq,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(yn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function Qq(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Po=t=>t*180/Math.PI,zv=t=>{const e=Po(Math.atan2(t[1],t[0]));return Wv(e)},Yq={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:zv,rotateZ:zv,skewX:t=>Po(Math.atan(t[1])),skewY:t=>Po(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Wv=t=>(t=t%360,t<0&&(t+=360),t),L1=zv,F1=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),U1=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Xq={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:F1,scaleY:U1,scale:t=>(F1(t)+U1(t))/2,rotateX:t=>Wv(Po(Math.atan2(t[6],t[5]))),rotateY:t=>Wv(Po(Math.atan2(-t[2],t[0]))),rotateZ:L1,rotate:L1,skewX:t=>Po(Math.atan(t[4])),skewY:t=>Po(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Hv(t){return t.includes("scale")?1:0}function qv(t,e){if(!t||t==="none")return Hv(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=Xq,s=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=Yq,s=a}if(!s)return Hv(e);const i=r[e],o=s[1].split(",").map(Jq);return typeof i=="function"?i(o):o[i]}const Zq=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return qv(n,e)};function Jq(t){return parseFloat(t.trim())}const Xl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Zl=new Set(Xl),$1=t=>t===Yl||t===ce,eG=new Set(["x","y","z"]),tG=Xl.filter(t=>!eG.has(t));function nG(t){const e=[];return tG.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Uo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>qv(e,"x"),y:(t,{transform:e})=>qv(e,"y")};Uo.translateX=Uo.x;Uo.translateY=Uo.y;const $o=new Set;let Gv=!1,Kv=!1,Qv=!1;function E2(){if(Kv){const t=Array.from($o).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=nG(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Kv=!1,Gv=!1,$o.forEach(t=>t.complete(Qv)),$o.clear()}function T2(){$o.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Kv=!0)})}function rG(){Qv=!0,T2(),E2(),Qv=!1}class z_{constructor(e,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?($o.add(this),Gv||(Gv=!0,Ye.read(T2),Ye.resolveKeyframes(E2))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),s&&i===void 0&&s.set(e[0])}Qq(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),$o.delete(this)}cancel(){this.state==="scheduled"&&($o.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const sG=t=>t.startsWith("--");function iG(t,e,n){sG(e)?t.style.setProperty(e,n):t.style[e]=n}const oG=R_(()=>window.ScrollTimeline!==void 0),aG={};function lG(t,e){const n=R_(t);return()=>aG[e]??n()}const b2=lG(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),jc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,B1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:jc([0,.65,.55,1]),circOut:jc([.55,0,1,.45]),backIn:jc([.31,.01,.66,-.59]),backOut:jc([.33,1.53,.69,.99])};function S2(t,e){if(t)return typeof t=="function"?b2()?w2(t,e):"ease-out":c2(t)?jc(t):Array.isArray(t)?t.map(n=>S2(n,e)||B1.easeOut):B1[t]}function cG(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const d={[e]:n};l&&(d.offset=l);const f=S2(a,s);Array.isArray(f)&&(d.easing=f);const p={delay:r,duration:s,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return c&&(p.pseudoElement=c),t.animate(d,p)}function A2(t){return typeof t=="function"&&"applyToOptions"in t}function uG({type:t,...e}){return A2(t)&&b2()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class dG extends $_{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,P_(typeof e.type!="string");const c=uG(e);this.animation=cG(n,r,s,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=U_(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(d):iG(n,r,d),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return $n(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+$n(e)}get time(){return $n(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Gr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&oG()?(this.animation.timeline=e,Wn):n(this)}}const C2={anticipate:i2,backInOut:s2,circInOut:a2};function hG(t){return t in C2}function fG(t){typeof t.ease=="string"&&hG(t.ease)&&(t.ease=C2[t.ease])}const z1=10;class pG extends dG{constructor(e){fG(e),x2(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new B_({...o,autoplay:!1}),l=Gr(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-z1).value,a.sample(l).value,z1),a.stop()}}const W1=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Gi.test(t)||t==="0")&&!t.startsWith("url("));function mG(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function gG(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=W1(s,e),a=W1(i,e);return!o||!a?!1:mG(t)||(n==="spring"||A2(n))&&r}function Yv(t){t.duration=0,t.type="keyframes"}const yG=new Set(["opacity","clipPath","filter","transform"]),vG=R_(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function wG(t){var d;const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=t;if(!(((d=e==null?void 0:e.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return vG()&&n&&yG.has(n)&&(n!=="transform"||!c)&&!l&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const _G=40;class xG extends $_{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:d,...f}){var b;super(),this.stop=()=>{var v,x;this._animation&&(this._animation.stop(),(v=this.stopTimeline)==null||v.call(this)),(x=this.keyframeResolver)==null||x.cancel()},this.createdAt=yn.now();const p={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:l,motionValue:c,element:d,...f},m=(d==null?void 0:d.KeyframeResolver)||z_;this.keyframeResolver=new m(a,(v,x,w)=>this.onKeyframesResolved(v,x,p,!w),l,c,d),(b=this.keyframeResolver)==null||b.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:d}=r;this.resolvedAt=yn.now(),gG(e,i,o,a)||((js.instantAnimations||!l)&&(d==null||d(U_(e,r,n))),e[0]=e[e.length-1],Yv(r),r.repeat=0);const p={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>_G?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},m=!c&&wG(p)?new pG({...p,element:p.motionValue.owner.current}):new B_(p);m.finished.then(()=>this.notifyFinished()).catch(Wn),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),rG()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const EG=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function TG(t){const e=EG.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function I2(t,e,n=1){const[r,s]=TG(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return YN(o)?parseFloat(o):o}return M_(s)?I2(s,e,n+1):s}function W_(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const P2=new Set(["width","height","top","left","right","bottom",...Xl]),bG={test:t=>t==="auto",parse:t=>t},R2=t=>e=>e.test(t),k2=[Yl,ce,Kr,ei,mq,pq,bG],H1=t=>k2.find(R2(t));function SG(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||ZN(t):!0}const AG=new Set(["brightness","contrast","saturate","opacity"]);function CG(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(j_)||[];if(!r)return t;const s=n.replace(r,"");let i=AG.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const IG=/\b([a-z-]*)\(.*?\)/gu,Xv={...Gi,getAnimatableNone:t=>{const e=t.match(IG);return e?e.map(CG).join(" "):t}},q1={...Yl,transform:Math.round},PG={rotate:ei,rotateX:ei,rotateY:ei,rotateZ:ei,scale:xh,scaleX:xh,scaleY:xh,scaleZ:xh,skew:ei,skewX:ei,skewY:ei,distance:ce,translateX:ce,translateY:ce,translateZ:ce,x:ce,y:ce,z:ce,perspective:ce,transformPerspective:ce,opacity:Wu,originX:D1,originY:D1,originZ:ce},H_={borderWidth:ce,borderTopWidth:ce,borderRightWidth:ce,borderBottomWidth:ce,borderLeftWidth:ce,borderRadius:ce,radius:ce,borderTopLeftRadius:ce,borderTopRightRadius:ce,borderBottomRightRadius:ce,borderBottomLeftRadius:ce,width:ce,maxWidth:ce,height:ce,maxHeight:ce,top:ce,right:ce,bottom:ce,left:ce,padding:ce,paddingTop:ce,paddingRight:ce,paddingBottom:ce,paddingLeft:ce,margin:ce,marginTop:ce,marginRight:ce,marginBottom:ce,marginLeft:ce,backgroundPositionX:ce,backgroundPositionY:ce,...PG,zIndex:q1,fillOpacity:Wu,strokeOpacity:Wu,numOctaves:q1},RG={...H_,color:ft,backgroundColor:ft,outlineColor:ft,fill:ft,stroke:ft,borderColor:ft,borderTopColor:ft,borderRightColor:ft,borderBottomColor:ft,borderLeftColor:ft,filter:Xv,WebkitFilter:Xv},N2=t=>RG[t];function D2(t,e){let n=N2(t);return n!==Xv&&(n=Gi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const kG=new Set(["auto","none","0"]);function NG(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!kG.has(i)&&Hu(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=D2(n,s)}class DG extends z_{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),M_(c))){const d=I2(c,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!P2.has(r)||e.length!==2)return;const[s,i]=e,o=H1(s),a=H1(i);if(o!==a)if($1(o)&&$1(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else Uo[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||SG(e[s]))&&r.push(s);r.length&&NG(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Uo[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=Uo[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function OG(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const s=(n==null?void 0:n[t])??r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const O2=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function MG(t){return XN(t)&&"offsetHeight"in t}const G1=30,jG=t=>!isNaN(parseFloat(t));class VG{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const s=yn.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=yn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=jG(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new k_);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ye.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=yn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>G1)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,G1);return JN(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Pl(t,e){return new VG(t,e)}const{schedule:q_}=u2(queueMicrotask,!1),rr={x:!1,y:!1};function M2(){return rr.x||rr.y}function LG(t){return t==="x"||t==="y"?rr[t]?null:(rr[t]=!0,()=>{rr[t]=!1}):rr.x||rr.y?null:(rr.x=rr.y=!0,()=>{rr.x=rr.y=!1})}function j2(t,e){const n=OG(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function K1(t){return!(t.pointerType==="touch"||M2())}function FG(t,e,n={}){const[r,s,i]=j2(t,n),o=a=>{if(!K1(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const d=f=>{K1(f)&&(c(f),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,s)};return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const V2=(t,e)=>e?t===e?!0:V2(t,e.parentElement):!1,G_=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,UG=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function $G(t){return UG.has(t.tagName)||t.tabIndex!==-1}const Jh=new WeakSet;function Q1(t){return e=>{e.key==="Enter"&&t(e)}}function Ug(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const BG=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=Q1(()=>{if(Jh.has(n))return;Ug(n,"down");const s=Q1(()=>{Ug(n,"up")}),i=()=>Ug(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function Y1(t){return G_(t)&&!M2()}function zG(t,e,n={}){const[r,s,i]=j2(t,n),o=a=>{const l=a.currentTarget;if(!Y1(a))return;Jh.add(l);const c=e(l,a),d=(m,b)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",p),Jh.has(l)&&Jh.delete(l),Y1(m)&&typeof c=="function"&&c(m,{success:b})},f=m=>{d(m,l===window||l===document||n.useGlobalTarget||V2(l,m.target))},p=m=>{d(m,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",p,s)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),MG(a)&&(a.addEventListener("focus",c=>BG(c,s)),!$G(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function L2(t){return XN(t)&&"ownerSVGElement"in t}function WG(t){return L2(t)&&t.tagName==="svg"}const Zt=t=>!!(t&&t.getVelocity),HG=[...k2,ft,Gi],qG=t=>HG.find(R2(t)),F2=y.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function GG(t=!0){const e=y.useContext(A_);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=y.useId();y.useEffect(()=>{if(t)return s(i)},[t]);const o=y.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const U2=y.createContext({strict:!1}),X1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Rl={};for(const t in X1)Rl[t]={isEnabled:e=>X1[t].some(n=>!!e[n])};function KG(t){for(const e in t)Rl[e]={...Rl[e],...t[e]}}const QG=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function op(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||QG.has(t)}let $2=t=>!op(t);function YG(t){typeof t=="function"&&($2=e=>e.startsWith("on")?!op(e):t(e))}try{YG(require("@emotion/is-prop-valid").default)}catch{}function XG(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||($2(s)||n===!0&&op(s)||!e&&!op(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const ym=y.createContext({});function vm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function qu(t){return typeof t=="string"||Array.isArray(t)}const K_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Q_=["initial",...K_];function wm(t){return vm(t.animate)||Q_.some(e=>qu(t[e]))}function B2(t){return!!(wm(t)||t.variants)}function ZG(t,e){if(wm(t)){const{initial:n,animate:r}=t;return{initial:n===!1||qu(n)?n:void 0,animate:qu(r)?r:void 0}}return t.inherit!==!1?e:{}}function JG(t){const{initial:e,animate:n}=ZG(t,y.useContext(ym));return y.useMemo(()=>({initial:e,animate:n}),[Z1(e),Z1(n)])}function Z1(t){return Array.isArray(t)?t.join(" "):t}const Gu={};function eK(t){for(const e in t)Gu[e]=t[e],O_(e)&&(Gu[e].isCSSVariable=!0)}function z2(t,{layout:e,layoutId:n}){return Zl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Gu[t]||t==="opacity")}const tK={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},nK=Xl.length;function rK(t,e,n){let r="",s=!0;for(let i=0;i<nK;i++){const o=Xl[i],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=O2(a,H_[o]);if(!l){s=!1;const d=tK[o]||o;r+=`${d}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function Y_(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(Zl.has(l)){o=!0;continue}else if(O_(l)){s[l]=c;continue}else{const d=O2(c,H_[l]);l.startsWith("origin")?(a=!0,i[l]=d):r[l]=d}}if(e.transform||(o||n?r.transform=rK(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=i;r.transformOrigin=`${l} ${c} ${d}`}}const X_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function W2(t,e,n){for(const r in e)!Zt(e[r])&&!z2(r,n)&&(t[r]=e[r])}function sK({transformTemplate:t},e){return y.useMemo(()=>{const n=X_();return Y_(n,e,t),Object.assign({},n.vars,n.style)},[e])}function iK(t,e){const n=t.style||{},r={};return W2(r,n,t),Object.assign(r,sK(t,e)),r}function oK(t,e){const n={},r=iK(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const aK={offset:"stroke-dashoffset",array:"stroke-dasharray"},lK={offset:"strokeDashoffset",array:"strokeDasharray"};function cK(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?aK:lK;t[i.offset]=ce.transform(-r);const o=ce.transform(e),a=ce.transform(n);t[i.array]=`${o} ${a}`}function H2(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...a},l,c,d){if(Y_(t,a,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:p}=t;f.transform&&(p.transform=f.transform,delete f.transform),(p.transform||f.transformOrigin)&&(p.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),p.transform&&(p.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete f.transformBox),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),s!==void 0&&cK(f,s,i,o,!1)}const q2=()=>({...X_(),attrs:{}}),G2=t=>typeof t=="string"&&t.toLowerCase()==="svg";function uK(t,e,n,r){const s=y.useMemo(()=>{const i=q2();return H2(i,e,G2(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};W2(i,t.style,t),s.style={...i,...s.style}}return s}const dK=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Z_(t){return typeof t!="string"||t.includes("-")?!1:!!(dK.indexOf(t)>-1||/[A-Z]/u.test(t))}function hK(t,e,n,{latestValues:r},s,i=!1){const a=(Z_(t)?uK:oK)(e,r,s,t),l=XG(e,typeof t=="string",i),c=t!==y.Fragment?{...l,...a,ref:n}:{},{children:d}=e,f=y.useMemo(()=>Zt(d)?d.get():d,[d]);return y.createElement(t,{...c,children:f})}function J1(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function J_(t,e,n,r){if(typeof e=="function"){const[s,i]=J1(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=J1(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function ef(t){return Zt(t)?t.get():t}function fK({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:pK(n,r,s,t),renderState:e()}}function pK(t,e,n,r){const s={},i=r(t,{});for(const p in i)s[p]=ef(i[p]);let{initial:o,animate:a}=t;const l=wm(t),c=B2(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?a:o;if(f&&typeof f!="boolean"&&!vm(f)){const p=Array.isArray(f)?f:[f];for(let m=0;m<p.length;m++){const b=J_(t,p[m]);if(b){const{transitionEnd:v,transition:x,...w}=b;for(const E in w){let T=w[E];if(Array.isArray(T)){const I=d?T.length-1:0;T=T[I]}T!==null&&(s[E]=T)}for(const E in v)s[E]=v[E]}}}return s}const K2=t=>(e,n)=>{const r=y.useContext(ym),s=y.useContext(A_),i=()=>fK(t,e,r,s);return n?i():KH(i)};function ex(t,e,n){var i;const{style:r}=t,s={};for(const o in r)(Zt(r[o])||e.style&&Zt(e.style[o])||z2(o,t)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const mK=K2({scrapeMotionValuesFromProps:ex,createRenderState:X_});function Q2(t,e,n){const r=ex(t,e,n);for(const s in t)if(Zt(t[s])||Zt(e[s])){const i=Xl.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const gK=K2({scrapeMotionValuesFromProps:Q2,createRenderState:q2}),yK=Symbol.for("motionComponentSymbol");function La(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function vK(t,e,n){return y.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):La(n)&&(n.current=r))},[e])}const tx=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),wK="framerAppearId",Y2="data-"+tx(wK),X2=y.createContext({});function _K(t,e,n,r,s){var v,x;const{visualElement:i}=y.useContext(ym),o=y.useContext(U2),a=y.useContext(A_),l=y.useContext(F2).reducedMotion,c=y.useRef(null);r=r||o.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:i,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const d=c.current,f=y.useContext(X2);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&xK(c.current,n,s,f);const p=y.useRef(!1);y.useInsertionEffect(()=>{d&&p.current&&d.update(n,a)});const m=n[Y2],b=y.useRef(!!m&&!((v=window.MotionHandoffIsComplete)!=null&&v.call(window,m))&&((x=window.MotionHasOptimisedAnimation)==null?void 0:x.call(window,m)));return QH(()=>{d&&(p.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),b.current&&d.animationState&&d.animationState.animateChanges())}),y.useEffect(()=>{d&&(!b.current&&d.animationState&&d.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)==null||w.call(window,m)}),b.current=!1),d.enteringChildren=void 0)}),d}function xK(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Z2(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&La(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:l,layoutRoot:c})}function Z2(t){if(t)return t.options.allowProjection!==!1?t.projection:Z2(t.parent)}function $g(t,{forwardMotionProps:e=!1}={},n,r){n&&KG(n);const s=Z_(t)?gK:mK;function i(a,l){let c;const d={...y.useContext(F2),...a,layoutId:EK(a)},{isStatic:f}=d,p=JG(a),m=s(a,f);if(!f&&S_){TK();const b=bK(d);c=b.MeasureLayout,p.visualElement=_K(t,m,d,r,b.ProjectionNode)}return h.jsxs(ym.Provider,{value:p,children:[c&&p.visualElement?h.jsx(c,{visualElement:p.visualElement,...d}):null,hK(t,a,vK(m,p.visualElement,l),m,f,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=y.forwardRef(i);return o[yK]=t,o}function EK({layoutId:t}){const e=y.useContext(QN).id;return e&&t!==void 0?e+"-"+t:t}function TK(t,e){y.useContext(U2).strict}function bK(t){const{drag:e,layout:n}=Rl;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function SK(t,e){if(typeof Proxy>"u")return $g;const n=new Map,r=(i,o)=>$g(i,o,t,e),s=(i,o)=>r(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,$g(o,void 0,t,e)),n.get(o))})}function J2({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function AK({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function CK(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Bg(t){return t===void 0||t===1}function Zv({scale:t,scaleX:e,scaleY:n}){return!Bg(t)||!Bg(e)||!Bg(n)}function _o(t){return Zv(t)||eD(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function eD(t){return eS(t.x)||eS(t.y)}function eS(t){return t&&t!=="0%"}function ap(t,e,n){const r=t-n,s=e*r;return n+s}function tS(t,e,n,r,s){return s!==void 0&&(t=ap(t,s,r)),ap(t,n,r)+e}function Jv(t,e=0,n=1,r,s){t.min=tS(t.min,e,n,r,s),t.max=tS(t.max,e,n,r,s)}function tD(t,{x:e,y:n}){Jv(t.x,e.translate,e.scale,e.originPoint),Jv(t.y,n.translate,n.scale,n.originPoint)}const nS=.999999999999,rS=1.0000000000001;function IK(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Ua(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,tD(t,o)),r&&_o(i.latestValues)&&Ua(t,i.latestValues))}e.x<rS&&e.x>nS&&(e.x=1),e.y<rS&&e.y>nS&&(e.y=1)}function Fa(t,e){t.min=t.min+e,t.max=t.max+e}function sS(t,e,n,r,s=.5){const i=et(t.min,t.max,s);Jv(t,e,n,i,r)}function Ua(t,e){sS(t.x,e.x,e.scaleX,e.scale,e.originX),sS(t.y,e.y,e.scaleY,e.scale,e.originY)}function nD(t,e){return J2(CK(t.getBoundingClientRect(),e))}function PK(t,e,n){const r=nD(t,n),{scroll:s}=e;return s&&(Fa(r.x,s.offset.x),Fa(r.y,s.offset.y)),r}const iS=()=>({translate:0,scale:1,origin:0,originPoint:0}),$a=()=>({x:iS(),y:iS()}),oS=()=>({min:0,max:0}),Et=()=>({x:oS(),y:oS()}),ew={current:null},rD={current:!1};function RK(){if(rD.current=!0,!!S_)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>ew.current=t.matches;t.addEventListener("change",e),e()}else ew.current=!1}const kK=new WeakMap;function NK(t,e,n){for(const r in e){const s=e[r],i=n[r];if(Zt(s))t.addValue(r,s);else if(Zt(i))t.addValue(r,Pl(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,Pl(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const aS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class DK{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=z_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=yn.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,Ye.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=wm(n),this.isVariantNode=B2(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in f){const m=f[p];l[p]!==void 0&&Zt(m)&&m.set(l[p])}}mount(e){var n;this.current=e,kK.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),rD.current||RK(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ew.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),qi(this.notifyUpdate),qi(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Zl.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Ye.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Rl){const n=Rl[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Et()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<aS.length;r++){const s=aS[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=NK(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Pl(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(YN(r)||ZN(r))?r=parseFloat(r):!qG(r)&&Gi.test(n)&&(r=D2(e,n)),this.setBaseTarget(e,Zt(r)?r.get():r)),Zt(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=J_(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Zt(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new k_),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){q_.render(this.render)}}class sD extends DK{constructor(){super(...arguments),this.KeyframeResolver=DG}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Zt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function iD(t,{style:e,vars:n},r,s){const i=t.style;let o;for(o in e)i[o]=e[o];s==null||s.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function OK(t){return window.getComputedStyle(t)}class MK extends sD{constructor(){super(...arguments),this.type="html",this.renderInstance=iD}readValueFromInstance(e,n){var r;if(Zl.has(n))return(r=this.projection)!=null&&r.isProjecting?Hv(n):Zq(e,n);{const s=OK(e),i=(O_(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return nD(e,n)}build(e,n,r){Y_(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return ex(e,n,r)}}const oD=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function jK(t,e,n,r){iD(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(oD.has(s)?s:tx(s),e.attrs[s])}class VK extends sD{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Et}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Zl.has(n)){const r=N2(n);return r&&r.default||0}return n=oD.has(n)?n:tx(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return Q2(e,n,r)}build(e,n,r){H2(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){jK(e,n,r,s)}mount(e){this.isSVGTag=G2(e.tagName),super.mount(e)}}const LK=(t,e)=>Z_(t)?new VK(e):new MK(e,{allowProjection:t!==y.Fragment});function el(t,e,n){const r=t.getProps();return J_(r,e,n!==void 0?n:r.custom,t)}const tw=t=>Array.isArray(t);function FK(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Pl(n))}function UK(t){return tw(t)?t[t.length-1]||0:t}function $K(t,e){const n=el(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=UK(i[o]);FK(t,o,a)}}function BK(t){return!!(Zt(t)&&t.add)}function nw(t,e){const n=t.getValue("willChange");if(BK(n))return n.add(e);if(!n&&js.WillChange){const r=new js.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function aD(t){return t.props[Y2]}const zK=t=>t!==null;function WK(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(zK),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[i]}const HK={type:"spring",stiffness:500,damping:25,restSpeed:10},qK=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),GK={type:"keyframes",duration:.8},KK={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},QK=(t,{keyframes:e})=>e.length>2?GK:Zl.has(t)?t.startsWith("scale")?qK(e[1]):HK:KK;function YK({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const nx=(t,e,n,r={},s,i)=>o=>{const a=W_(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Gr(l);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:p=>{e.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:s};YK(a)||Object.assign(d,QK(t,d)),d.duration&&(d.duration=Gr(d.duration)),d.repeatDelay&&(d.repeatDelay=Gr(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(Yv(d),d.delay===0&&(f=!0)),(js.instantAnimations||js.skipAnimations)&&(f=!0,Yv(d),d.delay=0),d.allowFlatten=!a.type&&!a.ease,f&&!i&&e.get()!==void 0){const p=WK(d.keyframes,a);if(p!==void 0){Ye.update(()=>{d.onUpdate(p),d.onComplete()});return}}return a.isSync?new B_(d):new xG(d)};function XK({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function lD(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(i=r);const l=[],c=s&&t.animationState&&t.animationState.getState()[s];for(const d in a){const f=t.getValue(d,t.latestValues[d]??null),p=a[d];if(p===void 0||c&&XK(c,d))continue;const m={delay:n,...W_(i||{},d)},b=f.get();if(b!==void 0&&!f.isAnimating&&!Array.isArray(p)&&p===b&&!m.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const w=aD(t);if(w){const E=window.MotionHandoffAnimation(w,d,Ye);E!==null&&(m.startTime=E,v=!0)}}nw(t,d),f.start(nx(d,f,p,t.shouldReduceMotion&&P2.has(d)?{type:!1}:m,t,v));const x=f.animation;x&&l.push(x)}return o&&Promise.all(l).then(()=>{Ye.update(()=>{o&&$K(t,o)})}),l}function cD(t,e,n,r=0,s=1){const i=Array.from(t).sort((c,d)=>c.sortNodePosition(d)).indexOf(e),o=t.size,a=(o-1)*r;return typeof n=="function"?n(i,o):s===1?i*r:a-i*r}function rw(t,e,n={}){var l;const r=el(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(lD(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:p}=s;return ZK(t,e,c,d,f,p,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[c,d]=a==="beforeChildren"?[i,o]:[o,i];return c().then(()=>d())}else return Promise.all([i(),o(n.delay)])}function ZK(t,e,n=0,r=0,s=0,i=1,o){const a=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),a.push(rw(l,e,{...o,delay:n+(typeof r=="function"?0:r)+cD(t.variantChildren,l,r,s,i)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(a)}function JK(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>rw(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=rw(t,e,n);else{const s=typeof e=="function"?el(t,e,n.custom):e;r=Promise.all(lD(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function uD(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const eQ=Q_.length;function dD(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?dD(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<eQ;n++){const r=Q_[n],s=t.props[r];(qu(s)||s===!1)&&(e[r]=s)}return e}const tQ=[...K_].reverse(),nQ=K_.length;function rQ(t){return e=>Promise.all(e.map(({animation:n,options:r})=>JK(t,n,r)))}function sQ(t){let e=rQ(t),n=lS(),r=!0;const s=l=>(c,d)=>{var p;const f=el(t,d,l==="exit"?(p=t.presenceContext)==null?void 0:p.custom:void 0);if(f){const{transition:m,transitionEnd:b,...v}=f;c={...c,...v,...b}}return c};function i(l){e=l(t)}function o(l){const{props:c}=t,d=dD(t.parent)||{},f=[],p=new Set;let m={},b=1/0;for(let x=0;x<nQ;x++){const w=tQ[x],E=n[w],T=c[w]!==void 0?c[w]:d[w],I=qu(T),C=w===l?E.isActive:null;C===!1&&(b=x);let M=T===d[w]&&T!==c[w]&&I;if(M&&r&&t.manuallyAnimateOnMount&&(M=!1),E.protectedKeys={...m},!E.isActive&&C===null||!T&&!E.prevProp||vm(T)||typeof T=="boolean")continue;const A=iQ(E.prevProp,T);let S=A||w===l&&E.isActive&&!M&&I||x>b&&I,P=!1;const N=Array.isArray(T)?T:[T];let R=N.reduce(s(w),{});C===!1&&(R={});const{prevResolvedValues:O={}}=E,D={...O,...R},W=Z=>{S=!0,p.has(Z)&&(P=!0,p.delete(Z)),E.needsAnimating[Z]=!0;const L=t.getValue(Z);L&&(L.liveStyle=!1)};for(const Z in D){const L=R[Z],U=O[Z];if(m.hasOwnProperty(Z))continue;let K=!1;tw(L)&&tw(U)?K=!uD(L,U):K=L!==U,K?L!=null?W(Z):p.add(Z):L!==void 0&&p.has(Z)?W(Z):E.protectedKeys[Z]=!0}E.prevProp=T,E.prevResolvedValues=R,E.isActive&&(m={...m,...R}),r&&t.blockInitialAnimation&&(S=!1);const ie=M&&A;S&&(!ie||P)&&f.push(...N.map(Z=>{const L={type:w};if(typeof Z=="string"&&r&&!ie&&t.manuallyAnimateOnMount&&t.parent){const{parent:U}=t,K=el(U,Z);if(U.enteringChildren&&K){const{delayChildren:ue}=K.transition||{};L.delay=cD(U.enteringChildren,t,ue)}}return{animation:Z,options:L}}))}if(p.size){const x={};if(typeof c.initial!="boolean"){const w=el(t,Array.isArray(c.initial)?c.initial[0]:c.initial);w&&w.transition&&(x.transition=w.transition)}p.forEach(w=>{const E=t.getBaseTarget(w),T=t.getValue(w);T&&(T.liveStyle=!0),x[w]=E??null}),f.push({animation:x})}let v=!!f.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(v=!1),r=!1,v?e(f):Promise.resolve()}function a(l,c){var f;if(n[l].isActive===c)return Promise.resolve();(f=t.variantChildren)==null||f.forEach(p=>{var m;return(m=p.animationState)==null?void 0:m.setActive(l,c)}),n[l].isActive=c;const d=o(l);for(const p in n)n[p].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=lS()}}}function iQ(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!uD(e,t):!1}function po(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function lS(){return{animate:po(!0),whileInView:po(),whileHover:po(),whileTap:po(),whileDrag:po(),whileFocus:po(),exit:po()}}class so{constructor(e){this.isMounted=!1,this.node=e}update(){}}class oQ extends so{constructor(e){super(e),e.animationState||(e.animationState=sQ(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();vm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let aQ=0;class lQ extends so{constructor(){super(...arguments),this.id=aQ++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const cQ={animation:{Feature:oQ},exit:{Feature:lQ}};function Ku(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Pd(t){return{point:{x:t.pageX,y:t.pageY}}}const uQ=t=>e=>G_(e)&&t(e,Pd(e));function iu(t,e,n,r){return Ku(t,e,uQ(n),r)}const hD=1e-4,dQ=1-hD,hQ=1+hD,fD=.01,fQ=0-fD,pQ=0+fD;function an(t){return t.max-t.min}function mQ(t,e,n){return Math.abs(t-e)<=n}function cS(t,e,n,r=.5){t.origin=r,t.originPoint=et(e.min,e.max,t.origin),t.scale=an(n)/an(e),t.translate=et(n.min,n.max,t.origin)-t.originPoint,(t.scale>=dQ&&t.scale<=hQ||isNaN(t.scale))&&(t.scale=1),(t.translate>=fQ&&t.translate<=pQ||isNaN(t.translate))&&(t.translate=0)}function ou(t,e,n,r){cS(t.x,e.x,n.x,r?r.originX:void 0),cS(t.y,e.y,n.y,r?r.originY:void 0)}function uS(t,e,n){t.min=n.min+e.min,t.max=t.min+an(e)}function gQ(t,e,n){uS(t.x,e.x,n.x),uS(t.y,e.y,n.y)}function dS(t,e,n){t.min=e.min-n.min,t.max=t.min+an(e)}function lp(t,e,n){dS(t.x,e.x,n.x),dS(t.y,e.y,n.y)}function On(t){return[t("x"),t("y")]}const pD=({current:t})=>t?t.ownerDocument.defaultView:null,hS=(t,e)=>Math.abs(t-e);function yQ(t,e){const n=hS(t.x,e.x),r=hS(t.y,e.y);return Math.sqrt(n**2+r**2)}class mD{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=Wg(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,b=yQ(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!b)return;const{point:v}=p,{timestamp:x}=Vt;this.history.push({...v,timestamp:x});const{onStart:w,onMove:E}=this.handlers;m||(w&&w(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,p)},this.handlePointerMove=(p,m)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=zg(m,this.transformPagePoint),Ye.update(this.updatePoint,!0)},this.handlePointerUp=(p,m)=>{this.end();const{onEnd:b,onSessionEnd:v,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Wg(p.type==="pointercancel"?this.lastMoveEventInfo:zg(m,this.transformPagePoint),this.history);this.startEvent&&b&&b(p,w),v&&v(p,w)},!G_(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const a=Pd(e),l=zg(a,this.transformPagePoint),{point:c}=l,{timestamp:d}=Vt;this.history=[{...c,timestamp:d}];const{onSessionStart:f}=n;f&&f(e,Wg(l,this.history)),this.removeListeners=Ad(iu(this.contextWindow,"pointermove",this.handlePointerMove),iu(this.contextWindow,"pointerup",this.handlePointerUp),iu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),qi(this.updatePoint)}}function zg(t,e){return e?{point:e(t.point)}:t}function fS(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Wg({point:t},e){return{point:t,delta:fS(t,gD(e)),offset:fS(t,vQ(e)),velocity:wQ(e,.1)}}function vQ(t){return t[0]}function gD(t){return t[t.length-1]}function wQ(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=gD(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Gr(e)));)n--;if(!r)return{x:0,y:0};const i=$n(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function _Q(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?et(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?et(n,t,r.max):Math.min(t,n)),t}function pS(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function xQ(t,{top:e,left:n,bottom:r,right:s}){return{x:pS(t.x,n,s),y:pS(t.y,e,r)}}function mS(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function EQ(t,e){return{x:mS(t.x,e.x),y:mS(t.y,e.y)}}function TQ(t,e){let n=.5;const r=an(t),s=an(e);return s>r?n=zu(e.min,e.max-r,t.min):r>s&&(n=zu(t.min,t.max-s,e.min)),Ms(0,1,n)}function bQ(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const sw=.35;function SQ(t=sw){return t===!1?t=0:t===!0&&(t=sw),{x:gS(t,"left","right"),y:gS(t,"top","bottom")}}function gS(t,e,n){return{min:yS(t,e),max:yS(t,n)}}function yS(t,e){return typeof t=="number"?t:t[e]||0}const AQ=new WeakMap;class CQ{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Et(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Pd(f).point)},o=(f,p)=>{const{drag:m,dragPropagation:b,onDragStart:v}=this.getProps();if(m&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=LG(m),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),On(w=>{let E=this.getAxisMotionValue(w).get()||0;if(Kr.test(E)){const{projection:T}=this.visualElement;if(T&&T.layout){const I=T.layout.layoutBox[w];I&&(E=an(I)*(parseFloat(E)/100))}}this.originPoint[w]=E}),v&&Ye.postRender(()=>v(f,p)),nw(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},a=(f,p)=>{this.latestPointerEvent=f,this.latestPanInfo=p;const{dragPropagation:m,dragDirectionLock:b,onDirectionLock:v,onDrag:x}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:w}=p;if(b&&this.currentDirection===null){this.currentDirection=IQ(w),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",p.point,w),this.updateAxis("y",p.point,w),this.visualElement.render(),x&&x(f,p)},l=(f,p)=>{this.latestPointerEvent=f,this.latestPanInfo=p,this.stop(f,p),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>On(f=>{var p;return this.getAnimationState(f)==="paused"&&((p=this.getAxisMotionValue(f).animation)==null?void 0:p.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new mD(e,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:pD(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&Ye.postRender(()=>a(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Eh(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=_Q(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;e&&La(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=xQ(r.layoutBox,e):this.constraints=!1,this.elastic=SQ(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&On(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=bQ(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!La(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=PK(r,s.root,this.visualElement.getTransformPagePoint());let o=EQ(s.layout.layoutBox,i);if(n){const a=n(AK(o));this.hasMutatedConstraints=!!a,a&&(o=J2(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=On(d=>{if(!Eh(d,n,this.currentDirection))return;let f=l&&l[d]||{};o&&(f={min:0,max:0});const p=s?200:1e6,m=s?40:1e7,b={type:"inertia",velocity:r?e[d]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,b)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return nw(this.visualElement,e),r.start(nx(e,r,0,n,this.visualElement,!1))}stopAnimation(){On(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){On(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){On(n=>{const{drag:r}=this.getProps();if(!Eh(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-et(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!La(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};On(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=TQ({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),On(o=>{if(!Eh(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(et(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;AQ.set(this.visualElement,this);const e=this.visualElement.current,n=iu(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();La(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Ye.read(r);const o=Ku(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(On(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=sw,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function Eh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function IQ(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class PQ extends so{constructor(e){super(e),this.removeGroupControls=Wn,this.removeListeners=Wn,this.controls=new CQ(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Wn}unmount(){this.removeGroupControls(),this.removeListeners()}}const vS=t=>(e,n)=>{t&&Ye.postRender(()=>t(e,n))};class RQ extends so{constructor(){super(...arguments),this.removePointerDownListener=Wn}onPointerDown(e){this.session=new mD(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:pD(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:vS(e),onStart:vS(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&Ye.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=iu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const tf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function wS(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const bc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ce.test(t))t=parseFloat(t);else return t;const n=wS(t,e.target.x),r=wS(t,e.target.y);return`${n}% ${r}%`}},kQ={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Gi.parse(t);if(s.length>5)return r;const i=Gi.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const c=et(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}};let Hg=!1;class NQ extends y.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;eK(DQ),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),Hg&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),tf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,Hg=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||Ye.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),q_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;Hg=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function yD(t){const[e,n]=GG(),r=y.useContext(QN);return h.jsx(NQ,{...t,layoutGroup:r,switchLayoutGroup:y.useContext(X2),isPresent:e,safeToRemove:n})}const DQ={borderRadius:{...bc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:bc,borderTopRightRadius:bc,borderBottomLeftRadius:bc,borderBottomRightRadius:bc,boxShadow:kQ};function OQ(t,e,n){const r=Zt(t)?t:Pl(t);return r.start(nx("",r,e,n)),r.animation}const MQ=(t,e)=>t.depth-e.depth;class jQ{constructor(){this.children=[],this.isDirty=!1}add(e){C_(this.children,e),this.isDirty=!0}remove(e){I_(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(MQ),this.isDirty=!1,this.children.forEach(e)}}function VQ(t,e){const n=yn.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(qi(r),t(i-e))};return Ye.setup(r,!0),()=>qi(r)}const vD=["TopLeft","TopRight","BottomLeft","BottomRight"],LQ=vD.length,_S=t=>typeof t=="string"?parseFloat(t):t,xS=t=>typeof t=="number"||ce.test(t);function FQ(t,e,n,r,s,i){s?(t.opacity=et(0,n.opacity??1,UQ(r)),t.opacityExit=et(e.opacity??1,0,$Q(r))):i&&(t.opacity=et(e.opacity??1,n.opacity??1,r));for(let o=0;o<LQ;o++){const a=`border${vD[o]}Radius`;let l=ES(e,a),c=ES(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||xS(l)===xS(c)?(t[a]=Math.max(et(_S(l),_S(c),r),0),(Kr.test(c)||Kr.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=et(e.rotate||0,n.rotate||0,r))}function ES(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const UQ=wD(0,.5,o2),$Q=wD(.5,.95,Wn);function wD(t,e,n){return r=>r<t?0:r>e?1:n(zu(t,e,r))}function TS(t,e){t.min=e.min,t.max=e.max}function tr(t,e){TS(t.x,e.x),TS(t.y,e.y)}function bS(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function SS(t,e,n,r,s){return t-=e,t=ap(t,1/n,r),s!==void 0&&(t=ap(t,1/s,r)),t}function BQ(t,e=0,n=1,r=.5,s,i=t,o=t){if(Kr.test(e)&&(e=parseFloat(e),e=et(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=et(i.min,i.max,r);t===i&&(a-=e),t.min=SS(t.min,e,n,a,s),t.max=SS(t.max,e,n,a,s)}function AS(t,e,[n,r,s],i,o){BQ(t,e[n],e[r],e[s],e.scale,i,o)}const zQ=["x","scaleX","originX"],WQ=["y","scaleY","originY"];function CS(t,e,n,r){AS(t.x,e,zQ,n?n.x:void 0,r?r.x:void 0),AS(t.y,e,WQ,n?n.y:void 0,r?r.y:void 0)}function IS(t){return t.translate===0&&t.scale===1}function _D(t){return IS(t.x)&&IS(t.y)}function PS(t,e){return t.min===e.min&&t.max===e.max}function HQ(t,e){return PS(t.x,e.x)&&PS(t.y,e.y)}function RS(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function xD(t,e){return RS(t.x,e.x)&&RS(t.y,e.y)}function kS(t){return an(t.x)/an(t.y)}function NS(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class qQ{constructor(){this.members=[]}add(e){C_(this.members,e),e.scheduleRender()}remove(e){if(I_(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function GQ(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:f,rotateY:p,skewX:m,skewY:b}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),f&&(r+=`rotateX(${f}deg) `),p&&(r+=`rotateY(${p}deg) `),m&&(r+=`skewX(${m}deg) `),b&&(r+=`skewY(${b}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const qg=["","X","Y","Z"],KQ=1e3;let QQ=0;function Gg(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function ED(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=aD(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ye,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&ED(r)}function TD({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=QQ++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(ZQ),this.nodes.forEach(nY),this.nodes.forEach(rY),this.nodes.forEach(JQ)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new jQ)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new k_),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=L2(o)&&!WG(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let d,f=0;const p=()=>this.root.updateBlockedByResize=!1;Ye.read(()=>{f=window.innerWidth}),t(o,()=>{const m=window.innerWidth;m!==f&&(f=m,this.root.updateBlockedByResize=!0,d&&d(),d=VQ(p,250),tf.hasAnimatedSinceResize&&(tf.hasAnimatedSinceResize=!1,this.nodes.forEach(MS)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||c.getDefaultTransition()||lY,{onLayoutAnimationStart:v,onLayoutAnimationComplete:x}=c.getProps(),w=!this.targetLayout||!xD(this.targetLayout,m),E=!f&&p;if(this.options.layoutRoot||this.resumeFrom||E||f&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const T={...W_(b,"layout"),onPlay:v,onComplete:x};(c.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T),this.setAnimationOrigin(d,E)}else f||MS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),qi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(sY),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&ED(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(DS);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(OS);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(tY),this.nodes.forEach(YQ),this.nodes.forEach(XQ)):this.nodes.forEach(OS),this.clearAllSnapshots();const a=yn.now();Vt.delta=Ms(0,1e3/60,a-Vt.timestamp),Vt.timestamp=a,Vt.isProcessing=!0,Mg.update.process(Vt),Mg.preRender.process(Vt),Mg.render.process(Vt),Vt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,q_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(eY),this.sharedNodes.forEach(iY)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ye.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ye.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!an(this.snapshot.measuredBox.x)&&!an(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Et(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!_D(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||_o(this.latestValues)||d)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),cY(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return Et();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(uY))){const{scroll:d}=this.root;d&&(Fa(a.x,d.offset.x),Fa(a.y,d.offset.y))}return a}removeElementScroll(o){var l;const a=Et();if(tr(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:f,options:p}=d;d!==this.root&&f&&p.layoutScroll&&(f.wasRoot&&tr(a,o),Fa(a.x,f.offset.x),Fa(a.y,f.offset.y))}return a}applyTransform(o,a=!1){const l=Et();tr(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Ua(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),_o(d.latestValues)&&Ua(l,d.latestValues)}return _o(this.latestValues)&&Ua(l,this.latestValues),l}removeTransform(o){const a=Et();tr(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!_o(c.latestValues))continue;Zv(c.latestValues)&&c.updateSnapshot();const d=Et(),f=c.measurePageBox();tr(d,f),CS(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return _o(this.latestValues)&&CS(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Vt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var m;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!this.layout||!(d||f))return;this.resolvedRelativeTargetAt=Vt.timestamp;const p=this.getClosestProjectingParent();p&&this.linkedParentVersion!==p.layoutVersion&&!p.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(p&&p.layout?this.createRelativeTarget(p,this.layout.layoutBox,p.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Et(),this.targetWithTransforms=Et()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),gQ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):tr(this.target,this.layout.layoutBox),tD(this.target,this.targetDelta)):tr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?this.createRelativeTarget(p,this.target,p.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Zv(this.parent.latestValues)||eD(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,a,l){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Et(),this.relativeTargetOrigin=Et(),lp(this.relativeTargetOrigin,a,l),tr(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var b;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Vt.timestamp&&(l=!1),l)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;tr(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;IK(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Et());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(bS(this.prevProjectionDelta.x,this.projectionDelta.x),bS(this.prevProjectionDelta.y,this.projectionDelta.y)),ou(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!NS(this.projectionDelta.x,this.prevProjectionDelta.x)||!NS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=$a(),this.projectionDelta=$a(),this.projectionDeltaWithTransform=$a()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},f=$a();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Et(),m=l?l.source:void 0,b=this.layout?this.layout.source:void 0,v=m!==b,x=this.getStack(),w=!x||x.members.length<=1,E=!!(v&&!w&&this.options.crossfade===!0&&!this.path.some(aY));this.animationProgress=0;let T;this.mixTargetDelta=I=>{const C=I/1e3;jS(f.x,o.x,C),jS(f.y,o.y,C),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(lp(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),oY(this.relativeTarget,this.relativeTargetOrigin,p,C),T&&HQ(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=Et()),tr(T,this.relativeTarget)),v&&(this.animationValues=d,FQ(d,c,this.latestValues,C,E,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(qi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ye.update(()=>{tf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Pl(0)),this.currentAnimation=OQ(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(KQ),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&bD(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Et();const f=an(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const p=an(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}tr(a,l),Ua(a,d),ou(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new qQ),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&Gg("z",o,c,this.animationValues);for(let d=0;d<qg.length;d++)Gg(`rotate${qg[d]}`,o,c,this.animationValues),Gg(`skew${qg[d]}`,o,c,this.animationValues);o.render();for(const d in c)o.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=ef(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=ef(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!_o(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=c.animationValues||c.latestValues;this.applyTransformsToTarget();let f=GQ(this.projectionDeltaWithTransform,this.treeScale,d);l&&(f=l(d,f)),o.transform=f;const{x:p,y:m}=this.projectionDelta;o.transformOrigin=`${p.origin*100}% ${m.origin*100}% 0`,c.animationValues?o.opacity=c===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=c===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const b in Gu){if(d[b]===void 0)continue;const{correct:v,applyTo:x,isCSSVariable:w}=Gu[b],E=f==="none"?d[b]:v(d[b],c);if(x){const T=x.length;for(let I=0;I<T;I++)o[x[I]]=E}else w?this.options.visualElement.renderState.vars[b]=E:o[b]=E}this.options.layoutId&&(o.pointerEvents=c===this?ef(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(DS),this.root.sharedNodes.clear()}}}function YQ(t){t.updateLayout()}function XQ(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?On(f=>{const p=o?e.measuredBox[f]:e.layoutBox[f],m=an(p);p.min=r[f].min,p.max=p.min+m}):bD(i,e.layoutBox,r)&&On(f=>{const p=o?e.measuredBox[f]:e.layoutBox[f],m=an(r[f]);p.max=p.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+m)});const a=$a();ou(a,r,e.layoutBox);const l=$a();o?ou(l,t.applyTransform(s,!0),e.measuredBox):ou(l,r,e.layoutBox);const c=!_D(a);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:m}=f;if(p&&m){const b=Et();lp(b,e.layoutBox,p.layoutBox);const v=Et();lp(v,r,m.layoutBox),xD(b,v)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=b,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function ZQ(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function JQ(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function eY(t){t.clearSnapshot()}function DS(t){t.clearMeasurements()}function OS(t){t.isLayoutDirty=!1}function tY(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function MS(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function nY(t){t.resolveTargetDelta()}function rY(t){t.calcProjection()}function sY(t){t.resetSkewAndRotation()}function iY(t){t.removeLeadSnapshot()}function jS(t,e,n){t.translate=et(e.translate,0,n),t.scale=et(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function VS(t,e,n,r){t.min=et(e.min,n.min,r),t.max=et(e.max,n.max,r)}function oY(t,e,n,r){VS(t.x,e.x,n.x,r),VS(t.y,e.y,n.y,r)}function aY(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const lY={duration:.45,ease:[.4,0,.1,1]},LS=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),FS=LS("applewebkit/")&&!LS("chrome/")?Math.round:Wn;function US(t){t.min=FS(t.min),t.max=FS(t.max)}function cY(t){US(t.x),US(t.y)}function bD(t,e,n){return t==="position"||t==="preserve-aspect"&&!mQ(kS(e),kS(n),.2)}function uY(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const dY=TD({attachResizeListener:(t,e)=>Ku(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Kg={current:void 0},SD=TD({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Kg.current){const t=new dY({});t.mount(window),t.setOptions({layoutScroll:!0}),Kg.current=t}return Kg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),hY={pan:{Feature:RQ},drag:{Feature:PQ,ProjectionNode:SD,MeasureLayout:yD}};function $S(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&Ye.postRender(()=>i(e,Pd(e)))}class fY extends so{mount(){const{current:e}=this.node;e&&(this.unmount=FG(e,(n,r)=>($S(this.node,r,"Start"),s=>$S(this.node,s,"End"))))}unmount(){}}class pY extends so{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ad(Ku(this.node.current,"focus",()=>this.onFocus()),Ku(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function BS(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&Ye.postRender(()=>i(e,Pd(e)))}class mY extends so{mount(){const{current:e}=this.node;e&&(this.unmount=zG(e,(n,r)=>(BS(this.node,r,"Start"),(s,{success:i})=>BS(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const iw=new WeakMap,Qg=new WeakMap,gY=t=>{const e=iw.get(t.target);e&&e(t)},yY=t=>{t.forEach(gY)};function vY({root:t,...e}){const n=t||document;Qg.has(n)||Qg.set(n,{});const r=Qg.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(yY,{root:t,...e})),r[s]}function wY(t,e,n){const r=vY(e);return iw.set(t,n),r.observe(t),()=>{iw.delete(t),r.unobserve(t)}}const _Y={some:0,all:1};class xY extends so{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:_Y[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),p=c?d:f;p&&p(l)};return wY(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(EY(e,n))&&this.startObserver()}unmount(){}}function EY({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const TY={inView:{Feature:xY},tap:{Feature:mY},focus:{Feature:pY},hover:{Feature:fY}},bY={layout:{ProjectionNode:SD,MeasureLayout:yD}},SY={...cQ,...TY,...hY,...bY},kl=SK(SY,LK);function Sc({className:t,delay:e=0,width:n=400,height:r=100,rotate:s=0,gradient:i="from-primary/[0.15]"}){return h.jsx(kl.div,{initial:{opacity:0,y:-150,rotate:s-15},animate:{opacity:1,y:0,rotate:s},transition:{duration:2.4,delay:e,ease:[.23,.86,.39,.96],opacity:{duration:1.2}},className:he("absolute",t),children:h.jsx(kl.div,{animate:{y:[0,15,0]},transition:{duration:12,repeat:Number.POSITIVE_INFINITY,ease:"easeInOut"},style:{width:n,height:r},className:"relative flex items-center justify-center",children:h.jsx(wl,{className:he("w-full h-full",i.replace("from-","text-").replace("/[0.15]",""),"fill-current opacity-15","drop-shadow-[0_8px_32px_rgba(0,0,0,0.08)]"),strokeWidth:.5})})})}function AY({title1:t="Find Your Best Self",title2:e="on Dating Apps"}){const n={hidden:{opacity:0,y:30},visible:r=>({opacity:1,y:0,transition:{duration:1,delay:.5+r*.2,ease:[.25,.4,.25,1]}})};return h.jsxs("div",{className:"relative min-h-screen w-full flex items-center justify-center overflow-hidden bg-gradient-to-br from-background via-primary/5 to-accent/5",children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/[0.08] via-transparent to-accent/[0.08] blur-3xl"}),h.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[h.jsx(Sc,{delay:.3,width:180,height:180,rotate:12,gradient:"from-primary",className:"left-[-5%] md:left-[0%] top-[15%] md:top-[20%]"}),h.jsx(Sc,{delay:.5,width:150,height:150,rotate:-15,gradient:"from-rose-500",className:"right-[0%] md:right-[5%] top-[70%] md:top-[75%]"}),h.jsx(Sc,{delay:.4,width:100,height:100,rotate:-8,gradient:"from-violet-500",className:"left-[8%] md:left-[15%] bottom-[8%] md:bottom-[15%]"}),h.jsx(Sc,{delay:.6,width:80,height:80,rotate:20,gradient:"from-amber-500",className:"right-[18%] md:right-[25%] top-[12%] md:top-[18%]"}),h.jsx(Sc,{delay:.7,width:60,height:60,rotate:-25,gradient:"from-cyan-500",className:"left-[25%] md:left-[30%] top-[8%] md:top-[12%]"})]}),h.jsx("div",{className:"relative z-10 container mx-auto px-4 md:px-6",children:h.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[h.jsx(kl.div,{custom:0,variants:n,initial:"hidden",animate:"visible",children:h.jsxs("h1",{className:"text-4xl sm:text-6xl md:text-8xl font-bold mb-6 md:mb-8 tracking-tight",children:[h.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-b from-foreground to-foreground/70",children:t}),h.jsx("br",{}),h.jsx("span",{className:he("bg-clip-text text-transparent bg-gradient-to-r from-primary via-primary/90 to-accent"),children:e})]})}),h.jsx(kl.div,{custom:1,variants:n,initial:"hidden",animate:"visible",children:h.jsx("p",{className:"text-base sm:text-lg md:text-xl text-muted-foreground mb-2 leading-relaxed font-light tracking-wide max-w-xl mx-auto px-4",children:"Get AI-powered insights to optimize your dating profile and make meaningful connections."})})]})}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background/80 via-transparent to-background/60 pointer-events-none"})]})}const CY=()=>{const{user:t,loading:e,signOut:n}=Ql(),r=ia(),s=()=>{const i=document.getElementById("about-section");i&&i.scrollIntoView({behavior:"smooth",block:"start"})};return e?h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):h.jsxs("div",{className:"min-h-screen",children:[h.jsxs("nav",{className:"absolute top-0 left-0 right-0 z-20 container mx-auto px-4 py-4 flex justify-between items-center","aria-label":"Main navigation",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(wl,{className:"w-6 h-6 text-primary fill-primary"}),h.jsx("span",{className:"font-semibold text-lg",children:"Profile Analyzer"})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs(Oe,{variant:"ghost",onClick:s,"aria-label":"Scroll to about section",children:[h.jsx(yP,{className:"w-4 h-4 mr-2","aria-hidden":!0}),"About"]}),t?h.jsxs(h.Fragment,{children:[h.jsxs(Oe,{variant:"ghost",onClick:()=>r("/dashboard"),"aria-label":"Go to Dashboard",children:[h.jsx(Q4,{className:"w-4 h-4 mr-2","aria-hidden":!0}),"Dashboard"]}),h.jsxs(Oe,{variant:"ghost",onClick:n,"aria-label":"Sign out",children:[h.jsx(vP,{className:"w-4 h-4 mr-2","aria-hidden":!0}),"Sign Out"]})]}):h.jsx(Oe,{onClick:()=>r("/auth"),"aria-label":"Sign In",children:"Sign In"})]})]}),h.jsxs("section",{className:"relative","aria-label":"Hero section",children:[h.jsx(AY,{title1:"Find Your Best Self",title2:"on Dating Apps"}),h.jsx(kl.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:1,delay:1.1,ease:[.25,.4,.25,1]},className:"absolute bottom-32 left-0 right-0 z-20 flex flex-col sm:flex-row gap-4 justify-center px-4","aria-label":"Call to action buttons",children:t?h.jsxs(h.Fragment,{children:[h.jsxs(Oe,{size:"lg",onClick:()=>r("/dashboard"),className:"text-lg px-8 shadow-lg","aria-label":"Try For Free",children:["Try For Free",h.jsx(Kc,{className:"ml-2 w-5 h-5","aria-label":"Arrow right icon"})]}),h.jsx(Oe,{size:"lg",variant:"outline",onClick:s,className:"shadow-lg bg-background/80 backdrop-blur-sm","aria-label":"Learn More",children:"Learn More"})]}):h.jsxs(h.Fragment,{children:[h.jsxs(Oe,{size:"lg",onClick:()=>r("/auth"),className:"text-lg px-8 shadow-lg","aria-label":"Try For Free",children:["Try For Free",h.jsx(Kc,{className:"ml-2 w-5 h-5","aria-label":"Arrow right icon"})]}),h.jsx(Oe,{size:"lg",variant:"outline",onClick:s,className:"shadow-lg bg-background/80 backdrop-blur-sm","aria-label":"Learn More",children:"Learn More"})]})})]}),h.jsx("section",{className:"container mx-auto px-4 py-16","aria-label":"Features section",children:h.jsxs("div",{className:"grid md:grid-cols-3 gap-8 max-w-5xl mx-auto",children:[h.jsx(Fe,{className:"border-2 hover:border-primary/40 transition-all","aria-label":"Photo Analysis feature",children:h.jsxs(mt,{children:[h.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center mb-4","aria-label":"Camera icon",children:h.jsx(P4,{className:"w-6 h-6 text-primary","aria-label":"Camera icon"})}),h.jsx(gt,{"aria-label":"Photo Analysis title",children:"Photo Analysis"}),h.jsx(Dt,{"aria-label":"Photo Analysis description",children:"Computer vision evaluates lighting, composition, framing, and eye contact in your photos"})]})}),h.jsx(Fe,{className:"border-2 hover:border-primary/40 transition-all","aria-label":"Text Analysis feature",children:h.jsxs(mt,{children:[h.jsx("div",{className:"w-12 h-12 rounded-xl bg-accent/10 flex items-center justify-center mb-4","aria-label":"Message icon",children:h.jsx(wP,{className:"w-6 h-6 text-accent","aria-label":"MessageSquare icon"})}),h.jsx(gt,{"aria-label":"Text Analysis title",children:"Text Analysis"}),h.jsx(Dt,{"aria-label":"Text Analysis description",children:"AI evaluates your prompt responses for warmth, humor, clarity, and conversation potential"})]})}),h.jsx(Fe,{className:"border-2 hover:border-primary/40 transition-all","aria-label":"Actionable Insights feature",children:h.jsxs(mt,{children:[h.jsx("div",{className:"w-12 h-12 rounded-xl bg-secondary/10 flex items-center justify-center mb-4","aria-label":"Bar chart icon",children:h.jsx(k4,{className:"w-6 h-6 text-secondary-foreground","aria-label":"BarChart3 icon"})}),h.jsx(gt,{"aria-label":"Actionable Insights title",children:"Actionable Insights"}),h.jsx(Dt,{"aria-label":"Actionable Insights description",children:"Get specific, metric-based feedback and improvement suggestions for every element"})]})})]})}),h.jsx("section",{className:"container mx-auto px-4 py-16","aria-label":"How It Works section",children:h.jsxs("div",{className:"max-w-3xl mx-auto",children:[h.jsx("h2",{className:"text-3xl font-bold text-center mb-12","aria-label":"How It Works title",children:"How It Works"}),h.jsxs("div",{className:"space-y-8",children:[h.jsxs("div",{className:"flex gap-6 items-start","aria-label":"Step 1",children:[h.jsx("div",{className:"w-10 h-10 rounded-full bg-primary text-primary-foreground flex items-center justify-center font-bold flex-shrink-0","aria-label":"Step 1 number",children:"1"}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-semibold mb-2","aria-label":"Step 1 title",children:"Upload Your Profile"}),h.jsx("p",{className:"text-muted-foreground","aria-label":"Step 1 description",children:"Add 3-10 photos and at least one text response from your dating profile"})]})]}),h.jsxs("div",{className:"flex gap-6 items-start","aria-label":"Step 2",children:[h.jsx("div",{className:"w-10 h-10 rounded-full bg-primary text-primary-foreground flex items-center justify-center font-bold flex-shrink-0","aria-label":"Step 2 number",children:"2"}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-semibold mb-2","aria-label":"Step 2 title",children:"AI Analysis"}),h.jsx("p",{className:"text-muted-foreground","aria-label":"Step 2 description",children:"Our AI analyzes your content using computer vision and natural language processing"})]})]}),h.jsxs("div",{className:"flex gap-6 items-start","aria-label":"Step 3",children:[h.jsx("div",{className:"w-10 h-10 rounded-full bg-primary text-primary-foreground flex items-center justify-center font-bold flex-shrink-0","aria-label":"Step 3 number",children:"3"}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-semibold mb-2","aria-label":"Step 3 title",children:"Get Results"}),h.jsx("p",{className:"text-muted-foreground","aria-label":"Step 3 description",children:"Receive detailed metrics, insights, and specific suggestions to improve your profile"})]})]})]})]})}),h.jsx("section",{id:"about-section",className:"container mx-auto px-4 py-20 bg-gradient-to-br from-muted/30 to-transparent","aria-label":"About section",children:h.jsxs("div",{className:"max-w-6xl mx-auto",children:[h.jsxs("div",{className:"mb-16 text-center","aria-label":"About header",children:[h.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-4","aria-label":"About title",children:"Why Choose Us?"}),h.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto","aria-label":"About description",children:"Advanced AI-powered profile analysis to help you optimize your dating presence and make better first impressions."})]}),h.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-12","aria-label":"About features grid",children:[h.jsx(Fe,{className:"border-2 hover:border-primary/40 transition-all","aria-label":"Our mission card",children:h.jsxs(mt,{children:[h.jsx("div",{className:"w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center mb-4","aria-hidden":!0,children:h.jsx(oF,{className:"w-6 h-6 text-primary","aria-hidden":!0})}),h.jsx(gt,{"aria-label":"Our mission title",children:"Our Mission"}),h.jsx(Dt,{"aria-label":"Our mission description",children:"We believe everyone deserves to present their best self online. Our AI analyzes your profile photos and bio to provide actionable insights that help you stand out."})]})}),h.jsx(Fe,{className:"border-2 hover:border-primary/40 transition-all","aria-label":"How it works card",children:h.jsxs(mt,{children:[h.jsx("div",{className:"w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center mb-4","aria-hidden":!0,children:h.jsx(pF,{className:"w-6 h-6 text-primary","aria-hidden":!0})}),h.jsx(gt,{"aria-label":"How it works title",children:"How It Works"}),h.jsx(Dt,{"aria-label":"How it works description",children:"Upload 3-10 photos and optionally add your bio and text responses. Our advanced AI analyzes composition, lighting, expressions, and content to give you detailed feedback and improvement suggestions."})]})}),h.jsx(Fe,{className:"border-2 hover:border-primary/40 transition-all","aria-label":"Privacy card",children:h.jsxs(mt,{children:[h.jsx("div",{className:"w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center mb-4","aria-hidden":!0,children:h.jsx(rF,{className:"w-6 h-6 text-primary","aria-hidden":!0})}),h.jsx(gt,{"aria-label":"Privacy title",children:"Privacy & Security"}),h.jsx(Dt,{"aria-label":"Privacy description",children:"Your photos and data are stored securely and only accessible to you. We use enterprise-grade encryption and never share your information with third parties. You can delete your data anytime."})]})}),h.jsx(Fe,{className:"border-2 hover:border-primary/40 transition-all","aria-label":"Audience card",children:h.jsxs(mt,{children:[h.jsx("div",{className:"w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center mb-4","aria-hidden":!0,children:h.jsx(dF,{className:"w-6 h-6 text-primary","aria-hidden":!0})}),h.jsx(gt,{"aria-label":"Who it's for title",children:"Who It's For"}),h.jsx(Dt,{"aria-label":"Who it's for description",children:"Whether you're optimizing dating profiles, professional headshots, or social media presence, our AI provides personalized feedback to help you make the best impression possible."})]})})]})]})}),h.jsx("section",{className:"container mx-auto px-4 py-20","aria-label":"Call to action section",children:h.jsx(Fe,{className:"max-w-3xl mx-auto border-2 border-primary/20 bg-gradient-to-br from-primary/5 to-transparent","aria-label":"CTA card",children:h.jsxs(Ft,{className:"pt-12 pb-12 text-center",children:[h.jsx("h2",{className:"text-3xl font-bold mb-4","aria-label":"CTA title",children:"Ready to Improve Your Profile?"}),h.jsx("p",{className:"text-muted-foreground mb-8 max-w-xl mx-auto","aria-label":"CTA description",children:"Join others who are using data-driven insights to create better dating profiles"}),h.jsxs(Oe,{size:"lg",onClick:()=>r(t?"/upload":"/auth"),className:"text-lg px-8","aria-label":"Start Your Free Analysis",children:[t?"Upload Your Profile":"Start Your Free Analysis",h.jsx(Kc,{className:"ml-2 w-5 h-5","aria-label":"Arrow right icon"})]})]})})})]})},Eo=y.forwardRef(({className:t,type:e,...n},r)=>h.jsx("input",{type:e,className:he("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Eo.displayName="Input";var IY=Symbol.for("react.lazy"),cp=Vl[" use ".trim().toString()];function PY(t){return typeof t=="object"&&t!==null&&"then"in t}function AD(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===IY&&"_payload"in t&&PY(t._payload)}function RY(t){const e=kY(t),n=y.forwardRef((r,s)=>{let{children:i,...o}=r;AD(i)&&typeof cp=="function"&&(i=cp(i._payload));const a=y.Children.toArray(i),l=a.find(DY);if(l){const c=l.props.children,d=a.map(f=>f===l?y.Children.count(c)>1?y.Children.only(null):y.isValidElement(c)?c.props.children:null:f);return h.jsx(e,{...o,ref:s,children:y.isValidElement(c)?y.cloneElement(c,void 0,d):null})}return h.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function kY(t){const e=y.forwardRef((n,r)=>{let{children:s,...i}=n;if(AD(s)&&typeof cp=="function"&&(s=cp(s._payload)),y.isValidElement(s)){const o=MY(s),a=OY(i,s.props);return s.type!==y.Fragment&&(a.ref=r?ad(r,o):o),y.cloneElement(s,a)}return y.Children.count(s)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var NY=Symbol("radix.slottable");function DY(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===NY}function OY(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function MY(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var jY=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],VY=jY.reduce((t,e)=>{const n=RY(`Primitive.${e}`),r=y.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),LY="Label",CD=y.forwardRef((t,e)=>h.jsx(VY.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));CD.displayName=LY;var ID=CD;const FY=ud("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ms=y.forwardRef(({className:t,...e},n)=>h.jsx(ID,{ref:n,className:he(FY(),t),...e}));ms.displayName=ID.displayName;var UY=y.createContext(void 0);function rx(t){const e=y.useContext(UY);return t||e||"ltr"}var Yg="rovingFocusGroup.onEntryFocus",$Y={bubbles:!1,cancelable:!0},Rd="RovingFocusGroup",[ow,PD,BY]=WI(Rd),[zY,_m]=es(Rd,[BY]),[WY,HY]=zY(Rd),RD=y.forwardRef((t,e)=>h.jsx(ow.Provider,{scope:t.__scopeRovingFocusGroup,children:h.jsx(ow.Slot,{scope:t.__scopeRovingFocusGroup,children:h.jsx(qY,{...t,ref:e})})}));RD.displayName=Rd;var qY=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...f}=t,p=y.useRef(null),m=ut(e,p),b=rx(i),[v,x]=ld({prop:o,defaultProp:a??null,onChange:l,caller:Rd}),[w,E]=y.useState(!1),T=yr(c),I=PD(n),C=y.useRef(!1),[M,A]=y.useState(0);return y.useEffect(()=>{const S=p.current;if(S)return S.addEventListener(Yg,T),()=>S.removeEventListener(Yg,T)},[T]),h.jsx(WY,{scope:n,orientation:r,dir:b,loop:s,currentTabStopId:v,onItemFocus:y.useCallback(S=>x(S),[x]),onItemShiftTab:y.useCallback(()=>E(!0),[]),onFocusableItemAdd:y.useCallback(()=>A(S=>S+1),[]),onFocusableItemRemove:y.useCallback(()=>A(S=>S-1),[]),children:h.jsx(je.div,{tabIndex:w||M===0?-1:0,"data-orientation":r,...f,ref:m,style:{outline:"none",...t.style},onMouseDown:Ee(t.onMouseDown,()=>{C.current=!0}),onFocus:Ee(t.onFocus,S=>{const P=!C.current;if(S.target===S.currentTarget&&P&&!w){const N=new CustomEvent(Yg,$Y);if(S.currentTarget.dispatchEvent(N),!N.defaultPrevented){const R=I().filter(ne=>ne.focusable),O=R.find(ne=>ne.active),D=R.find(ne=>ne.id===v),ie=[O,D,...R].filter(Boolean).map(ne=>ne.ref.current);DD(ie,d)}}C.current=!1}),onBlur:Ee(t.onBlur,()=>E(!1))})})}),kD="RovingFocusGroupItem",ND=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...a}=t,l=Qc(),c=i||l,d=HY(kD,n),f=d.currentTabStopId===c,p=PD(n),{onFocusableItemAdd:m,onFocusableItemRemove:b,currentTabStopId:v}=d;return y.useEffect(()=>{if(r)return m(),()=>b()},[r,m,b]),h.jsx(ow.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:h.jsx(je.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...a,ref:e,onMouseDown:Ee(t.onMouseDown,x=>{r?d.onItemFocus(c):x.preventDefault()}),onFocus:Ee(t.onFocus,()=>d.onItemFocus(c)),onKeyDown:Ee(t.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const w=QY(x,d.orientation,d.dir);if(w!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let T=p().filter(I=>I.focusable).map(I=>I.ref.current);if(w==="last")T.reverse();else if(w==="prev"||w==="next"){w==="prev"&&T.reverse();const I=T.indexOf(x.currentTarget);T=d.loop?YY(T,I+1):T.slice(I+1)}setTimeout(()=>DD(T))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:v!=null}):o})})});ND.displayName=kD;var GY={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function KY(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function QY(t,e,n){const r=KY(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return GY[r]}function DD(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function YY(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var OD=RD,MD=ND,xm="Tabs",[XY]=es(xm,[_m]),jD=_m(),[ZY,sx]=XY(xm),VD=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,d=rx(a),[f,p]=ld({prop:r,onChange:s,defaultProp:i??"",caller:xm});return h.jsx(ZY,{scope:n,baseId:Qc(),value:f,onValueChange:p,orientation:o,dir:d,activationMode:l,children:h.jsx(je.div,{dir:d,"data-orientation":o,...c,ref:e})})});VD.displayName=xm;var LD="TabsList",FD=y.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=sx(LD,n),o=jD(n);return h.jsx(OD,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:h.jsx(je.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});FD.displayName=LD;var UD="TabsTrigger",$D=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=sx(UD,n),a=jD(n),l=WD(o.baseId,r),c=HD(o.baseId,r),d=r===o.value;return h.jsx(MD,{asChild:!0,...a,focusable:!s,active:d,children:h.jsx(je.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:Ee(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:Ee(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:Ee(t.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!s&&f&&o.onValueChange(r)})})})});$D.displayName=UD;var BD="TabsContent",zD=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=sx(BD,n),l=WD(a.baseId,r),c=HD(a.baseId,r),d=r===a.value,f=y.useRef(d);return y.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),h.jsx(Ji,{present:s||d,children:({present:p})=>h.jsx(je.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:p&&i})})});zD.displayName=BD;function WD(t,e){return`${t}-trigger-${e}`}function HD(t,e){return`${t}-content-${e}`}var JY=VD,qD=FD,GD=$D,KD=zD;const eX=JY,QD=y.forwardRef(({className:t,...e},n)=>h.jsx(qD,{ref:n,className:he("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));QD.displayName=qD.displayName;const aw=y.forwardRef(({className:t,...e},n)=>h.jsx(GD,{ref:n,className:he("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...e}));aw.displayName=GD.displayName;const lw=y.forwardRef(({className:t,...e},n)=>h.jsx(KD,{ref:n,className:he("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));lw.displayName=KD.displayName;var Ne;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Ne||(Ne={}));var zS;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(zS||(zS={}));const J=Ne.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),si=t=>{switch(typeof t){case"undefined":return J.undefined;case"string":return J.string;case"number":return Number.isNaN(t)?J.nan:J.number;case"boolean":return J.boolean;case"function":return J.function;case"bigint":return J.bigint;case"symbol":return J.symbol;case"object":return Array.isArray(t)?J.array:t===null?J.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?J.promise:typeof Map<"u"&&t instanceof Map?J.map:typeof Set<"u"&&t instanceof Set?J.set:typeof Date<"u"&&t instanceof Date?J.date:J.object;default:return J.unknown}},H=Ne.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Kn extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(o))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return s(this),r}static assert(e){if(!(e instanceof Kn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ne.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];n[i]=n[i]||[],n[i].push(e(s))}else r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Kn.create=t=>new Kn(t);const cw=(t,e)=>{let n;switch(t.code){case H.invalid_type:t.received===J.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case H.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Ne.jsonStringifyReplacer)}`;break;case H.unrecognized_keys:n=`Unrecognized key(s) in object: ${Ne.joinValues(t.keys,", ")}`;break;case H.invalid_union:n="Invalid input";break;case H.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Ne.joinValues(t.options)}`;break;case H.invalid_enum_value:n=`Invalid enum value. Expected ${Ne.joinValues(t.options)}, received '${t.received}'`;break;case H.invalid_arguments:n="Invalid function arguments";break;case H.invalid_return_type:n="Invalid function return type";break;case H.invalid_date:n="Invalid date";break;case H.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Ne.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case H.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case H.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case H.custom:n="Invalid input";break;case H.invalid_intersection_types:n="Intersection results could not be merged";break;case H.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case H.not_finite:n="Number must be finite";break;default:n=e.defaultError,Ne.assertNever(t)}return{message:n}};let tX=cw;function nX(){return tX}const rX=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let a="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)a=c(o,{data:e,defaultError:a}).message;return{...s,path:i,message:a}};function Q(t,e){const n=nX(),r=rX({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===cw?void 0:cw].filter(s=>!!s)});t.common.issues.push(r)}class Pn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return pe;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,o=await s.value;r.push({key:i,value:o})}return Pn.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return pe;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const pe=Object.freeze({status:"aborted"}),Vc=t=>({status:"dirty",value:t}),Qn=t=>({status:"valid",value:t}),WS=t=>t.status==="aborted",HS=t=>t.status==="dirty",Nl=t=>t.status==="valid",up=t=>typeof Promise<"u"&&t instanceof Promise;var ee;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ee||(ee={}));class Ki{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const qS=(t,e)=>{if(Nl(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Kn(t.common.issues);return this._error=n,this._error}}};function xe(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>{const{message:l}=t;return o.code==="invalid_enum_value"?{message:l??a.defaultError}:typeof a.data>"u"?{message:l??r??a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:l??n??a.defaultError}},description:s}}class ke{get description(){return this._def.description}_getType(e){return si(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:si(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Pn,ctx:{common:e.parent.common,data:e.data,parsedType:si(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(up(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:si(e)},s=this._parseSync({data:e,path:r.path,parent:r});return qS(r,s)}"~validate"(e){var r,s;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:si(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:n});return Nl(i)?{value:i.value}:{issues:n.common.issues}}catch(i){(s=(r=i==null?void 0:i.message)==null?void 0:r.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(i=>Nl(i)?{value:i.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:si(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(up(s)?s:Promise.resolve(s));return qS(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:H.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new Ol({schema:this,typeName:me.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Di.create(this,this._def)}nullable(){return Ml.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Qr.create(this)}promise(){return pp.create(this,this._def)}or(e){return hp.create([this,e],this._def)}and(e){return fp.create(this,e,this._def)}transform(e){return new Ol({...xe(this._def),schema:this,typeName:me.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new hw({...xe(this._def),innerType:this,defaultValue:n,typeName:me.ZodDefault})}brand(){return new AX({typeName:me.ZodBranded,type:this,...xe(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new fw({...xe(this._def),innerType:this,catchValue:n,typeName:me.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return ix.create(this,e)}readonly(){return pw.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const sX=/^c[^\s-]{8,}$/i,iX=/^[0-9a-z]+$/,oX=/^[0-9A-HJKMNP-TV-Z]{26}$/i,aX=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,lX=/^[a-z0-9_-]{21}$/i,cX=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,uX=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,dX=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,hX="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Xg;const fX=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,pX=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,mX=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,gX=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,yX=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,vX=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,YD="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",wX=new RegExp(`^${YD}$`);function XD(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function _X(t){return new RegExp(`^${XD(t)}$`)}function xX(t){let e=`${YD}T${XD(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function EX(t,e){return!!((e==="v4"||!e)&&fX.test(t)||(e==="v6"||!e)&&mX.test(t))}function TX(t,e){if(!cX.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function bX(t,e){return!!((e==="v4"||!e)&&pX.test(t)||(e==="v6"||!e)&&gX.test(t))}class _i extends ke{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==J.string){const i=this._getOrReturnCtx(e);return Q(i,{code:H.invalid_type,expected:J.string,received:i.parsedType}),pe}const r=new Pn;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),Q(s,{code:H.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),Q(s,{code:H.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(e,s),o?Q(s,{code:H.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&Q(s,{code:H.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")dX.test(e.data)||(s=this._getOrReturnCtx(e,s),Q(s,{validation:"email",code:H.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")Xg||(Xg=new RegExp(hX,"u")),Xg.test(e.data)||(s=this._getOrReturnCtx(e,s),Q(s,{validation:"emoji",code:H.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")aX.test(e.data)||(s=this._getOrReturnCtx(e,s),Q(s,{validation:"uuid",code:H.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")lX.test(e.data)||(s=this._getOrReturnCtx(e,s),Q(s,{validation:"nanoid",code:H.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")sX.test(e.data)||(s=this._getOrReturnCtx(e,s),Q(s,{validation:"cuid",code:H.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")iX.test(e.data)||(s=this._getOrReturnCtx(e,s),Q(s,{validation:"cuid2",code:H.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")oX.test(e.data)||(s=this._getOrReturnCtx(e,s),Q(s,{validation:"ulid",code:H.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),Q(s,{validation:"url",code:H.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),Q(s,{validation:"regex",code:H.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),Q(s,{code:H.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),Q(s,{code:H.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),Q(s,{code:H.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?xX(i).test(e.data)||(s=this._getOrReturnCtx(e,s),Q(s,{code:H.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?wX.test(e.data)||(s=this._getOrReturnCtx(e,s),Q(s,{code:H.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?_X(i).test(e.data)||(s=this._getOrReturnCtx(e,s),Q(s,{code:H.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?uX.test(e.data)||(s=this._getOrReturnCtx(e,s),Q(s,{validation:"duration",code:H.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?EX(e.data,i.version)||(s=this._getOrReturnCtx(e,s),Q(s,{validation:"ip",code:H.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?TX(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),Q(s,{validation:"jwt",code:H.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?bX(e.data,i.version)||(s=this._getOrReturnCtx(e,s),Q(s,{validation:"cidr",code:H.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?yX.test(e.data)||(s=this._getOrReturnCtx(e,s),Q(s,{validation:"base64",code:H.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?vX.test(e.data)||(s=this._getOrReturnCtx(e,s),Q(s,{validation:"base64url",code:H.invalid_string,message:i.message}),r.dirty()):Ne.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:H.invalid_string,...ee.errToObj(r)})}_addCheck(e){return new _i({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ee.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ee.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ee.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ee.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ee.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ee.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ee.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ee.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ee.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ee.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ee.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ee.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ee.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...ee.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ee.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ee.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...ee.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...ee.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...ee.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...ee.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...ee.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...ee.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...ee.errToObj(n)})}nonempty(e){return this.min(1,ee.errToObj(e))}trim(){return new _i({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new _i({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new _i({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}_i.create=t=>new _i({checks:[],typeName:me.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...xe(t)});function SX(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=Number.parseInt(t.toFixed(s).replace(".","")),o=Number.parseInt(e.toFixed(s).replace(".",""));return i%o/10**s}class Qu extends ke{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==J.number){const i=this._getOrReturnCtx(e);return Q(i,{code:H.invalid_type,expected:J.number,received:i.parsedType}),pe}let r;const s=new Pn;for(const i of this._def.checks)i.kind==="int"?Ne.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Q(r,{code:H.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),Q(r,{code:H.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),Q(r,{code:H.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?SX(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),Q(r,{code:H.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Q(r,{code:H.not_finite,message:i.message}),s.dirty()):Ne.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ee.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ee.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ee.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ee.toString(n))}setLimit(e,n,r,s){return new Qu({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ee.toString(s)}]})}_addCheck(e){return new Qu({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ee.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ee.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ee.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ee.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ee.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ee.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:ee.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ee.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ee.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ne.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Qu.create=t=>new Qu({checks:[],typeName:me.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...xe(t)});class Yu extends ke{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==J.bigint)return this._getInvalidInput(e);let r;const s=new Pn;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),Q(r,{code:H.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),Q(r,{code:H.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Q(r,{code:H.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Ne.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return Q(n,{code:H.invalid_type,expected:J.bigint,received:n.parsedType}),pe}gte(e,n){return this.setLimit("min",e,!0,ee.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ee.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ee.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ee.toString(n))}setLimit(e,n,r,s){return new Yu({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ee.toString(s)}]})}_addCheck(e){return new Yu({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ee.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ee.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ee.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ee.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ee.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Yu.create=t=>new Yu({checks:[],typeName:me.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...xe(t)});class GS extends ke{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==J.boolean){const r=this._getOrReturnCtx(e);return Q(r,{code:H.invalid_type,expected:J.boolean,received:r.parsedType}),pe}return Qn(e.data)}}GS.create=t=>new GS({typeName:me.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...xe(t)});class dp extends ke{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==J.date){const i=this._getOrReturnCtx(e);return Q(i,{code:H.invalid_type,expected:J.date,received:i.parsedType}),pe}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return Q(i,{code:H.invalid_date}),pe}const r=new Pn;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),Q(s,{code:H.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),Q(s,{code:H.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):Ne.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new dp({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:ee.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:ee.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}dp.create=t=>new dp({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:me.ZodDate,...xe(t)});class KS extends ke{_parse(e){if(this._getType(e)!==J.symbol){const r=this._getOrReturnCtx(e);return Q(r,{code:H.invalid_type,expected:J.symbol,received:r.parsedType}),pe}return Qn(e.data)}}KS.create=t=>new KS({typeName:me.ZodSymbol,...xe(t)});class QS extends ke{_parse(e){if(this._getType(e)!==J.undefined){const r=this._getOrReturnCtx(e);return Q(r,{code:H.invalid_type,expected:J.undefined,received:r.parsedType}),pe}return Qn(e.data)}}QS.create=t=>new QS({typeName:me.ZodUndefined,...xe(t)});class YS extends ke{_parse(e){if(this._getType(e)!==J.null){const r=this._getOrReturnCtx(e);return Q(r,{code:H.invalid_type,expected:J.null,received:r.parsedType}),pe}return Qn(e.data)}}YS.create=t=>new YS({typeName:me.ZodNull,...xe(t)});class uw extends ke{constructor(){super(...arguments),this._any=!0}_parse(e){return Qn(e.data)}}uw.create=t=>new uw({typeName:me.ZodAny,...xe(t)});class XS extends ke{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Qn(e.data)}}XS.create=t=>new XS({typeName:me.ZodUnknown,...xe(t)});class Qi extends ke{_parse(e){const n=this._getOrReturnCtx(e);return Q(n,{code:H.invalid_type,expected:J.never,received:n.parsedType}),pe}}Qi.create=t=>new Qi({typeName:me.ZodNever,...xe(t)});class ZS extends ke{_parse(e){if(this._getType(e)!==J.undefined){const r=this._getOrReturnCtx(e);return Q(r,{code:H.invalid_type,expected:J.void,received:r.parsedType}),pe}return Qn(e.data)}}ZS.create=t=>new ZS({typeName:me.ZodVoid,...xe(t)});class Qr extends ke{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==J.array)return Q(n,{code:H.invalid_type,expected:J.array,received:n.parsedType}),pe;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,a=n.data.length<s.exactLength.value;(o||a)&&(Q(n,{code:o?H.too_big:H.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(Q(n,{code:H.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(Q(n,{code:H.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>s.type._parseAsync(new Ki(n,o,n.path,a)))).then(o=>Pn.mergeArray(r,o));const i=[...n.data].map((o,a)=>s.type._parseSync(new Ki(n,o,n.path,a)));return Pn.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new Qr({...this._def,minLength:{value:e,message:ee.toString(n)}})}max(e,n){return new Qr({...this._def,maxLength:{value:e,message:ee.toString(n)}})}length(e,n){return new Qr({...this._def,exactLength:{value:e,message:ee.toString(n)}})}nonempty(e){return this.min(1,e)}}Qr.create=(t,e)=>new Qr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:me.ZodArray,...xe(e)});function ba(t){if(t instanceof pt){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Di.create(ba(r))}return new pt({...t._def,shape:()=>e})}else return t instanceof Qr?new Qr({...t._def,type:ba(t.element)}):t instanceof Di?Di.create(ba(t.unwrap())):t instanceof Ml?Ml.create(ba(t.unwrap())):t instanceof ea?ea.create(t.items.map(e=>ba(e))):t}class pt extends ke{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Ne.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==J.object){const c=this._getOrReturnCtx(e);return Q(c,{code:H.invalid_type,expected:J.object,received:c.parsedType}),pe}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Qi&&this._def.unknownKeys==="strip"))for(const c in s.data)o.includes(c)||a.push(c);const l=[];for(const c of o){const d=i[c],f=s.data[c];l.push({key:{status:"valid",value:c},value:d._parse(new Ki(s,f,s.path,c)),alwaysSet:c in s.data})}if(this._def.catchall instanceof Qi){const c=this._def.unknownKeys;if(c==="passthrough")for(const d of a)l.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(c==="strict")a.length>0&&(Q(s,{code:H.unrecognized_keys,keys:a}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const d of a){const f=s.data[d];l.push({key:{status:"valid",value:d},value:c._parse(new Ki(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const c=[];for(const d of l){const f=await d.key,p=await d.value;c.push({key:f,value:p,alwaysSet:d.alwaysSet})}return c}).then(c=>Pn.mergeObjectSync(r,c)):Pn.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return ee.errToObj,new pt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,o;const s=((o=(i=this._def).errorMap)==null?void 0:o.call(i,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:ee.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new pt({...this._def,unknownKeys:"strip"})}passthrough(){return new pt({...this._def,unknownKeys:"passthrough"})}extend(e){return new pt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new pt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:me.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new pt({...this._def,catchall:e})}pick(e){const n={};for(const r of Ne.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new pt({...this._def,shape:()=>n})}omit(e){const n={};for(const r of Ne.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new pt({...this._def,shape:()=>n})}deepPartial(){return ba(this)}partial(e){const n={};for(const r of Ne.objectKeys(this.shape)){const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}return new pt({...this._def,shape:()=>n})}required(e){const n={};for(const r of Ne.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Di;)i=i._def.innerType;n[r]=i}return new pt({...this._def,shape:()=>n})}keyof(){return ZD(Ne.objectKeys(this.shape))}}pt.create=(t,e)=>new pt({shape:()=>t,unknownKeys:"strip",catchall:Qi.create(),typeName:me.ZodObject,...xe(e)});pt.strictCreate=(t,e)=>new pt({shape:()=>t,unknownKeys:"strict",catchall:Qi.create(),typeName:me.ZodObject,...xe(e)});pt.lazycreate=(t,e)=>new pt({shape:t,unknownKeys:"strip",catchall:Qi.create(),typeName:me.ZodObject,...xe(e)});class hp extends ke{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new Kn(a.ctx.common.issues));return Q(n,{code:H.invalid_union,unionErrors:o}),pe}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const l of r){const c={...n,common:{...n.common,issues:[]},parent:null},d=l._parseSync({data:n.data,path:n.path,parent:c});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(l=>new Kn(l));return Q(n,{code:H.invalid_union,unionErrors:a}),pe}}get options(){return this._def.options}}hp.create=(t,e)=>new hp({options:t,typeName:me.ZodUnion,...xe(e)});function dw(t,e){const n=si(t),r=si(e);if(t===e)return{valid:!0,data:t};if(n===J.object&&r===J.object){const s=Ne.objectKeys(e),i=Ne.objectKeys(t).filter(a=>s.indexOf(a)!==-1),o={...t,...e};for(const a of i){const l=dw(t[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(n===J.array&&r===J.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],l=dw(o,a);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return n===J.date&&r===J.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class fp extends ke{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(WS(i)||WS(o))return pe;const a=dw(i.value,o.value);return a.valid?((HS(i)||HS(o))&&n.dirty(),{status:n.value,value:a.data}):(Q(r,{code:H.invalid_intersection_types}),pe)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}fp.create=(t,e,n)=>new fp({left:t,right:e,typeName:me.ZodIntersection,...xe(n)});class ea extends ke{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==J.array)return Q(r,{code:H.invalid_type,expected:J.array,received:r.parsedType}),pe;if(r.data.length<this._def.items.length)return Q(r,{code:H.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),pe;!this._def.rest&&r.data.length>this._def.items.length&&(Q(r,{code:H.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new Ki(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>Pn.mergeArray(n,o)):Pn.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new ea({...this._def,rest:e})}}ea.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ea({items:t,typeName:me.ZodTuple,rest:null,...xe(e)})};class JS extends ke{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==J.map)return Q(r,{code:H.invalid_type,expected:J.map,received:r.parsedType}),pe;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([a,l],c)=>({key:s._parse(new Ki(r,a,r.path,[c,"key"])),value:i._parse(new Ki(r,l,r.path,[c,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const c=await l.key,d=await l.value;if(c.status==="aborted"||d.status==="aborted")return pe;(c.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(c.value,d.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of o){const c=l.key,d=l.value;if(c.status==="aborted"||d.status==="aborted")return pe;(c.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(c.value,d.value)}return{status:n.value,value:a}}}}JS.create=(t,e,n)=>new JS({valueType:e,keyType:t,typeName:me.ZodMap,...xe(n)});class Xu extends ke{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==J.set)return Q(r,{code:H.invalid_type,expected:J.set,received:r.parsedType}),pe;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(Q(r,{code:H.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(Q(r,{code:H.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(l){const c=new Set;for(const d of l){if(d.status==="aborted")return pe;d.status==="dirty"&&n.dirty(),c.add(d.value)}return{status:n.value,value:c}}const a=[...r.data.values()].map((l,c)=>i._parse(new Ki(r,l,r.path,c)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,n){return new Xu({...this._def,minSize:{value:e,message:ee.toString(n)}})}max(e,n){return new Xu({...this._def,maxSize:{value:e,message:ee.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Xu.create=(t,e)=>new Xu({valueType:t,minSize:null,maxSize:null,typeName:me.ZodSet,...xe(e)});class eA extends ke{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}eA.create=(t,e)=>new eA({getter:t,typeName:me.ZodLazy,...xe(e)});class tA extends ke{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Q(n,{received:n.data,code:H.invalid_literal,expected:this._def.value}),pe}return{status:"valid",value:e.data}}get value(){return this._def.value}}tA.create=(t,e)=>new tA({value:t,typeName:me.ZodLiteral,...xe(e)});function ZD(t,e){return new Dl({values:t,typeName:me.ZodEnum,...xe(e)})}class Dl extends ke{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Q(n,{expected:Ne.joinValues(r),received:n.parsedType,code:H.invalid_type}),pe}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return Q(n,{received:n.data,code:H.invalid_enum_value,options:r}),pe}return Qn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Dl.create(e,{...this._def,...n})}exclude(e,n=this._def){return Dl.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Dl.create=ZD;class nA extends ke{_parse(e){const n=Ne.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==J.string&&r.parsedType!==J.number){const s=Ne.objectValues(n);return Q(r,{expected:Ne.joinValues(s),received:r.parsedType,code:H.invalid_type}),pe}if(this._cache||(this._cache=new Set(Ne.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=Ne.objectValues(n);return Q(r,{received:r.data,code:H.invalid_enum_value,options:s}),pe}return Qn(e.data)}get enum(){return this._def.values}}nA.create=(t,e)=>new nA({values:t,typeName:me.ZodNativeEnum,...xe(e)});class pp extends ke{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==J.promise&&n.common.async===!1)return Q(n,{code:H.invalid_type,expected:J.promise,received:n.parsedType}),pe;const r=n.parsedType===J.promise?n.data:Promise.resolve(n.data);return Qn(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}pp.create=(t,e)=>new pp({type:t,typeName:me.ZodPromise,...xe(e)});class Ol extends ke{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===me.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{Q(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);if(r.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return pe;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?pe:l.status==="dirty"||n.value==="dirty"?Vc(l.value):l});{if(n.value==="aborted")return pe;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?pe:a.status==="dirty"||n.value==="dirty"?Vc(a.value):a}}if(s.type==="refinement"){const o=a=>{const l=s.refinement(a,i);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?pe:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?pe:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Nl(o))return pe;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Nl(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:n.value,value:a})):pe);Ne.assertNever(s)}}Ol.create=(t,e,n)=>new Ol({schema:t,typeName:me.ZodEffects,effect:e,...xe(n)});Ol.createWithPreprocess=(t,e,n)=>new Ol({schema:e,effect:{type:"preprocess",transform:t},typeName:me.ZodEffects,...xe(n)});class Di extends ke{_parse(e){return this._getType(e)===J.undefined?Qn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Di.create=(t,e)=>new Di({innerType:t,typeName:me.ZodOptional,...xe(e)});class Ml extends ke{_parse(e){return this._getType(e)===J.null?Qn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ml.create=(t,e)=>new Ml({innerType:t,typeName:me.ZodNullable,...xe(e)});class hw extends ke{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===J.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}hw.create=(t,e)=>new hw({innerType:t,typeName:me.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...xe(e)});class fw extends ke{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return up(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Kn(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Kn(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}fw.create=(t,e)=>new fw({innerType:t,typeName:me.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...xe(e)});class rA extends ke{_parse(e){if(this._getType(e)!==J.nan){const r=this._getOrReturnCtx(e);return Q(r,{code:H.invalid_type,expected:J.nan,received:r.parsedType}),pe}return{status:"valid",value:e.data}}}rA.create=t=>new rA({typeName:me.ZodNaN,...xe(t)});class AX extends ke{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class ix extends ke{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?pe:i.status==="dirty"?(n.dirty(),Vc(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?pe:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new ix({in:e,out:n,typeName:me.ZodPipeline})}}class pw extends ke{_parse(e){const n=this._def.innerType._parse(e),r=s=>(Nl(s)&&(s.value=Object.freeze(s.value)),s);return up(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}pw.create=(t,e)=>new pw({innerType:t,typeName:me.ZodReadonly,...xe(e)});var me;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(me||(me={}));const Oi=_i.create,CX=uw.create;Qi.create;const sA=Qr.create,mp=pt.create;hp.create;fp.create;ea.create;Dl.create;pp.create;Di.create;Ml.create;const IX="/assets/google-logo-DSR6roDZ.png",PX=mp({email:Oi().trim().email({message:"Invalid email address"}),password:Oi().min(6,{message:"Password must be at least 6 characters"}),fullName:Oi().trim().optional()}),RX=mp({email:Oi().trim().email({message:"Invalid email address"}),password:Oi().min(1,{message:"Password is required"})}),kX=()=>{const[t,e]=y.useState(!0),[n,r]=y.useState(""),[s,i]=y.useState(""),[o,a]=y.useState(""),[l,c]=y.useState(!1),{signUp:d,signIn:f,signInWithGoogle:p,user:m}=Ql(),{toast:b}=sa(),v=ia();if(m)return v("/"),null;const x=async T=>{T.preventDefault(),c(!0);try{const I=PX.parse({email:n,password:s,fullName:o}),{error:C}=await d(I.email,I.password,I.fullName);C?C.message.includes("already registered")?b({title:"Account exists",description:"This email is already registered. Please sign in instead.",variant:"destructive"}):b({title:"Sign up failed",description:C.message,variant:"destructive"}):(b({title:"Success!",description:"Your account has been created. Welcome!"}),v("/"))}catch(I){I instanceof Kn&&b({title:"Validation error",description:I.errors[0].message,variant:"destructive"})}finally{c(!1)}},w=async T=>{T.preventDefault(),c(!0);try{const I=RX.parse({email:n,password:s}),{error:C}=await f(I.email,I.password);C&&b({title:"Sign in failed",description:C.message==="Invalid login credentials"?"Invalid email or password. Please try again.":C.message,variant:"destructive"})}catch(I){I instanceof Kn&&b({title:"Validation error",description:I.errors[0].message,variant:"destructive"})}finally{c(!1)}},E=async()=>{c(!0);const{error:T}=await p();c(!1),T&&b({title:"Google sign-in failed",description:T.message,variant:"destructive"})};return h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background via-muted/30 to-primary/5 p-4",children:h.jsxs("div",{className:"w-full max-w-md",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-primary/10 mb-4",children:h.jsx(wl,{className:"w-8 h-8 text-primary fill-primary"})}),h.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-primary via-primary to-primary/90 bg-clip-text text-transparent pb-1",children:"Dating Profile Analyzer"}),h.jsx("p",{className:"text-muted-foreground mt-2",children:"Get data-driven insights to improve your dating profile"})]}),h.jsxs(Fe,{className:"shadow-lg border-border/50",children:[h.jsxs(mt,{children:[h.jsx(gt,{children:"Welcome"}),h.jsx(Dt,{children:t?"Create an account to get started":"Sign in to continue"})]}),h.jsx(Ft,{children:h.jsxs("div",{className:"flex flex-col gap-4",children:[h.jsxs(Oe,{type:"button",variant:"outline",className:"w-full flex items-center justify-center gap-2 font-medium text-base border border-gray-300 shadow-sm hover:bg-gray-50",onClick:E,disabled:l,children:[h.jsx("img",{src:IX,alt:"Google",className:"w-5 h-5"}),"Continue with Google"]}),h.jsxs("div",{className:"flex items-center my-2",children:[h.jsx("span",{className:"flex-1 h-px bg-border"}),h.jsx("span",{className:"mx-3 text-xs text-muted-foreground",children:"or"}),h.jsx("span",{className:"flex-1 h-px bg-border"})]}),h.jsxs(eX,{value:t?"signup":"signin",onValueChange:T=>e(T==="signup"),children:[h.jsxs(QD,{className:"grid w-full grid-cols-2",children:[h.jsx(aw,{value:"signup",children:"Sign Up"}),h.jsx(aw,{value:"signin",children:"Sign In"})]}),h.jsx(lw,{value:"signup",children:h.jsxs("form",{onSubmit:x,className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(ms,{htmlFor:"signup-name",children:"Full Name (Optional)"}),h.jsx(Eo,{id:"signup-name",type:"text",placeholder:"John Doe",value:o,onChange:T=>a(T.target.value),maxLength:100})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(ms,{htmlFor:"signup-email",children:"Email"}),h.jsx(Eo,{id:"signup-email",type:"email",placeholder:"you@example.com",value:n,onChange:T=>r(T.target.value),required:!0,maxLength:255})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(ms,{htmlFor:"signup-password",children:"Password"}),h.jsx(Eo,{id:"signup-password",type:"password",placeholder:"",value:s,onChange:T=>i(T.target.value),required:!0,minLength:6}),h.jsx("p",{className:"text-xs text-muted-foreground",children:"Minimum 6 characters"})]}),h.jsx(Oe,{type:"submit",className:"w-full",disabled:l,children:l?"Creating account...":"Create Account"})]})}),h.jsx(lw,{value:"signin",children:h.jsxs("form",{onSubmit:w,className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(ms,{htmlFor:"signin-email",children:"Email"}),h.jsx(Eo,{id:"signin-email",type:"email",placeholder:"you@example.com",value:n,onChange:T=>r(T.target.value),required:!0,maxLength:255})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(ms,{htmlFor:"signin-password",children:"Password"}),h.jsx(Eo,{id:"signin-password",type:"password",placeholder:"",value:s,onChange:T=>i(T.target.value),required:!0})]}),h.jsx(Oe,{type:"submit",className:"w-full",disabled:l,children:l?"Signing in...":"Sign In"})]})})]})]})})]})]})})},nr="http://localhost:3001/api";async function JD(){try{return xo.currentUser?await xo.currentUser.getIdToken():null}catch(t){return console.error("Failed to get auth token:",t),null}}function NX(){return{"Content-Type":"application/json"}}async function cs(t,e={}){const n=await JD(),r={...NX(),...e.headers||{}};return n&&(r.Authorization=`Bearer ${n}`),fetch(t,{...e,headers:r})}const Bo={upload:async(t,e,n,r)=>{const s=new FormData;s.append("userId",t),s.append("bio",n),s.append("textResponses",JSON.stringify(r)),e.forEach(l=>{s.append("photos",l)});const i=await JD(),o={};i&&(o.Authorization=`Bearer ${i}`);const a=await fetch(`${nr}/upload`,{method:"POST",body:s,headers:o});if(!a.ok){const l=await a.json();throw new Error(l.error||"Upload failed")}return a.json()},getUserAnalyses:async t=>{const e=await cs(`${nr}/analyses/user/${t}`);if(!e.ok){const n=await e.json();throw new Error(n.error||"Failed to fetch analyses")}return e.json()},getAnalysis:async t=>{const e=await cs(`${nr}/analyses/${t}`);if(!e.ok){const n=await e.json();throw new Error(n.error||"Failed to fetch analysis")}return e.json()},deleteAnalysis:async t=>{const e=await cs(`${nr}/analyses/${t}`,{method:"DELETE"});if(!e.ok){const n=await e.json();throw new Error(n.error||"Failed to delete analysis")}return e.json()},healthCheck:async()=>(await fetch(`${nr}/health`)).json(),analyzeImages:async t=>{const e=await cs(`${nr}/image-analysis/${t}`,{method:"POST"});if(!e.ok){const n=await e.json();throw new Error(n.error||"Failed to analyze images")}return e.json()},getImageAnalysisResults:async t=>{const e=await cs(`${nr}/image-analysis/analysis/${t}`);if(!e.ok){const n=await e.json();throw new Error(n.error||"Failed to fetch image analysis results")}return e.json()},getPhotoAnalysis:async t=>{const e=await cs(`${nr}/image-analysis/photo/${t}`);if(!e.ok){const n=await e.json();throw new Error(n.error||"Failed to fetch photo analysis")}return e.json()},analyzeTextResponse:async(t,e,n)=>{const r=await cs(`${nr}/text-analysis/analyze`,{method:"POST",body:JSON.stringify({analysis_id:t,question:e,answer:n})});if(!r.ok){const s=await r.json();throw new Error(s.error||"Failed to analyze text response")}return r.json()},getTextFeedback:async t=>{const e=await cs(`${nr}/text-analysis/${t}`);if(!e.ok){const n=await e.json();throw new Error(n.error||"Failed to fetch text feedback")}return e.json()},getUserTextFeedback:async t=>{const e=await cs(`${nr}/text-analysis?analysis_id=${t}`);if(!e.ok){const n=await e.json();throw new Error(n.error||"Failed to fetch text feedback")}return e.json()}};function jr({className:t,width:e=400,height:n=100,gradient:r="from-primary/[0.15]"}){return h.jsx("div",{className:he("absolute",t),children:h.jsx(kl.div,{animate:{y:[0,15,0]},transition:{duration:12,repeat:Number.POSITIVE_INFINITY,ease:"easeInOut"},style:{width:e,height:n},className:"relative flex items-center justify-center",children:h.jsx(wl,{className:he("w-full h-full",r.replace("from-","text-").replace("/[0.15]",""),"fill-current opacity-15","drop-shadow-[0_8px_32px_rgba(0,0,0,0.08)]"),strokeWidth:.5})})})}function DX(){return h.jsxs("div",{className:"fixed inset-0 -z-10 overflow-hidden bg-gradient-to-br from-background via-primary/5 to-accent/5",children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/[0.08] via-transparent to-accent/[0.08] blur-3xl"}),h.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[h.jsx(jr,{width:200,height:200,gradient:"from-primary",className:"left-[-8%] md:left-[-5%] top-[20%]"}),h.jsx(jr,{width:160,height:160,gradient:"from-rose-500",className:"right-[-5%] md:right-[0%] top-[55%]"}),h.jsx(jr,{width:120,height:120,gradient:"from-violet-500",className:"left-[3%] md:left-[8%] bottom-[8%]"}),h.jsx(jr,{width:90,height:90,gradient:"from-amber-500",className:"right-[5%] md:right-[10%] top-[35%]"}),h.jsx(jr,{width:70,height:70,gradient:"from-teal-500",className:"right-[8%] md:right-[12%] bottom-[15%]"})]}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background/80 via-transparent to-background/60 pointer-events-none"})]})}function OX(){return h.jsxs("div",{className:"fixed inset-0 -z-10 overflow-hidden bg-gradient-to-br from-background via-accent/5 to-primary/5",children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-accent/[0.08] via-transparent to-primary/[0.08] blur-3xl"}),h.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[h.jsx(jr,{width:80,height:80,gradient:"from-pink-500",className:"left-[2%] md:left-[5%] top-[3%]"}),h.jsx(jr,{width:110,height:110,gradient:"from-purple-500",className:"right-[5%] md:right-[8%] top-[8%]"}),h.jsx(jr,{width:180,height:180,gradient:"from-blue-500",className:"left-[-5%] md:left-[-2%] bottom-[10%]"}),h.jsx(jr,{width:130,height:130,gradient:"from-rose-500",className:"right-[-3%] md:right-[2%] bottom-[20%]"}),h.jsx(jr,{width:70,height:70,gradient:"from-indigo-500",className:"left-[0%] md:left-[3%] top-[45%]"})]}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background/85 via-background/40 to-background/70 pointer-events-none"})]})}const MX=()=>{const{user:t,signOut:e}=Ql(),[n,r]=y.useState([]),[s,i]=y.useState(!0),o=ia(),{toast:a}=sa();y.useEffect(()=>{l()},[t]);const l=async()=>{if(t)try{const m=await Bo.getUserAnalyses(t.uid);r(m.analyses)}catch(m){a({title:"Error",description:"Failed to load your analyses",variant:"destructive"}),console.error("Error loading analyses:",m)}finally{i(!1)}},c=()=>{o("/upload")},d=m=>{o(`/results/${m}`)},f=m=>m?(m.toDate?m.toDate():new Date(m)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"",p=m=>{switch(m){case"completed":return"text-green-600 bg-green-50";case"processing":return"text-blue-600 bg-blue-50";case"failed":return"text-red-600 bg-red-50";default:return"text-gray-600 bg-gray-50"}};return h.jsxs("div",{className:"min-h-screen relative overflow-hidden","aria-label":"Dashboard page",children:[h.jsx(DX,{}),h.jsx("header",{className:"border-b bg-card/50 backdrop-blur-sm sticky top-0 z-10",role:"banner","aria-label":"Header",children:h.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary/10 flex items-center justify-center","aria-hidden":!0,children:h.jsx(wl,{className:"w-5 h-5 text-primary fill-primary","aria-hidden":!0})}),h.jsx("span",{className:"text-xl font-bold","aria-label":"App name",children:"Profile Analyzer"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs(Oe,{variant:"ghost",onClick:()=>o("/"),"aria-label":"Go to home page",children:[h.jsx(W4,{className:"w-4 h-4 mr-2","aria-hidden":!0}),"Home"]}),h.jsxs(Oe,{variant:"ghost",onClick:()=>{o("/"),setTimeout(()=>{const m=document.getElementById("about-section");m==null||m.scrollIntoView({behavior:"smooth"})},100)},"aria-label":"Go to about section",children:[h.jsx(yP,{className:"w-4 h-4 mr-2","aria-hidden":!0}),"About"]}),h.jsxs(Oe,{variant:"ghost",onClick:e,"aria-label":"Sign out",children:[h.jsx(vP,{className:"w-4 h-4 mr-2","aria-hidden":!0}),"Sign Out"]})]})]})}),h.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl relative",children:[h.jsxs("div",{className:"mb-8",children:[h.jsx("h1",{className:"text-4xl font-bold mb-2","aria-label":"Dashboard title",children:"Dashboard"}),h.jsxs("p",{className:"text-muted-foreground","aria-label":"Dashboard greeting",children:["Welcome back, ",(t==null?void 0:t.displayName)||(t==null?void 0:t.email)]})]}),h.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-8","aria-label":"Quick actions",children:[h.jsx(Fe,{className:"hover:border-primary/40 transition-all cursor-pointer",onClick:c,"aria-label":"New analysis card",children:h.jsxs(mt,{children:[h.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center mb-4","aria-hidden":!0,children:h.jsx(wT,{className:"w-6 h-6 text-primary","aria-hidden":!0})}),h.jsx(gt,{"aria-label":"New analysis title",children:"New Analysis"}),h.jsx(Dt,{"aria-label":"New analysis description",children:"Upload and analyze a new dating profile"})]})}),h.jsx(Fe,{"aria-label":"Total analyses card",children:h.jsxs(mt,{children:[h.jsx("div",{className:"w-12 h-12 rounded-xl bg-accent/10 flex items-center justify-center mb-4","aria-hidden":!0,children:h.jsx(_T,{className:"w-6 h-6 text-accent","aria-hidden":!0})}),h.jsx(gt,{"aria-label":"Total analyses title",children:n.length}),h.jsx(Dt,{"aria-label":"Total analyses description",children:"Total Analyses"})]})}),h.jsx(Fe,{"aria-label":"Completed card",children:h.jsxs(mt,{children:[h.jsx("div",{className:"w-12 h-12 rounded-xl bg-secondary/10 flex items-center justify-center mb-4","aria-hidden":!0,children:h.jsx(B4,{className:"w-6 h-6 text-secondary-foreground","aria-hidden":!0})}),h.jsx(gt,{"aria-label":"Completed title",children:n.filter(m=>m.status==="completed").length}),h.jsx(Dt,{"aria-label":"Completed description",children:"Completed"})]})})]}),h.jsxs(Fe,{"aria-label":"Recent analyses card",children:[h.jsxs(mt,{children:[h.jsx(gt,{"aria-label":"Recent analyses title",children:"Recent Analyses"}),h.jsx(Dt,{"aria-label":"Recent analyses description",children:"View and manage your profile analyses"})]}),h.jsx(Ft,{children:s?h.jsx("div",{className:"text-center py-8","aria-label":"Loading analyses",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto","aria-hidden":!0})}):n.length===0?h.jsxs("div",{className:"text-center py-12","aria-label":"No analyses",children:[h.jsx(_T,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4","aria-hidden":!0}),h.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No analyses yet"}),h.jsx("p",{className:"text-muted-foreground mb-4","aria-label":"No analyses description",children:"Get started by uploading your first dating profile for analysis"}),h.jsxs(Oe,{onClick:c,"aria-label":"Create first analysis",children:[h.jsx(wT,{className:"w-4 h-4 mr-2","aria-hidden":!0}),"Create First Analysis"]})]}):h.jsx("div",{className:"space-y-4","aria-label":"Analyses list",children:n.map(m=>h.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:border-primary/40 transition-all cursor-pointer",onClick:()=>d(m.id),role:"button",tabIndex:0,"aria-label":`Open analysis ${m.id}`,onKeyDown:b=>{b.key==="Enter"&&d(m.id)},children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center","aria-hidden":!0,children:h.jsx(wl,{className:"w-5 h-5 text-primary","aria-hidden":!0})}),h.jsxs("div",{children:[h.jsxs("p",{className:"font-medium",children:["Analysis ",m.id.slice(0,8)]}),h.jsx("p",{className:"text-sm text-muted-foreground",children:f(m.created_at)})]})]}),h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${p(m.status)}`,"aria-label":`Status ${m.status}`,children:m.status}),h.jsx(Oe,{variant:"ghost",size:"sm","aria-label":`View results for ${m.id}`,children:"View Results"})]})]},m.id))})})]})]})]})};var Zg="focusScope.autoFocusOnMount",Jg="focusScope.autoFocusOnUnmount",iA={bubbles:!1,cancelable:!0},jX="FocusScope",eO=y.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=y.useState(null),c=yr(s),d=yr(i),f=y.useRef(null),p=ut(e,v=>l(v)),m=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(r){let v=function(T){if(m.paused||!a)return;const I=T.target;a.contains(I)?f.current=I:ti(f.current,{select:!0})},x=function(T){if(m.paused||!a)return;const I=T.relatedTarget;I!==null&&(a.contains(I)||ti(f.current,{select:!0}))},w=function(T){if(document.activeElement===document.body)for(const C of T)C.removedNodes.length>0&&ti(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",x);const E=new MutationObserver(w);return a&&E.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",x),E.disconnect()}}},[r,a,m.paused]),y.useEffect(()=>{if(a){aA.add(m);const v=document.activeElement;if(!a.contains(v)){const w=new CustomEvent(Zg,iA);a.addEventListener(Zg,c),a.dispatchEvent(w),w.defaultPrevented||(VX(BX(tO(a)),{select:!0}),document.activeElement===v&&ti(a))}return()=>{a.removeEventListener(Zg,c),setTimeout(()=>{const w=new CustomEvent(Jg,iA);a.addEventListener(Jg,d),a.dispatchEvent(w),w.defaultPrevented||ti(v??document.body,{select:!0}),a.removeEventListener(Jg,d),aA.remove(m)},0)}}},[a,c,d,m]);const b=y.useCallback(v=>{if(!n&&!r||m.paused)return;const x=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,w=document.activeElement;if(x&&w){const E=v.currentTarget,[T,I]=LX(E);T&&I?!v.shiftKey&&w===I?(v.preventDefault(),n&&ti(T,{select:!0})):v.shiftKey&&w===T&&(v.preventDefault(),n&&ti(I,{select:!0})):w===E&&v.preventDefault()}},[n,r,m.paused]);return h.jsx(je.div,{tabIndex:-1,...o,ref:p,onKeyDown:b})});eO.displayName=jX;function VX(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(ti(r,{select:e}),document.activeElement!==n)return}function LX(t){const e=tO(t),n=oA(e,t),r=oA(e.reverse(),t);return[n,r]}function tO(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function oA(t,e){for(const n of t)if(!FX(n,{upTo:e}))return n}function FX(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function UX(t){return t instanceof HTMLInputElement&&"select"in t}function ti(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&UX(t)&&e&&t.select()}}var aA=$X();function $X(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=lA(t,e),t.unshift(e)},remove(e){var n;t=lA(t,e),(n=t[0])==null||n.resume()}}}function lA(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function BX(t){return t.filter(e=>e.tagName!=="A")}var ey=0;function zX(){y.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??cA()),document.body.insertAdjacentElement("beforeend",t[1]??cA()),ey++,()=>{ey===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),ey--}},[])}function cA(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Vr=function(){return Vr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Vr.apply(this,arguments)};function nO(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function WX(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var nf="right-scroll-bar-position",rf="width-before-scroll-bar",HX="with-scroll-bars-hidden",qX="--removed-body-scroll-bar-size";function ty(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function GX(t,e){var n=y.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var KX=typeof window<"u"?y.useLayoutEffect:y.useEffect,uA=new WeakMap;function QX(t,e){var n=GX(null,function(r){return t.forEach(function(s){return ty(s,r)})});return KX(function(){var r=uA.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||ty(a,null)}),i.forEach(function(a){s.has(a)||ty(a,o)})}uA.set(n,t)},[t]),n}function YX(t){return t}function XX(t,e){e===void 0&&(e=YX);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var d=o;o=[],d.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return s}function ZX(t){t===void 0&&(t={});var e=XX(null);return e.options=Vr({async:!0,ssr:!1},t),e}var rO=function(t){var e=t.sideCar,n=nO(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return y.createElement(r,Vr({},n))};rO.isSideCarExport=!0;function JX(t,e){return t.useMedium(e),rO}var sO=ZX(),ny=function(){},Em=y.forwardRef(function(t,e){var n=y.useRef(null),r=y.useState({onScrollCapture:ny,onWheelCapture:ny,onTouchMoveCapture:ny}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,f=t.shards,p=t.sideCar,m=t.noRelative,b=t.noIsolation,v=t.inert,x=t.allowPinchZoom,w=t.as,E=w===void 0?"div":w,T=t.gapMode,I=nO(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=p,M=QX([n,e]),A=Vr(Vr({},I),s);return y.createElement(y.Fragment,null,d&&y.createElement(C,{sideCar:sO,removeScrollBar:c,shards:f,noRelative:m,noIsolation:b,inert:v,setCallbacks:i,allowPinchZoom:!!x,lockRef:n,gapMode:T}),o?y.cloneElement(y.Children.only(a),Vr(Vr({},A),{ref:M})):y.createElement(E,Vr({},A,{className:l,ref:M}),a))});Em.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Em.classNames={fullWidth:rf,zeroRight:nf};var eZ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function tZ(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=eZ();return e&&t.setAttribute("nonce",e),t}function nZ(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function rZ(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var sZ=function(){var t=0,e=null;return{add:function(n){t==0&&(e=tZ())&&(nZ(e,n),rZ(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},iZ=function(){var t=sZ();return function(e,n){y.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},iO=function(){var t=iZ(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},oZ={left:0,top:0,right:0,gap:0},ry=function(t){return parseInt(t||"",10)||0},aZ=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[ry(n),ry(r),ry(s)]},lZ=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return oZ;var e=aZ(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},cZ=iO(),tl="data-scroll-locked",uZ=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(HX,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(tl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(nf,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(rf,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(nf," .").concat(nf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(rf," .").concat(rf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(tl,`] {
    `).concat(qX,": ").concat(a,`px;
  }
`)},dA=function(){var t=parseInt(document.body.getAttribute(tl)||"0",10);return isFinite(t)?t:0},dZ=function(){y.useEffect(function(){return document.body.setAttribute(tl,(dA()+1).toString()),function(){var t=dA()-1;t<=0?document.body.removeAttribute(tl):document.body.setAttribute(tl,t.toString())}},[])},hZ=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;dZ();var i=y.useMemo(function(){return lZ(s)},[s]);return y.createElement(cZ,{styles:uZ(i,!e,s,n?"":"!important")})},mw=!1;if(typeof window<"u")try{var Th=Object.defineProperty({},"passive",{get:function(){return mw=!0,!0}});window.addEventListener("test",Th,Th),window.removeEventListener("test",Th,Th)}catch{mw=!1}var ya=mw?{passive:!1}:!1,fZ=function(t){return t.tagName==="TEXTAREA"},oO=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!fZ(t)&&n[e]==="visible")},pZ=function(t){return oO(t,"overflowY")},mZ=function(t){return oO(t,"overflowX")},hA=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=aO(t,r);if(s){var i=lO(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},gZ=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},yZ=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},aO=function(t,e){return t==="v"?pZ(e):mZ(e)},lO=function(t,e){return t==="v"?gZ(e):yZ(e)},vZ=function(t,e){return t==="h"&&e==="rtl"?-1:1},wZ=function(t,e,n,r,s){var i=vZ(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,d=o>0,f=0,p=0;do{if(!a)break;var m=lO(t,a),b=m[0],v=m[1],x=m[2],w=v-x-i*b;(b||w)&&aO(t,a)&&(f+=w,p+=b);var E=a.parentNode;a=E&&E.nodeType===Node.DOCUMENT_FRAGMENT_NODE?E.host:E}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&Math.abs(f)<1||!d&&Math.abs(p)<1)&&(c=!0),c},bh=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},fA=function(t){return[t.deltaX,t.deltaY]},pA=function(t){return t&&"current"in t?t.current:t},_Z=function(t,e){return t[0]===e[0]&&t[1]===e[1]},xZ=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},EZ=0,va=[];function TZ(t){var e=y.useRef([]),n=y.useRef([0,0]),r=y.useRef(),s=y.useState(EZ++)[0],i=y.useState(iO)[0],o=y.useRef(t);y.useEffect(function(){o.current=t},[t]),y.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var v=WX([t.lockRef.current],(t.shards||[]).map(pA),!0).filter(Boolean);return v.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=y.useCallback(function(v,x){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var w=bh(v),E=n.current,T="deltaX"in v?v.deltaX:E[0]-w[0],I="deltaY"in v?v.deltaY:E[1]-w[1],C,M=v.target,A=Math.abs(T)>Math.abs(I)?"h":"v";if("touches"in v&&A==="h"&&M.type==="range")return!1;var S=hA(A,M);if(!S)return!0;if(S?C=A:(C=A==="v"?"h":"v",S=hA(A,M)),!S)return!1;if(!r.current&&"changedTouches"in v&&(T||I)&&(r.current=C),!C)return!0;var P=r.current||C;return wZ(P,x,v,P==="h"?T:I)},[]),l=y.useCallback(function(v){var x=v;if(!(!va.length||va[va.length-1]!==i)){var w="deltaY"in x?fA(x):bh(x),E=e.current.filter(function(C){return C.name===x.type&&(C.target===x.target||x.target===C.shadowParent)&&_Z(C.delta,w)})[0];if(E&&E.should){x.cancelable&&x.preventDefault();return}if(!E){var T=(o.current.shards||[]).map(pA).filter(Boolean).filter(function(C){return C.contains(x.target)}),I=T.length>0?a(x,T[0]):!o.current.noIsolation;I&&x.cancelable&&x.preventDefault()}}},[]),c=y.useCallback(function(v,x,w,E){var T={name:v,delta:x,target:w,should:E,shadowParent:bZ(w)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(I){return I!==T})},1)},[]),d=y.useCallback(function(v){n.current=bh(v),r.current=void 0},[]),f=y.useCallback(function(v){c(v.type,fA(v),v.target,a(v,t.lockRef.current))},[]),p=y.useCallback(function(v){c(v.type,bh(v),v.target,a(v,t.lockRef.current))},[]);y.useEffect(function(){return va.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",l,ya),document.addEventListener("touchmove",l,ya),document.addEventListener("touchstart",d,ya),function(){va=va.filter(function(v){return v!==i}),document.removeEventListener("wheel",l,ya),document.removeEventListener("touchmove",l,ya),document.removeEventListener("touchstart",d,ya)}},[]);var m=t.removeScrollBar,b=t.inert;return y.createElement(y.Fragment,null,b?y.createElement(i,{styles:xZ(s)}):null,m?y.createElement(hZ,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function bZ(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const SZ=JX(sO,TZ);var cO=y.forwardRef(function(t,e){return y.createElement(Em,Vr({},t,{ref:e,sideCar:SZ}))});cO.classNames=Em.classNames;var AZ=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},wa=new WeakMap,Sh=new WeakMap,Ah={},sy=0,uO=function(t){return t&&(t.host||uO(t.parentNode))},CZ=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=uO(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},IZ=function(t,e,n,r){var s=CZ(e,Array.isArray(t)?t:[t]);Ah[n]||(Ah[n]=new WeakMap);var i=Ah[n],o=[],a=new Set,l=new Set(s),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};s.forEach(c);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(p){if(a.has(p))d(p);else try{var m=p.getAttribute(r),b=m!==null&&m!=="false",v=(wa.get(p)||0)+1,x=(i.get(p)||0)+1;wa.set(p,v),i.set(p,x),o.push(p),v===1&&b&&Sh.set(p,!0),x===1&&p.setAttribute(n,"true"),b||p.setAttribute(r,"true")}catch(w){console.error("aria-hidden: cannot operate on ",p,w)}})};return d(e),a.clear(),sy++,function(){o.forEach(function(f){var p=wa.get(f)-1,m=i.get(f)-1;wa.set(f,p),i.set(f,m),p||(Sh.has(f)||f.removeAttribute(r),Sh.delete(f)),m||f.removeAttribute(n)}),sy--,sy||(wa=new WeakMap,wa=new WeakMap,Sh=new WeakMap,Ah={})}},PZ=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=AZ(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),IZ(r,s,n,"aria-hidden")):function(){return null}},Tm="Dialog",[dO,hO]=es(Tm),[RZ,_r]=dO(Tm),fO=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=y.useRef(null),l=y.useRef(null),[c,d]=ld({prop:r,defaultProp:s??!1,onChange:i,caller:Tm});return h.jsx(RZ,{scope:e,triggerRef:a,contentRef:l,contentId:Qc(),titleId:Qc(),descriptionId:Qc(),open:c,onOpenChange:d,onOpenToggle:y.useCallback(()=>d(f=>!f),[d]),modal:o,children:n})};fO.displayName=Tm;var pO="DialogTrigger",mO=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=_r(pO,n),i=ut(e,s.triggerRef);return h.jsx(je.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":lx(s.open),...r,ref:i,onClick:Ee(t.onClick,s.onOpenToggle)})});mO.displayName=pO;var ox="DialogPortal",[kZ,gO]=dO(ox,{forceMount:void 0}),yO=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=_r(ox,e);return h.jsx(kZ,{scope:e,forceMount:n,children:y.Children.map(r,o=>h.jsx(Ji,{present:n||i.open,children:h.jsx(d0,{asChild:!0,container:s,children:o})}))})};yO.displayName=ox;var gp="DialogOverlay",vO=y.forwardRef((t,e)=>{const n=gO(gp,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=_r(gp,t.__scopeDialog);return i.modal?h.jsx(Ji,{present:r||i.open,children:h.jsx(DZ,{...s,ref:e})}):null});vO.displayName=gp;var NZ=Su("DialogOverlay.RemoveScroll"),DZ=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=_r(gp,n);return h.jsx(cO,{as:NZ,allowPinchZoom:!0,shards:[s.contentRef],children:h.jsx(je.div,{"data-state":lx(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),ta="DialogContent",wO=y.forwardRef((t,e)=>{const n=gO(ta,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=_r(ta,t.__scopeDialog);return h.jsx(Ji,{present:r||i.open,children:i.modal?h.jsx(OZ,{...s,ref:e}):h.jsx(MZ,{...s,ref:e})})});wO.displayName=ta;var OZ=y.forwardRef((t,e)=>{const n=_r(ta,t.__scopeDialog),r=y.useRef(null),s=ut(e,n.contentRef,r);return y.useEffect(()=>{const i=r.current;if(i)return PZ(i)},[]),h.jsx(_O,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ee(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ee(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:Ee(t.onFocusOutside,i=>i.preventDefault())})}),MZ=y.forwardRef((t,e)=>{const n=_r(ta,t.__scopeDialog),r=y.useRef(!1),s=y.useRef(!1);return h.jsx(_O,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),_O=y.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=_r(ta,n),l=y.useRef(null),c=ut(e,l);return zX(),h.jsxs(h.Fragment,{children:[h.jsx(eO,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:h.jsx(Lp,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":lx(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),h.jsxs(h.Fragment,{children:[h.jsx(VZ,{titleId:a.titleId}),h.jsx(FZ,{contentRef:l,descriptionId:a.descriptionId})]})]})}),ax="DialogTitle",xO=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=_r(ax,n);return h.jsx(je.h2,{id:s.titleId,...r,ref:e})});xO.displayName=ax;var EO="DialogDescription",TO=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=_r(EO,n);return h.jsx(je.p,{id:s.descriptionId,...r,ref:e})});TO.displayName=EO;var bO="DialogClose",SO=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=_r(bO,n);return h.jsx(je.button,{type:"button",...r,ref:e,onClick:Ee(t.onClick,()=>s.onOpenChange(!1))})});SO.displayName=bO;function lx(t){return t?"open":"closed"}var AO="DialogTitleWarning",[jZ,CO]=RL(AO,{contentName:ta,titleName:ax,docsSlug:"dialog"}),VZ=({titleId:t})=>{const e=CO(AO),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return y.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},LZ="DialogDescriptionWarning",FZ=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${CO(LZ).contentName}}.`;return y.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},IO=fO,UZ=mO,PO=yO,cx=vO,ux=wO,dx=xO,hx=TO,fx=SO;const $Z=IO,BZ=PO,RO=y.forwardRef(({className:t,...e},n)=>h.jsx(cx,{ref:n,className:he("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));RO.displayName=cx.displayName;const kO=y.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(BZ,{children:[h.jsx(RO,{}),h.jsxs(ux,{ref:r,className:he("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,h.jsxs(fx,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[h.jsx(g0,{className:"h-4 w-4"}),h.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));kO.displayName=ux.displayName;const NO=({className:t,...e})=>h.jsx("div",{className:he("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});NO.displayName="DialogHeader";const DO=y.forwardRef(({className:t,...e},n)=>h.jsx(dx,{ref:n,className:he("text-lg font-semibold leading-none tracking-tight",t),...e}));DO.displayName=dx.displayName;const OO=y.forwardRef(({className:t,...e},n)=>h.jsx(hx,{ref:n,className:he("text-sm text-muted-foreground",t),...e}));OO.displayName=hx.displayName;var MO="AlertDialog",[zZ]=es(MO,[hO]),Fs=hO(),jO=t=>{const{__scopeAlertDialog:e,...n}=t,r=Fs(e);return h.jsx(IO,{...r,...n,modal:!0})};jO.displayName=MO;var WZ="AlertDialogTrigger",HZ=y.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Fs(n);return h.jsx(UZ,{...s,...r,ref:e})});HZ.displayName=WZ;var qZ="AlertDialogPortal",VO=t=>{const{__scopeAlertDialog:e,...n}=t,r=Fs(e);return h.jsx(PO,{...r,...n})};VO.displayName=qZ;var GZ="AlertDialogOverlay",LO=y.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Fs(n);return h.jsx(cx,{...s,...r,ref:e})});LO.displayName=GZ;var nl="AlertDialogContent",[KZ,QZ]=zZ(nl),YZ=zI("AlertDialogContent"),FO=y.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...s}=t,i=Fs(n),o=y.useRef(null),a=ut(e,o),l=y.useRef(null);return h.jsx(jZ,{contentName:nl,titleName:UO,docsSlug:"alert-dialog",children:h.jsx(KZ,{scope:n,cancelRef:l,children:h.jsxs(ux,{role:"alertdialog",...i,...s,ref:a,onOpenAutoFocus:Ee(s.onOpenAutoFocus,c=>{var d;c.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[h.jsx(YZ,{children:r}),h.jsx(ZZ,{contentRef:o})]})})})});FO.displayName=nl;var UO="AlertDialogTitle",$O=y.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Fs(n);return h.jsx(dx,{...s,...r,ref:e})});$O.displayName=UO;var BO="AlertDialogDescription",zO=y.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Fs(n);return h.jsx(hx,{...s,...r,ref:e})});zO.displayName=BO;var XZ="AlertDialogAction",WO=y.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Fs(n);return h.jsx(fx,{...s,...r,ref:e})});WO.displayName=XZ;var HO="AlertDialogCancel",qO=y.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:s}=QZ(HO,n),i=Fs(n),o=ut(e,s);return h.jsx(fx,{...i,...r,ref:o})});qO.displayName=HO;var ZZ=({contentRef:t})=>{const e=`\`${nl}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${nl}\` by passing a \`${BO}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${nl}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return y.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},JZ=jO,eJ=VO,GO=LO,KO=FO,QO=WO,YO=qO,XO=$O,ZO=zO;const tJ=JZ,nJ=eJ,JO=y.forwardRef(({className:t,...e},n)=>h.jsx(GO,{className:he("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));JO.displayName=GO.displayName;const eM=y.forwardRef(({className:t,...e},n)=>h.jsxs(nJ,{children:[h.jsx(JO,{}),h.jsx(KO,{ref:n,className:he("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));eM.displayName=KO.displayName;const tM=({className:t,...e})=>h.jsx("div",{className:he("flex flex-col space-y-2 text-center sm:text-left",t),...e});tM.displayName="AlertDialogHeader";const nM=({className:t,...e})=>h.jsx("div",{className:he("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});nM.displayName="AlertDialogFooter";const rM=y.forwardRef(({className:t,...e},n)=>h.jsx(XO,{ref:n,className:he("text-lg font-semibold",t),...e}));rM.displayName=XO.displayName;const sM=y.forwardRef(({className:t,...e},n)=>h.jsx(ZO,{ref:n,className:he("text-sm text-muted-foreground",t),...e}));sM.displayName=ZO.displayName;const iM=y.forwardRef(({className:t,...e},n)=>h.jsx(QO,{ref:n,className:he(b_(),t),...e}));iM.displayName=QO.displayName;const oM=y.forwardRef(({className:t,...e},n)=>h.jsx(YO,{ref:n,className:he(b_({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));oM.displayName=YO.displayName;function rJ(t){const e=y.useRef({value:t,previous:t});return y.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var px="Radio",[sJ,aM]=es(px),[iJ,oJ]=sJ(px),lM=y.forwardRef((t,e)=>{const{__scopeRadio:n,name:r,checked:s=!1,required:i,disabled:o,value:a="on",onCheck:l,form:c,...d}=t,[f,p]=y.useState(null),m=ut(e,x=>p(x)),b=y.useRef(!1),v=f?c||!!f.closest("form"):!0;return h.jsxs(iJ,{scope:n,checked:s,disabled:o,children:[h.jsx(je.button,{type:"button",role:"radio","aria-checked":s,"data-state":hM(s),"data-disabled":o?"":void 0,disabled:o,value:a,...d,ref:m,onClick:Ee(t.onClick,x=>{s||l==null||l(),v&&(b.current=x.isPropagationStopped(),b.current||x.stopPropagation())})}),v&&h.jsx(dM,{control:f,bubbles:!b.current,name:r,value:a,checked:s,required:i,disabled:o,form:c,style:{transform:"translateX(-100%)"}})]})});lM.displayName=px;var cM="RadioIndicator",uM=y.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:r,...s}=t,i=oJ(cM,n);return h.jsx(Ji,{present:r||i.checked,children:h.jsx(je.span,{"data-state":hM(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e})})});uM.displayName=cM;var aJ="RadioBubbleInput",dM=y.forwardRef(({__scopeRadio:t,control:e,checked:n,bubbles:r=!0,...s},i)=>{const o=y.useRef(null),a=ut(o,i),l=rJ(n),c=BP(e);return y.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==n&&m){const b=new Event("click",{bubbles:r});m.call(d,n),d.dispatchEvent(b)}},[l,n,r]),h.jsx(je.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:a,style:{...s.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});dM.displayName=aJ;function hM(t){return t?"checked":"unchecked"}var lJ=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],bm="RadioGroup",[cJ]=es(bm,[_m,aM]),fM=_m(),pM=aM(),[uJ,dJ]=cJ(bm),mM=y.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:r,defaultValue:s,value:i,required:o=!1,disabled:a=!1,orientation:l,dir:c,loop:d=!0,onValueChange:f,...p}=t,m=fM(n),b=rx(c),[v,x]=ld({prop:i,defaultProp:s??null,onChange:f,caller:bm});return h.jsx(uJ,{scope:n,name:r,required:o,disabled:a,value:v,onValueChange:x,children:h.jsx(OD,{asChild:!0,...m,orientation:l,dir:b,loop:d,children:h.jsx(je.div,{role:"radiogroup","aria-required":o,"aria-orientation":l,"data-disabled":a?"":void 0,dir:b,...p,ref:e})})})});mM.displayName=bm;var gM="RadioGroupItem",yM=y.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:r,...s}=t,i=dJ(gM,n),o=i.disabled||r,a=fM(n),l=pM(n),c=y.useRef(null),d=ut(e,c),f=i.value===s.value,p=y.useRef(!1);return y.useEffect(()=>{const m=v=>{lJ.includes(v.key)&&(p.current=!0)},b=()=>p.current=!1;return document.addEventListener("keydown",m),document.addEventListener("keyup",b),()=>{document.removeEventListener("keydown",m),document.removeEventListener("keyup",b)}},[]),h.jsx(MD,{asChild:!0,...a,focusable:!o,active:f,children:h.jsx(lM,{disabled:o,required:i.required,checked:f,...l,...s,name:i.name,ref:d,onCheck:()=>i.onValueChange(s.value),onKeyDown:Ee(m=>{m.key==="Enter"&&m.preventDefault()}),onFocus:Ee(s.onFocus,()=>{var m;p.current&&((m=c.current)==null||m.click())})})})});yM.displayName=gM;var hJ="RadioGroupIndicator",vM=y.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...r}=t,s=pM(n);return h.jsx(uM,{...s,...r,ref:e})});vM.displayName=hJ;var wM=mM,_M=yM,fJ=vM;const xM=y.forwardRef(({className:t,...e},n)=>h.jsx(wM,{className:he("grid gap-2",t),...e,ref:n}));xM.displayName=wM.displayName;const EM=y.forwardRef(({className:t,...e},n)=>h.jsx(_M,{ref:n,className:he("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:h.jsx(fJ,{className:"flex items-center justify-center",children:h.jsx(F4,{className:"h-2.5 w-2.5 fill-current text-current"})})}));EM.displayName=_M.displayName;const yp=y.forwardRef(({className:t,...e},n)=>h.jsx("textarea",{className:he("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));yp.displayName="Textarea";function pJ(t,e=[]){let n=[];function r(i,o){const a=y.createContext(o);a.displayName=i+"Context";const l=n.length;n=[...n,o];const c=f=>{var w;const{scope:p,children:m,...b}=f,v=((w=p==null?void 0:p[t])==null?void 0:w[l])||a,x=y.useMemo(()=>b,Object.values(b));return h.jsx(v.Provider,{value:x,children:m})};c.displayName=i+"Provider";function d(f,p){var v;const m=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,b=y.useContext(m);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[c,d]}const s=()=>{const i=n.map(o=>y.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,mJ(s,...e)]}function mJ(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var gJ=Symbol.for("react.lazy"),vp=Vl[" use ".trim().toString()];function yJ(t){return typeof t=="object"&&t!==null&&"then"in t}function TM(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===gJ&&"_payload"in t&&yJ(t._payload)}function vJ(t){const e=wJ(t),n=y.forwardRef((r,s)=>{let{children:i,...o}=r;TM(i)&&typeof vp=="function"&&(i=vp(i._payload));const a=y.Children.toArray(i),l=a.find(xJ);if(l){const c=l.props.children,d=a.map(f=>f===l?y.Children.count(c)>1?y.Children.only(null):y.isValidElement(c)?c.props.children:null:f);return h.jsx(e,{...o,ref:s,children:y.isValidElement(c)?y.cloneElement(c,void 0,d):null})}return h.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function wJ(t){const e=y.forwardRef((n,r)=>{let{children:s,...i}=n;if(TM(s)&&typeof vp=="function"&&(s=vp(s._payload)),y.isValidElement(s)){const o=TJ(s),a=EJ(i,s.props);return s.type!==y.Fragment&&(a.ref=r?ad(r,o):o),y.cloneElement(s,a)}return y.Children.count(s)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var _J=Symbol("radix.slottable");function xJ(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===_J}function EJ(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function TJ(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var bJ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],bM=bJ.reduce((t,e)=>{const n=vJ(`Primitive.${e}`),r=y.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),mx="Progress",gx=100,[SJ]=pJ(mx),[AJ,CJ]=SJ(mx),SM=y.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=IJ,...o}=t;(s||s===0)&&!mA(s)&&console.error(PJ(`${s}`,"Progress"));const a=mA(s)?s:gx;r!==null&&!gA(r,a)&&console.error(RJ(`${r}`,"Progress"));const l=gA(r,a)?r:null,c=wp(l)?i(l,a):void 0;return h.jsx(AJ,{scope:n,value:l,max:a,children:h.jsx(bM.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":wp(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":IM(l,a),"data-value":l??void 0,"data-max":a,...o,ref:e})})});SM.displayName=mx;var AM="ProgressIndicator",CM=y.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=CJ(AM,n);return h.jsx(bM.div,{"data-state":IM(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});CM.displayName=AM;function IJ(t,e){return`${Math.round(t/e*100)}%`}function IM(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function wp(t){return typeof t=="number"}function mA(t){return wp(t)&&!isNaN(t)&&t>0}function gA(t,e){return wp(t)&&!isNaN(t)&&t<=e&&t>=0}function PJ(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${gx}\`.`}function RJ(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${gx} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var PM=SM,kJ=CM;const rl=y.forwardRef(({className:t,value:e,...n},r)=>h.jsx(PM,{ref:r,className:he("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:h.jsx(kJ,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));rl.displayName=PM.displayName;const mo=[{id:"age_range",question:"What is your age range?",type:"radio",options:["18-24","25-29","30-34","35-39","40-44","45+"]},{id:"gender",question:"How do you identify?",type:"radio",options:["Male","Female","Non-binary","Prefer not to say"]},{id:"dating_goal",question:"What are you looking for?",type:"radio",options:["Long-term relationship","Short-term dating","New friends","Not sure yet"]},{id:"personality_type",question:"How would you describe your personality?",type:"radio",options:["Outgoing and social","Reserved and thoughtful","Adventurous and spontaneous","Calm and steady","Creative and expressive"]},{id:"conversation_style",question:"Your conversation style:",type:"radio",options:["Deep and meaningful","Light and playful","Intellectual and curious","Funny and entertaining","Balanced mix"]},{id:"humor_style",question:"Your sense of humor:",type:"radio",options:["Witty and clever","Sarcastic","Silly and goofy","Dry humor","Not very humorous"]},{id:"dating_experience",question:"Your dating app experience:",type:"radio",options:["Very experienced","Somewhat experienced","New to dating apps","First time"]},{id:"interests",question:"What are your main interests? (List a few)",type:"textarea",placeholder:"e.g., hiking, reading, cooking, travel, music..."},{id:"ideal_match",question:"Describe your ideal match in a few words:",type:"textarea",placeholder:"What qualities are you looking for in a partner?"}],NJ=({open:t,onComplete:e,onSkip:n})=>{var S;const[r,s]=y.useState(!0),[i,o]=y.useState(0),[a,l]=y.useState({}),[c,d]=y.useState(!1),[f,p]=y.useState(!1),{user:m}=Ql(),{toast:b}=sa(),v=mo[i],x=(i+1)/mo.length*100,w=P=>{l({...a,[v.id]:P})},E=()=>{if(!a[v.id]){b({title:"Answer required",description:"Please answer the question before continuing.",variant:"destructive"});return}i<mo.length-1?o(i+1):I()},T=()=>{i>0&&o(i-1)},I=async()=>{if(!m){b({title:"Error",description:"You must be logged in to continue.",variant:"destructive"});return}d(!0);try{const P=y_(T_,"user_personalities",m.uid);await zN(P,{...a,user_id:m.uid,created_at:ep(),updated_at:ep()}),b({title:"Profile complete!",description:"Your personality profile has been saved."}),e()}catch(P){console.error("Error saving personality data:",P),b({title:"Error",description:P.message||"Failed to save your profile. Please try again.",variant:"destructive"})}finally{d(!1)}},C=()=>{p(!0)},M=()=>{p(!1),n()},A=P=>{P?(s(!0),o(0)):c||n()};return h.jsxs(h.Fragment,{children:[h.jsx($Z,{open:t,onOpenChange:A,children:h.jsxs(kO,{className:"max-w-2xl max-h-[90vh] overflow-y-auto","aria-label":"Personality assessment",children:[h.jsxs(NO,{children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Pf,{className:"w-6 h-6 text-primary"}),h.jsx(DO,{children:r?"Personalize Your Analysis":"Tell us about yourself"})]}),h.jsx(OO,{children:r?"Get insights tailored specifically to your dating goals and personality":"Help us provide personalized insights by answering a few questions about your personality and dating goals."})]}),r?h.jsxs("div",{className:"space-y-6 py-4",children:[h.jsxs("div",{className:"space-y-4",children:[h.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Why do we need this?"}),h.jsx("p",{className:"text-muted-foreground",children:"Dating profiles work differently for everyone. What works for someone seeking a long-term relationship might not work for someone looking for casual dating. Your personality, conversation style, and goals all influence how others perceive your profile."})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"What you'll get:"}),h.jsxs("ul",{className:"space-y-3",children:[h.jsxs("li",{className:"flex items-start gap-3",children:[h.jsx("div",{className:"w-6 h-6 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0 mt-0.5",children:h.jsx("span",{className:"text-primary text-sm font-semibold",children:"1"})}),h.jsxs("div",{children:[h.jsx("p",{className:"font-medium text-foreground",children:"Goal-Aligned Feedback"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Recommendations based on whether you're seeking long-term love, casual dating, or new friends"})]})]}),h.jsxs("li",{className:"flex items-start gap-3",children:[h.jsx("div",{className:"w-6 h-6 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0 mt-0.5",children:h.jsx("span",{className:"text-primary text-sm font-semibold",children:"2"})}),h.jsxs("div",{children:[h.jsx("p",{className:"font-medium text-foreground",children:"Personality-Matched Advice"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Tips that work for your unique style - whether you're outgoing, reserved, or somewhere in between"})]})]}),h.jsxs("li",{className:"flex items-start gap-3",children:[h.jsx("div",{className:"w-6 h-6 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0 mt-0.5",children:h.jsx("span",{className:"text-primary text-sm font-semibold",children:"3"})}),h.jsxs("div",{children:[h.jsx("p",{className:"font-medium text-foreground",children:"Context-Aware Insights"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Analysis considers your experience level and what you're looking for in a match"})]})]})]})]}),h.jsx("div",{className:"bg-primary/5 border border-primary/20 rounded-lg p-4",children:h.jsxs("p",{className:"text-sm text-foreground",children:[h.jsx("strong",{children:" Takes less than 2 minutes"}),"  9 quick questions"]})}),h.jsxs("div",{className:"flex justify-between items-center pt-4 border-t",children:[h.jsx(Oe,{variant:"ghost",onClick:C,disabled:c,"aria-label":"Skip personality assessment",children:"Skip for now"}),h.jsxs(Oe,{onClick:()=>s(!1),"aria-label":"Start personality assessment",size:"lg",children:["Start Assessment",h.jsx(Kc,{className:"w-4 h-4 ml-2"})]})]})]}):h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(rl,{value:x,className:"h-2","aria-label":`Progress: ${Math.round(x)}%`}),h.jsxs("p",{className:"text-sm text-muted-foreground",children:["Question ",i+1," of ",mo.length]})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx(ms,{className:"text-lg font-semibold","aria-label":`Question ${i+1}`,children:v.question}),v.type==="radio"&&h.jsx(xM,{value:a[v.id]||"",onValueChange:w,"aria-label":v.question,children:(S=v.options)==null?void 0:S.map(P=>h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(EM,{value:P,id:P}),h.jsx(ms,{htmlFor:P,className:"cursor-pointer font-normal",children:P})]},P))}),v.type==="textarea"&&h.jsx(yp,{value:a[v.id]||"",onChange:P=>w(P.target.value),placeholder:v.placeholder,rows:4,maxLength:500,"aria-label":v.question})]}),h.jsxs("div",{className:"flex justify-between items-center pt-4 border-t",children:[h.jsxs(Oe,{variant:"outline",onClick:T,disabled:i===0,"aria-label":"Previous question",children:[h.jsx(m0,{className:"w-4 h-4 mr-2"}),"Back"]}),h.jsx(Oe,{variant:"ghost",onClick:C,disabled:c,"aria-label":"Skip personality assessment",children:"Skip for now"}),h.jsxs(Oe,{onClick:E,disabled:c||!a[v.id],"aria-label":i===mo.length-1?"Submit answers":"Next question",children:[c?"Saving...":i===mo.length-1?"Complete":"Next",!c&&i<mo.length-1&&h.jsx(Kc,{className:"w-4 h-4 ml-2"})]})]})]})]})}),h.jsx(tJ,{open:f,onOpenChange:p,children:h.jsxs(eM,{children:[h.jsxs(tM,{children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx(lF,{className:"w-6 h-6 text-orange-500"}),h.jsx(rM,{children:"Skip Personality Assessment?"})]}),h.jsxs(sM,{className:"space-y-3",children:[h.jsxs("p",{children:[h.jsx("strong",{className:"text-foreground",children:"Warning:"})," Without your personality profile, our analysis will be more generic and may not fully match your dating goals and preferences."]}),h.jsx("p",{className:"text-sm",children:"Personalized insights help us tailor recommendations specifically to:"}),h.jsxs("ul",{className:"text-sm list-disc list-inside space-y-1 ml-2",children:[h.jsx("li",{children:"Your relationship goals (long-term, casual, friends)"}),h.jsx("li",{children:"Your personality type and conversation style"}),h.jsx("li",{children:"What you're looking for in a match"}),h.jsx("li",{children:"Your experience level with dating apps"})]}),h.jsx("p",{className:"text-sm font-medium text-foreground",children:"This takes less than 2 minutes and significantly improves your results."})]})]}),h.jsxs(nM,{children:[h.jsx(oM,{onClick:M,className:"bg-transparent hover:bg-muted",children:"Skip Anyway"}),h.jsx(iM,{onClick:()=>p(!1),className:"bg-primary hover:bg-primary/90",children:"Continue Assessment"})]})]})})]})},DJ=10*1024*1024,OJ=["image/jpeg","image/jpg","image/png","image/webp"],MJ=mp({photos:sA(CX()).min(3,"Upload at least 3 photos").max(10,"Maximum 10 photos"),bio:Oi().max(500,"Bio must be less than 500 characters").optional(),textResponses:sA(mp({question:Oi().trim().min(1,"Question cannot be empty").max(200),answer:Oi().trim().min(1,"Answer cannot be empty").max(1e3)})).optional()}),jJ=()=>{const{user:t}=Ql(),[e,n]=y.useState([]),[r,s]=y.useState(""),[i,o]=y.useState([]),[a,l]=y.useState(!1),[c,d]=y.useState(null),[f,p]=y.useState(!1),[m,b]=y.useState(!1),v=ia(),{toast:x}=sa();y.useEffect(()=>{(async()=>{if(t)try{const R=y_(T_,"user_personalities",t.uid),O=await BN(R);d(O.exists())}catch(R){console.error("Error checking personality profile:",R),d(!1)}})()},[t]);const w=N=>{const O=Array.from(N.target.files||[]).filter(D=>OJ.includes(D.type)?D.size>DJ?(x({title:"File too large",description:`${D.name} exceeds 10MB limit`,variant:"destructive"}),!1):!0:(x({title:"Invalid file type",description:`${D.name} is not a supported image format`,variant:"destructive"}),!1));if(e.length+O.length>10){x({title:"Too many photos",description:"Maximum 10 photos allowed",variant:"destructive"});return}n([...e,...O])},E=N=>{n(e.filter((R,O)=>O!==N))},T=()=>{i.length<5&&o([...i,{question:"",answer:""}])},I=N=>{o(i.filter((R,O)=>O!==N))},C=(N,R,O)=>{const D=[...i];D[N][R]=O,o(D)},M=async N=>{if(t){l(!0);try{const R=await Bo.upload(t.uid,e,r.trim(),N);x({title:"Upload successful!",description:"Your profile is being analyzed. This may take a few minutes."});try{await Bo.analyzeImages(R.analysisId),console.log("Image analysis triggered successfully")}catch(O){console.error("Failed to trigger image analysis:",O)}try{for(const O of N)await Bo.analyzeTextResponse(R.analysisId,O.question,O.answer);console.log("Text analysis triggered successfully for all responses")}catch(O){console.error("Failed to trigger text analysis:",O)}v(`/results/${R.analysisId}`)}catch(R){console.error("Upload error:",R),x({title:"Upload failed",description:R.message||"Please try again",variant:"destructive"})}finally{l(!1),b(!1)}}},A=async()=>{if(p(!1),d(!0),m){const N=i.filter(R=>R.question.trim()||R.answer.trim());await M(N)}},S=async()=>{if(p(!1),m){const N=i.filter(R=>R.question.trim()||R.answer.trim());await M(N)}},P=async N=>{if(N.preventDefault(),!!t){l(!0);try{const R=i.filter(O=>O.question.trim()||O.answer.trim());if(MJ.parse({photos:e,bio:r,textResponses:R.length>0?R:void 0}),c===!1){x({title:"One more step!",description:"Please complete your personality profile for more personalized insights."}),b(!0),p(!0),l(!1);return}await M(R)}catch(R){R instanceof Kn?x({title:"Validation error",description:R.errors[0].message,variant:"destructive"}):(console.error("Upload error:",R),x({title:"Upload failed",description:R.message||"Please try again",variant:"destructive"}))}finally{l(!1)}}};return h.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[h.jsx(OX,{}),h.jsxs("div",{className:"container max-w-4xl mx-auto py-10 relative","aria-label":"Upload profile page",children:[h.jsxs(Oe,{variant:"ghost",onClick:()=>v("/dashboard"),className:"mb-6","aria-label":"Back to dashboard",children:[h.jsx(m0,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),h.jsxs("div",{className:"mb-8",children:[h.jsx("h1",{className:"text-4xl font-bold mb-3","aria-label":"Upload title",children:"Upload Your Profile"}),h.jsx("p",{className:"text-lg text-muted-foreground","aria-label":"Upload description",children:"Submit your profile content for analysis. We'll evaluate what's working well and provide recommendations for improvement."})]}),h.jsxs("form",{onSubmit:P,className:"space-y-8","aria-label":"Upload form",children:[h.jsxs(Fe,{className:"border-2 hover:border-primary/20 transition-all shadow-sm hover:shadow-lg","aria-label":"Profile photos card",children:[h.jsx(mt,{children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx(gt,{className:"text-2xl mb-1","aria-label":"Profile photos title",children:"Profile Photos"}),h.jsx(Dt,{"aria-label":"Profile photos description",children:"Upload 3-10 photos from your profile for comprehensive analysis"})]}),h.jsxs("div",{className:"text-lg font-semibold text-primary",children:[e.length,"/10"]})]})}),h.jsx(Ft,{className:"space-y-4",children:h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4","aria-label":"Uploaded photos grid",children:[e.map((N,R)=>h.jsxs("div",{className:"relative aspect-square rounded-xl overflow-hidden border-2 shadow-md hover:shadow-xl hover:-translate-y-1 transition-all duration-300 group","aria-label":`Uploaded photo ${R+1}`,children:[h.jsx("img",{src:URL.createObjectURL(N),alt:`Upload ${R+1}`,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),h.jsx(Oe,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2 h-8 w-8 shadow-lg opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>E(R),"aria-label":`Remove photo ${R+1}`,children:h.jsx(g0,{className:"w-4 h-4"})})]},R)),e.length<10&&h.jsxs("label",{className:"aspect-square rounded-xl border-2 border-dashed border-primary/30 flex items-center justify-center cursor-pointer hover:bg-primary/5 hover:border-primary/50 hover:shadow-lg hover:-translate-y-1 transition-all duration-300 group","aria-label":"Add photo",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-5xl text-primary mb-2 group-hover:scale-110 transition-transform",children:"+"}),h.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Add Photo"})]}),h.jsx("input",{type:"file",accept:"image/jpeg,image/png,image/webp",multiple:!0,onChange:w,className:"hidden","aria-label":"Photo file input"})]})]})})]}),h.jsxs(Fe,{className:"border-2 hover:border-primary/20 transition-all shadow-sm hover:shadow-lg","aria-label":"Bio card",children:[h.jsxs(mt,{children:[h.jsx(gt,{className:"text-2xl mb-1","aria-label":"Bio title",children:"Profile Bio (Optional)"}),h.jsx(Dt,{"aria-label":"Bio description",children:"Include your bio or about section to help us evaluate your written presentation"})]}),h.jsx(Ft,{children:h.jsx(yp,{placeholder:"Enter your profile bio...",value:r,onChange:N=>s(N.target.value),className:"min-h-[200px]","aria-label":"Profile bio textarea"})})]}),h.jsxs(Fe,{className:"border-2 hover:border-primary/20 transition-all shadow-sm hover:shadow-lg","aria-label":"Text responses card",children:[h.jsxs(mt,{children:[h.jsx(gt,{className:"text-2xl mb-1","aria-label":"Text responses title",children:"Prompt Responses (Optional)"}),h.jsx(Dt,{"aria-label":"Text responses description",children:"Add your responses to profile prompts for a more comprehensive text analysis"})]}),h.jsxs(Ft,{className:"space-y-4",children:[i.map((N,R)=>h.jsxs("div",{className:"space-y-2 p-4 border rounded-lg","aria-label":`Text response ${R+1}`,children:[h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs(ms,{"aria-label":`Response ${R+1} label`,children:["Response ",R+1]}),h.jsx(Oe,{type:"button",variant:"ghost",size:"sm",onClick:()=>I(R),"aria-label":`Remove response ${R+1}`,children:"Remove"})]}),h.jsx(Eo,{placeholder:"Question/Prompt",value:N.question,onChange:O=>C(R,"question",O.target.value),"aria-label":`Response ${R+1} question input`}),h.jsx(yp,{placeholder:"Your answer",value:N.answer,onChange:O=>C(R,"answer",O.target.value),className:"min-h-[100px]","aria-label":`Response ${R+1} answer input`})]},R)),i.length<5&&h.jsx(Oe,{type:"button",variant:"outline",onClick:T,className:"w-full","aria-label":"Add text response",children:"+ Add Text Response"})]})]}),h.jsx("div",{className:"flex justify-center pt-4","aria-label":"Submit area",children:h.jsx(Oe,{type:"submit",disabled:a,size:"lg",className:"text-lg px-12 py-6 shadow-lg hover:shadow-xl hover:-translate-y-0.5 transition-all duration-300 bg-gradient-to-r from-primary to-primary/80 hover:from-primary/90 hover:to-primary/70","aria-label":"Analyze my profile",children:a?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-3"}),"Analyzing Profile..."]}):h.jsx(h.Fragment,{children:"Submit"})})})]}),h.jsx(NJ,{open:f,onComplete:A,onSkip:S})]})]})},VJ=ud("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function au({className:t,variant:e,...n}){return h.jsx("div",{className:he(VJ({variant:e}),t),...n})}var LJ=Symbol.for("react.lazy"),_p=Vl[" use ".trim().toString()];function FJ(t){return typeof t=="object"&&t!==null&&"then"in t}function RM(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===LJ&&"_payload"in t&&FJ(t._payload)}function UJ(t){const e=$J(t),n=y.forwardRef((r,s)=>{let{children:i,...o}=r;RM(i)&&typeof _p=="function"&&(i=_p(i._payload));const a=y.Children.toArray(i),l=a.find(zJ);if(l){const c=l.props.children,d=a.map(f=>f===l?y.Children.count(c)>1?y.Children.only(null):y.isValidElement(c)?c.props.children:null:f);return h.jsx(e,{...o,ref:s,children:y.isValidElement(c)?y.cloneElement(c,void 0,d):null})}return h.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function $J(t){const e=y.forwardRef((n,r)=>{let{children:s,...i}=n;if(RM(s)&&typeof _p=="function"&&(s=_p(s._payload)),y.isValidElement(s)){const o=HJ(s),a=WJ(i,s.props);return s.type!==y.Fragment&&(a.ref=r?ad(r,o):o),y.cloneElement(s,a)}return y.Children.count(s)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var BJ=Symbol("radix.slottable");function zJ(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===BJ}function WJ(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function HJ(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var qJ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],GJ=qJ.reduce((t,e)=>{const n=UJ(`Primitive.${e}`),r=y.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),KJ="Separator",yA="horizontal",QJ=["horizontal","vertical"],kM=y.forwardRef((t,e)=>{const{decorative:n,orientation:r=yA,...s}=t,i=YJ(r)?r:yA,a=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return h.jsx(GJ.div,{"data-orientation":i,...a,...s,ref:e})});kM.displayName=KJ;function YJ(t){return QJ.includes(t)}var NM=kM;const xp=y.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>h.jsx(NM,{ref:s,decorative:n,orientation:e,className:he("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));xp.displayName=NM.displayName;const XJ=ud("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),DM=y.forwardRef(({className:t,variant:e,...n},r)=>h.jsx("div",{ref:r,role:"alert",className:he(XJ({variant:e}),t),...n}));DM.displayName="Alert";const ZJ=y.forwardRef(({className:t,...e},n)=>h.jsx("h5",{ref:n,className:he("mb-1 font-medium leading-none tracking-tight",t),...e}));ZJ.displayName="AlertTitle";const OM=y.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:he("text-sm [&_p]:leading-relaxed",t),...e}));OM.displayName="AlertDescription";function JJ({score:t,label:e,showText:n=!0}){const r=o=>o>=70?"bg-green-500 hover:bg-green-600":o>=50?"bg-yellow-500 hover:bg-yellow-600":o>=30?"bg-orange-500 hover:bg-orange-600":"bg-red-500 hover:bg-red-600",s=o=>o>=70?"Excellent":o>=50?"Good":o>=30?"Fair":"Poor",i=o=>o>=70?"":o>=50?"":o>=30?"":"";return h.jsxs("div",{className:"flex items-center gap-2",children:[e&&h.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e,":"]}),h.jsxs(au,{className:`${r(t)} text-white border-0`,children:[i(t)," ",t,"/100 ",n&&`- ${s(t)}`]})]})}function eee({photo:t}){const{analysis:e}=t;return e?h.jsxs(Fe,{className:"w-full",children:[h.jsxs(mt,{children:[h.jsx("img",{src:t.photoUrl,alt:"Profile photo",className:"w-full h-48 object-cover rounded-lg mb-4"}),h.jsxs(gt,{className:"flex items-center justify-between",children:[h.jsx("span",{children:"Photo Quality"}),h.jsx(JJ,{score:e.overallScore,showText:!1})]})]}),h.jsxs(Ft,{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsxs("div",{className:"flex justify-between mb-2",children:[h.jsx("span",{className:"text-sm font-medium",children:"Sharpness"}),h.jsxs("span",{className:"text-sm text-gray-600",children:[e.blur.score,"/100"]})]}),h.jsx(rl,{value:e.blur.score,className:"h-2"}),h.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[e.blur.severity==="sharp"&&" Image is sharp and clear",e.blur.severity==="slight-blur"&&" Slightly blurry",e.blur.severity==="blurry"&&" Blurry - consider a sharper photo",e.blur.severity==="very-blurry"&&" Very blurry - please replace"]})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex justify-between mb-2",children:[h.jsx("span",{className:"text-sm font-medium",children:"Lighting"}),h.jsxs("span",{className:"text-sm text-gray-600",children:[e.lighting.score,"/100"]})]}),h.jsx(rl,{value:e.lighting.score,className:"h-2"}),h.jsxs("div",{className:"text-xs text-gray-500 mt-1 space-y-1",children:[h.jsxs("p",{children:["Brightness: ",e.lighting.brightness,"/100  Contrast: ",e.lighting.contrast,"/100"]}),e.lighting.issues.length>0&&h.jsx("div",{className:"text-orange-600",children:e.lighting.issues.map((n,r)=>h.jsxs("p",{children:[" ",n]},r))})]})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex justify-between mb-2",children:[h.jsx("span",{className:"text-sm font-medium",children:"Smile"}),h.jsxs("span",{className:"text-sm text-gray-600",children:[e.smile.score,"/100"]})]}),h.jsx(rl,{value:e.smile.score,className:"h-2"}),h.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[!e.smile.faceDetected&&" No face detected",e.smile.faceDetected&&e.smile.confidence==="clear-smile"&&" Clear smile - great!",e.smile.faceDetected&&e.smile.confidence==="slight-smile"&&" Slight smile",e.smile.faceDetected&&e.smile.confidence==="neutral"&&" Neutral expression"]})]}),e.warnings.length>0&&h.jsx(DM,{className:"border-orange-500 bg-orange-50",children:h.jsx(OM,{children:h.jsxs("div",{className:"space-y-1",children:[h.jsx("p",{className:"font-medium text-sm",children:"Recommendations:"}),e.warnings.map((n,r)=>h.jsxs("p",{className:"text-sm",children:[" ",n]},r))]})})})]})]}):h.jsx(Fe,{children:h.jsxs(Ft,{className:"p-4",children:[h.jsx("img",{src:t.photoUrl,alt:"Profile photo",className:"w-full h-48 object-cover rounded-lg mb-4"}),h.jsx("p",{className:"text-sm text-gray-500",children:"Analysis not yet available"})]})})}function tee({photos:t}){const e=t.filter(a=>a.analysis);if(e.length===0)return null;const n=Math.round(e.reduce((a,l)=>{var c;return a+(((c=l.analysis)==null?void 0:c.overallScore)||0)},0)/e.length),r=Math.round(e.reduce((a,l)=>{var c;return a+(((c=l.analysis)==null?void 0:c.blur.score)||0)},0)/e.length),s=Math.round(e.reduce((a,l)=>{var c;return a+(((c=l.analysis)==null?void 0:c.lighting.score)||0)},0)/e.length);Math.round(e.reduce((a,l)=>{var c;return a+(((c=l.analysis)==null?void 0:c.smile.score)||0)},0)/e.length);const i=e.filter(a=>{var l;return(l=a.analysis)==null?void 0:l.smile.hasSmile}).length,o=e.filter(a=>{var l;return(l=a.analysis)==null?void 0:l.smile.faceDetected}).length;return h.jsxs(Fe,{children:[h.jsx(mt,{children:h.jsx(gt,{children:"Profile Summary"})}),h.jsxs(Ft,{children:[h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("p",{className:"text-3xl font-bold text-primary",children:n}),h.jsx("p",{className:"text-sm text-gray-600",children:"Overall Quality"})]}),h.jsxs("div",{className:"text-center",children:[h.jsx("p",{className:"text-3xl font-bold text-blue-600",children:r}),h.jsx("p",{className:"text-sm text-gray-600",children:"Avg Sharpness"})]}),h.jsxs("div",{className:"text-center",children:[h.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:s}),h.jsx("p",{className:"text-sm text-gray-600",children:"Avg Lighting"})]}),h.jsxs("div",{className:"text-center",children:[h.jsxs("p",{className:"text-3xl font-bold text-green-600",children:[i,"/",o]}),h.jsx("p",{className:"text-sm text-gray-600",children:"Photos with Smile"})]})]}),n<50&&h.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[h.jsx("p",{className:"text-sm font-medium text-orange-800",children:" Recommendation"}),h.jsx("p",{className:"text-sm text-orange-700 mt-1",children:"Your profile could benefit from higher quality photos. Consider replacing photos with low scores."})]}),i<o/2&&o>0&&h.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-3",children:[h.jsx("p",{className:"text-sm font-medium text-blue-800",children:" Tip"}),h.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Profiles with more smiling photos tend to get better engagement. Consider adding more photos where you're smiling!"})]})]})]})}const nee=({feedback:t,index:e=1})=>h.jsxs("div",{className:"space-y-4","aria-label":`Response ${e} feedback`,children:[h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"space-y-1",children:[h.jsx("h4",{className:"font-semibold text-base","aria-label":`Question ${e}`,children:t.question}),h.jsx("div",{className:"bg-muted p-3 rounded-lg border border-border/50",children:h.jsxs("p",{className:"text-sm text-muted-foreground","aria-label":`Answer to question ${e}`,children:['"',t.answer,'"']})})]}),h.jsxs("div",{className:"flex flex-wrap gap-2",children:[h.jsxs(au,{variant:"secondary",className:"text-xs","aria-label":"Word count",children:[t.metrics.word_count," words"]}),h.jsxs(au,{variant:"secondary",className:"text-xs","aria-label":"Sentence count",children:[t.metrics.sentence_count," sentences"]}),t.metrics.has_specific_examples&&h.jsx(au,{variant:"secondary",className:"text-xs bg-green-50 text-green-700","aria-label":"Has specific examples",children:"Specific Examples "})]})]}),h.jsx(xp,{className:"my-4"}),h.jsxs("div",{className:"space-y-3 pl-4 border-l-2 border-primary/20",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Pf,{className:"w-4 h-4 text-primary flex-shrink-0","aria-hidden":!0}),h.jsx("h5",{className:"font-semibold text-sm",children:"Analysis"})]}),h.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed","aria-label":"LLM analysis feedback",children:t.analysis})]}),t.personality_context&&h.jsx("div",{className:"pt-2 text-xs text-muted-foreground bg-primary/5 p-2 rounded",children:h.jsxs("p",{children:[h.jsx("span",{className:"font-medium",children:"Personalized for:"})," ",t.personality_context.dating_goal," "," ",t.personality_context.conversation_style]})})]}),t.strengths.length>0&&h.jsxs("div",{className:"space-y-3 pl-4 border-l-2 border-green-500/20",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(M4,{className:"w-4 h-4 text-green-600 flex-shrink-0","aria-hidden":!0}),h.jsx("h5",{className:"font-semibold text-sm text-green-700",children:"Strengths"})]}),h.jsx("ul",{className:"space-y-2",children:t.strengths.map((n,r)=>h.jsxs("li",{className:"text-sm text-muted-foreground flex gap-3","aria-label":`Strength ${r+1}`,children:[h.jsx("span",{className:"text-green-600 font-semibold flex-shrink-0",children:""}),h.jsx("span",{children:n})]},r))})]}),t.suggestions.length>0&&h.jsxs("div",{className:"space-y-3 pl-4 border-l-2 border-orange-500/20",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(X4,{className:"w-4 h-4 text-orange-600 flex-shrink-0","aria-hidden":!0}),h.jsx("h5",{className:"font-semibold text-sm text-orange-700",children:"Suggestions for Improvement"})]}),h.jsx("ul",{className:"space-y-2",children:t.suggestions.map((n,r)=>h.jsxs("li",{className:"text-sm text-muted-foreground flex gap-3","aria-label":`Suggestion ${r+1}`,children:[h.jsx("span",{className:"text-orange-600 font-semibold flex-shrink-0",children:""}),h.jsx("span",{children:n})]},r))})]})]}),ree=()=>{const{id:t}=w6(),[e,n]=y.useState(null),[r,s]=y.useState([]),[i,o]=y.useState([]),[a,l]=y.useState(!0),[c,d]=y.useState([]),[f,p]=y.useState(!1),[m,b]=y.useState(!1),v=ia(),{toast:x}=sa();y.useEffect(()=>{w()},[t]),y.useEffect(()=>{if(e&&(e.status==="pending"||e.status==="processing")){const C={current:0},M=60,A=setInterval(()=>{if(C.current++,C.current>=M){clearInterval(A),x({title:"Analysis Taking Longer Than Expected",description:"Please refresh the page to check status",variant:"destructive"});return}w()},5e3);return()=>clearInterval(A)}},[e==null?void 0:e.status]);const w=async()=>{if(t){l(!0);try{const C=await Bo.getAnalysis(t);n(C.analysis),s(C.photos),o(C.textResponses),await E()}catch(C){console.error("Error loading analysis:",C),x({title:"Error",description:C.message||"Failed to load analysis",variant:"destructive"}),C.message.includes("not found")&&v("/dashboard")}finally{l(!1)}}},E=async()=>{if(t)try{const C=await Bo.getImageAnalysisResults(t);d(C.photos),b(C.photos.some(M=>M.analysis!==null))}catch(C){console.log("Image analysis not yet available:",C)}},T=async()=>{if(t){p(!0);try{await Bo.analyzeImages(t),x({title:"Analysis Started",description:"Your photos are being analyzed. This may take a few moments..."}),setTimeout(async()=>{await E(),p(!1),x({title:"Analysis Complete",description:"Your photo quality analysis is ready!"})},1e4)}catch(C){console.error("Error analyzing images:",C),x({title:"Error",description:C.message||"Failed to analyze images",variant:"destructive"}),p(!1)}}},I=(C,M,A)=>h.jsxs("div",{className:"space-y-2",role:"group","aria-label":`${C} score`,children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{className:"text-sm font-medium",children:C}),h.jsxs("span",{className:"text-sm font-bold",children:[M,"/100"]})]}),h.jsx(rl,{value:M,className:"h-2","aria-valuenow":M,"aria-label":`${C} progress`}),A]});return a?h.jsx("div",{className:"min-h-screen flex items-center justify-center",role:"status","aria-live":"polite","aria-label":"Loading analysis",children:h.jsx("div",{className:"text-center",children:h.jsx("p",{className:"text-muted-foreground",children:"Loading analysis..."})})}):e?h.jsxs("div",{className:"min-h-screen bg-background relative overflow-hidden",role:"main","aria-label":"Profile analysis results",children:[h.jsxs("div",{className:"fixed inset-0 -z-10",children:[h.jsx("div",{className:"absolute inset-0",style:{background:"var(--gradient-mesh)"}}),h.jsx("div",{className:"absolute top-0 right-1/3 w-96 h-96 bg-primary/5 rounded-full blur-3xl"}),h.jsx("div",{className:"absolute bottom-0 left-1/3 w-96 h-96 bg-accent/5 rounded-full blur-3xl"})]}),h.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl relative",children:[h.jsx("div",{className:"flex items-center justify-between mb-6",children:h.jsxs(Oe,{variant:"ghost",onClick:()=>v("/"),"aria-label":"Back to Dashboard",children:[h.jsx(m0,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]})}),h.jsxs("div",{className:"mb-8",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx("h1",{className:"text-3xl font-bold","aria-label":"Profile Analysis title",children:"Profile Analysis"}),h.jsx(au,{variant:e.status==="completed"?"default":"secondary",className:e.status==="completed"?"bg-green-500":e.status==="processing"?"bg-blue-500":e.status==="failed"?"bg-red-500":"","aria-label":`Analysis status: ${e.status}`,children:e.status})]}),h.jsxs("p",{className:"text-muted-foreground","aria-label":"Analysis creation date",children:["Created on ",new Date(e.created_at).toLocaleDateString()]})]}),(e.status==="pending"||e.status==="processing")&&h.jsx(Fe,{className:"mb-8",role:"status","aria-live":"polite","aria-label":"Analysis processing status",children:h.jsx(Ft,{className:"pt-6",children:h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx(vT,{className:"w-8 h-8 animate-spin text-primary"}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold",children:"Analysis in Progress"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Your profile is being analyzed. This typically takes 1-3 minutes."})]})]})})}),e.status==="failed"&&h.jsx(Fe,{className:"mb-8 border-destructive",role:"alert","aria-label":"Analysis failed",children:h.jsx(Ft,{className:"pt-6",children:h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx(V4,{className:"w-8 h-8 text-destructive"}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold text-destructive",children:"Analysis Failed"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"There was an error analyzing your profile. Please try uploading again."})]})]})})}),r.length>0&&h.jsxs("div",{className:"mb-8",children:[!m&&!f&&h.jsx(Fe,{className:"mb-6 bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-950 dark:to-pink-950 border-purple-200",children:h.jsx(Ft,{className:"pt-6",children:h.jsxs("div",{className:"flex items-start gap-4",children:[h.jsx(Pf,{className:"w-8 h-8 text-purple-600 flex-shrink-0 mt-1"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Analyze Photo Quality"}),h.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Get AI-powered insights on your photo quality including blur detection, lighting analysis, and smile recognition."}),h.jsxs(Oe,{onClick:T,disabled:f,children:[h.jsx(Pf,{className:"w-4 h-4 mr-2"}),"Analyze Photos"]})]})]})})}),f&&h.jsx(Fe,{className:"mb-6",children:h.jsx(Ft,{className:"pt-6",children:h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx(vT,{className:"w-8 h-8 animate-spin text-primary"}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold",children:"Analyzing Photo Quality..."}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Running blur detection, lighting analysis, and smile recognition. This may take a moment..."})]})]})})}),m&&c.length>0&&h.jsxs(h.Fragment,{children:[h.jsx(tee,{photos:c}),h.jsx("div",{className:"mt-6 grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:c.map(C=>h.jsx(eee,{photo:C},C.photoId))})]})]}),r.length>0&&h.jsxs(Fe,{className:"mb-8","aria-label":"Photo analysis section",children:[h.jsxs(mt,{children:[h.jsxs(gt,{className:"flex items-center gap-2","aria-label":"Photo Analysis title",children:[h.jsx(q4,{className:"w-5 h-5","aria-hidden":!0}),"Photo Analysis"]}),h.jsxs(Dt,{children:["Detailed analysis of your ",r.length," photos"]})]}),h.jsx(Ft,{children:h.jsx("div",{className:"grid gap-6",children:r.map((C,M)=>h.jsxs("div",{className:"space-y-4","aria-label":`Photo ${M+1} analysis`,children:[h.jsxs("div",{className:"flex items-start gap-4",children:[h.jsx("div",{className:"w-32 h-32 rounded-lg overflow-hidden bg-muted flex-shrink-0",children:h.jsx("img",{src:C.photo_url,alt:`Photo ${M+1}`,className:"w-full h-full object-cover",onError:A=>{A.currentTarget.src="https://placehold.co/128x128?text=Photo"}})}),h.jsxs("div",{className:"flex-1 space-y-4",children:[h.jsxs("h4",{className:"font-semibold",children:["Photo ",M+1]}),C.analysis_result&&e.status==="completed"?h.jsxs("div",{className:"space-y-3",children:[I("Lighting Quality",C.analysis_result.lighting||0),I("Sharpness",C.analysis_result.sharpness||0),I("Face Visibility",C.analysis_result.face_visibility||0),I("Eye Contact",C.analysis_result.eye_contact||0),C.analysis_result.notes&&h.jsx("p",{className:"text-sm text-muted-foreground pt-2",children:C.analysis_result.notes})]}):e.status==="completed"?h.jsx("p",{className:"text-sm text-muted-foreground",children:"No analysis data available"}):h.jsx("p",{className:"text-sm text-muted-foreground",children:"Analyzing..."})]})]}),M<r.length-1&&h.jsx(xp,{})]},C.id))})})]}),i.length>0&&h.jsxs(Fe,{"aria-label":"Text analysis section",children:[h.jsxs(mt,{children:[h.jsxs(gt,{className:"flex items-center gap-2","aria-label":"Text Analysis title",children:[h.jsx(wP,{className:"w-5 h-5","aria-hidden":!0}),"Text Analysis"]}),h.jsxs(Dt,{children:["Personality-aware analysis of your ",i.length," prompt responses"]})]}),h.jsx(Ft,{children:h.jsx("div",{className:"space-y-6",children:i.map((C,M)=>h.jsxs("div",{children:[C.analysis_result?h.jsx(nee,{feedback:C.analysis_result,index:M+1}):e.status==="completed"?h.jsx("p",{className:"text-sm text-muted-foreground",children:"No analysis data available"}):h.jsx("p",{className:"text-sm text-muted-foreground",children:"Analyzing..."}),M<i.length-1&&h.jsx(xp,{className:"mt-6"})]},C.id))})})]}),e.status==="completed"&&h.jsx(Fe,{className:"mt-8 bg-primary/5 border-primary/20",role:"status","aria-live":"polite","aria-label":"Analysis complete",children:h.jsx(Ft,{className:"pt-6",children:h.jsxs("div",{className:"flex items-start gap-4",children:[h.jsx(D4,{className:"w-6 h-6 text-primary flex-shrink-0 mt-1"}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold mb-2",children:"Analysis Complete!"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Your profile has been thoroughly analyzed. Review the metrics above for detailed insights and actionable suggestions to improve your dating profile."})]})]})})})]})]}):h.jsx("div",{className:"min-h-screen flex items-center justify-center",role:"main","aria-label":"Demo results",children:h.jsxs("div",{className:"text-center",children:[h.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Demo Results"}),h.jsx("p",{className:"text-muted-foreground mb-4",children:"Supabase is disabled. This is a demo view."})]})})},see=()=>{const t=Yp();return y.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),h.jsxs("div",{className:"flex min-h-screen items-center justify-center bg-background relative overflow-hidden",children:[h.jsxs("div",{className:"fixed inset-0 -z-10",children:[h.jsx("div",{className:"absolute inset-0",style:{background:"var(--gradient-mesh)"}}),h.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-primary/5 rounded-full blur-3xl"})]}),h.jsxs("div",{className:"text-center relative",children:[h.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),h.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),h.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})]})},iee=new $U,oee=()=>h.jsx(zU,{client:iee,children:h.jsxs(pU,{children:[h.jsx(YF,{}),h.jsx(I5,{}),h.jsx(F6,{children:h.jsx(qH,{children:h.jsxs(j6,{children:[h.jsx(vo,{path:"/",element:h.jsx(CY,{})}),h.jsx(vo,{path:"/auth",element:h.jsx(kX,{})}),h.jsx(vo,{path:"/dashboard",element:h.jsx(Og,{children:h.jsx(MX,{})})}),h.jsx(vo,{path:"/upload",element:h.jsx(Og,{children:h.jsx(jJ,{})})}),h.jsx(vo,{path:"/results/:id",element:h.jsx(Og,{children:h.jsx(ree,{})})}),h.jsx(vo,{path:"*",element:h.jsx(see,{})})]})})})]})});$I(document.getElementById("root")).render(h.jsx(oee,{}));
